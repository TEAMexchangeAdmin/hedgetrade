{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/_global/BalRadio/BalRadio.vue?6852","webpack:///./src/components/cards/TradeCard/TradePairToggle.vue?3dc3","webpack:///./src/constants/queryKeys.ts","webpack:///./src/components/_global/BalToggle/BalToggle.vue","webpack:///./src/components/_global/BalToggle/BalToggle.vue?2397","webpack:///./src/components/_global/BalToggle/BalToggle.vue?7618","webpack:///./src/components/cards/TradeCard/TradePair.vue?b5d4","webpack:///./src/components/_global/BalTable/BalTable.vue?6325","webpack:///./src/composables/useAccountBalances.ts","webpack:///./src/components/cards/TradeCard/GasReimbursement.vue?a626","webpack:///./src/components/_global/BalTabs/BalTabs.vue","webpack:///./src/components/_global/BalTabs/BalTabs.vue?2181","webpack:///./src/components/_global/BalTabs/BalTabs.vue?e434","webpack:///./src/lib/utils/logging.ts","webpack:///./src/lib/utils/balancer/web3.ts","webpack:///./src/constants/tokenlists.ts","webpack:///./src/components/_global/BalBtnGroup/BalBtnGroup.vue","webpack:///./src/components/_global/BalBtnGroup/BalBtnGroup.vue?e5a9","webpack:///./src/components/_global/BalBtnGroup/BalBtnGroup.vue?959d","webpack:///./src/components/_global/BalCard/BalCard.vue?3f6a","webpack:///./src/components/_global/BalSelectInput/BalSelectInput.vue","webpack:///./src/components/_global/BalSelectInput/BalSelectInput.vue?f211","webpack:///./src/components/_global/BalSelectInput/BalSelectInput.vue?34ab","webpack:///./src/assets/images/connectors/walletlink.svg","webpack:///./src/store/modules/account.ts","webpack:///./src/components/_global/BalAlert/BalAlert.vue?7a42","webpack:///./src/components/heros/AppHero.vue?a79a","webpack:///./src/assets/images/connectors/frame.svg","webpack:///./src/components/navs/AppNav/AppNavSettings.vue?35dc","webpack:///./src/assets/images/connectors/status.svg","webpack:///./src/store/modules/trade.ts","webpack:///./src/assets/images/connectors/metamask.svg","webpack:///./src/store/modules sync nonrecursive \\.ts$","webpack:///./src/components/_global/BalLoadingBlock/BalLoadingBlock.vue?e2e3","webpack:///./src/assets/images/connectors/default.svg","webpack:///./src/lib/decorators/return-checksum.decorator.ts","webpack:///./src/services/coingecko/api/price.service.ts","webpack:///./src/services/coingecko/coingecko.service.ts","webpack:///./src/services/coingecko.ts","webpack:///./src/components/_global/BalRangeInput/BalRangeInput.vue?f5b9","webpack:///./src/components/_global/BalPopover/BalPopover.vue?9d56","webpack:///./src/assets/images/icons/networks sync ^\\.\\/.*\\.svg$","webpack:///./src/constants/app.ts","webpack:///./src/lib/utils/balancer/contract.ts","webpack:///./src/components/_global/BalIcon/BalIcon.vue","webpack:///./src/components/_global/BalIcon/BalIcon.vue?1c24","webpack:///./src/components/_global/BalIcon/BalIcon.vue?de9b","webpack:///./src/assets/images/icons/networks/ethereum.svg","webpack:///./src/components/_global/BalBlankSlate/BalBlankSlate.vue","webpack:///./src/components/_global/BalBlankSlate/BalBlankSlate.vue?96d0","webpack:///./src/components/_global/BalBlankSlate/BalBlankSlate.vue?6e91","webpack:///./src/components/_global/icons/ArrowDownIcon.vue","webpack:///./src/components/_global/icons/ArrowDownIcon.vue?daee","webpack:///./src/components/modals/TradePreviewModalGP.vue?c1dd","webpack:///./src/assets/images/logo-dark.png","webpack:///./src/assets/images/connectors/imtoken.svg","webpack:///./src/components/_global/icons/SpinnerIcon.vue","webpack:///./src/components/_global/icons/SpinnerIcon.vue?bd1e","webpack:///./src/pages/Trade.vue?9b58","webpack:///./src/components/_global/BalCard/BalCard.vue","webpack:///./src/components/_global/BalCard/BalCard.vue?0122","webpack:///./src/components/_global/BalCard/BalCard.vue?1097","webpack:///./src/components/_global/BalModal/BalModal.vue","webpack:///./src/components/animate/AnimatePresence.vue","webpack:///./src/components/animate/AnimatePresence.vue?e63d","webpack:///./src/components/animate/AnimatePresence.vue?b566","webpack:///./src/components/_global/BalModal/BalModal.vue?f6c0","webpack:///./src/components/_global/BalModal/BalModal.vue?27d2","webpack:///./src/components/_global/BalPopover/BalPopover.vue","webpack:///./src/components/_global/BalPopover/BalPopover.vue?4719","webpack:///./src/components/_global/BalPopover/BalPopover.vue?bdbe","webpack:///./src/lib/utils/balancer/helpers/sor/sorManager.ts","webpack:///./src/components/_global/BalRangeInput/BalRangeInput.vue","webpack:///./src/components/_global/BalRangeInput/BalRangeInput.vue?06bb","webpack:///./src/components/_global/icons/MinusSquareIcon.vue","webpack:///./src/components/_global/icons/MinusSquareIcon.vue?1e65","webpack:///./src/components/_global/BalBlankSlate/BalBlankSlate.vue?5b89","webpack:///./src/components/_global/icons/StarsIcon.vue","webpack:///./src/components/_global/icons/StarsIcon.vue?9850","webpack:///./src/locales sync [\\w-]+\\.json$","webpack:///./src/lib/utils/tokenlists.ts","webpack:///./src/components/_global/BalChip/BalChip.vue","webpack:///./src/components/_global/BalChip/BalChip.vue?8def","webpack:///./src/components/_global/BalChip/BalChip.vue?fcb3","webpack:///./src/components/_global/BalLoadingBlock/BalLoadingBlock.vue","webpack:///./src/components/_global/BalLoadingBlock/BalLoadingBlock.vue?da16","webpack:///./src/components/_global/BalLoadingBlock/BalLoadingBlock.vue?cc2b","webpack:///./src/components/_global/BalTextInput/BalTextInput.vue","webpack:///./src/components/_global/BalTextInput/BalTextInput.vue?efd1","webpack:///./src/components/_global/BalTextInput/BalTextInput.vue?410e","webpack:///./src/lib/utils/profile.ts","webpack:///./src/services/web3/connectors/connector.ts","webpack:///./src/services/web3/connectors/metamask/metamask.connector.ts","webpack:///./src/services/web3/connectors/trustwallet/walletconnect.connector.ts","webpack:///./src/services/web3/connectors/walletlink/walletlink.connector.ts","webpack:///./src/services/web3/connectors/portis/portis.connector.ts","webpack:///./src/services/web3/web3.plugin.ts","webpack:///./src/services/gas-price/providers/blocknative.provider.ts","webpack:///./src/services/gas-price/providers/polygon.provider.ts","webpack:///./src/services/gas-price/gas-price.service.ts","webpack:///./src/components/_global/icons/PlusSquareIcon.vue","webpack:///./src/components/_global/icons/PlusSquareIcon.vue?2a48","webpack:///./src/components/_global/BalTabs/BalTabs.vue?8da6","webpack:///./src/App.vue?b041","webpack:///./src/components/_global/BalLoadingIcon/BalLoadingIcon.vue","webpack:///./src/components/_global/BalLoadingIcon/BalLoadingIcon.vue?b5fa","webpack:///./src/components/images/Avatar.vue","webpack:///./src/components/images/Avatar.vue?a1a2","webpack:///./src/assets/images/icons/networks/polygon.svg","webpack:///./src/components/_global/BalModal/BalModal.vue?40d8","webpack:///./src/store/modules/market.ts","webpack:///./src/composables/useNumbers.ts","webpack:///./src/components/_global/BalChip/BalChip.vue?5758","webpack:///./src/composables/useTokensStore.ts","webpack:///./src/composables/useConfig.ts","webpack:///./src/lib/utils/balancer/contentHash.ts","webpack:///./src/components/_global/BalTable/BalTable.vue","webpack:///./src/components/_global/BalTable/BalTable.vue?447f","webpack:///./src/components/_global/BalTable/BalTable.vue?7389","webpack:///./src/components/navs/AppNav/AppNav.vue?b0e0","webpack:///./src/components/_global/BalForm/BalForm.vue","webpack:///./src/components/_global/BalForm/BalForm.vue?c596","webpack:///./src/components/_global/BalForm/BalForm.vue?77ee","webpack:///./src/components/_global/BalLink/BalLink.vue","webpack:///./src/components/_global/BalLink/BalLink.vue?9740","webpack:///./src/store/modules/app.ts","webpack:///./src/components/_global/BalBtn/BalBtn.vue?ce25","webpack:///./src/components/_global/BalAlert/BalAlert.vue","webpack:///./src/components/_global/BalAlert/BalAlert.vue?6040","webpack:///./src/components/_global/BalAlert/BalAlert.vue?a5ae","webpack:///./src/assets/images/connectors sync ^\\.\\/.*\\.svg$","webpack:///./src/composables/useTokens.ts","webpack:///./src/assets/images/icons/tokens.svg","webpack:///./src/components/_global/BalRadio/BalRadio.vue","webpack:///./src/components/_global/BalRadio/BalRadio.vue?cf5d","webpack:///./src/components/_global/BalRadio/BalRadio.vue?4960","webpack:///./src/components/_global/BalCheckbox/BalCheckbox.vue?4333","webpack:///./src/lib/utils/provider.ts","webpack:///./src/constants/tokens.ts","webpack:///./src/lib/utils/balancer/tokens.ts","webpack:///./src/components/navs/AppNav/AppNavToggle.vue?3aad","webpack:///./src/components/cards/TradeCard/TradeRoute.vue?7c60","webpack:///./src/components/_global/BalBtn/BalBtn.vue","webpack:///./src/components/_global/BalBtn/BalBtn.vue?4935","webpack:///./src/components/_global/BalBtn/BalBtn.vue?4171","webpack:///./src/App.vue","webpack:///./src/composables/useAllowances.ts","webpack:///./src/plugins/blocknative.ts","webpack:///./src/composables/useWeb3.ts","webpack:///./src/composables/useBlocknative.ts","webpack:///./src/composables/useWeb3Watchers.ts","webpack:///./src/components/navs/AppNav/AppNav.vue","webpack:///./src/composables/useBreakpoints.ts","webpack:///./src/components/images/AppLogo.vue","webpack:///./src/components/images/AppIcon.vue","webpack:///./src/components/images/AppIcon.vue?8d48","webpack:///./src/components/images/AppIcon.vue?36ea","webpack:///./src/components/images/AppLogo.vue?932c","webpack:///./src/components/images/AppLogo.vue?dbba","webpack:///./src/components/navs/AppNav/AppNavAlert.vue","webpack:///./src/components/navs/AppNav/AppNavAlert.vue?599b","webpack:///./src/components/navs/AppNav/AppNavAlert.vue?710f","webpack:///./src/components/navs/AppNav/AppNavToggle.vue","webpack:///./src/components/navs/AppNav/AppNavToggle.vue?f8f2","webpack:///./src/components/navs/AppNav/AppNavToggle.vue?071b","webpack:///./src/components/navs/AppNav/AppNavActions.vue","webpack:///./src/constants/links.ts","webpack:///./src/components/navs/AppNav/AppNavAccountBtn.vue","webpack:///./src/components/navs/AppNav/AppNavSettings.vue","webpack:///./src/plugins/authOptions.ts","webpack:///./src/components/forms/AppSlippageForm.vue","webpack:///./src/components/forms/AppSlippageForm.vue?9b89","webpack:///./src/components/forms/AppSlippageForm.vue?ee46","webpack:///./src/constants/options.ts","webpack:///./src/components/navs/AppNav/AppNavSettings.vue?fa16","webpack:///./src/components/navs/AppNav/AppNavAccountBtn.vue?4e52","webpack:///./src/components/navs/AppNav/AppNavAccountBtn.vue?67ec","webpack:///./src/components/navs/AppNav/AppNavClaimBtn.vue","webpack:///./src/composables/useNotify.ts","webpack:///./src/services/claim.ts","webpack:///./src/composables/queries/useUserClaimsQuery.ts","webpack:///./src/components/navs/AppNav/AppNavClaimBtn.vue?b232","webpack:///./src/components/navs/AppNav/AppNavClaimBtn.vue?72f4","webpack:///./src/components/navs/AppNav/AppNavActions.vue?09aa","webpack:///./src/components/navs/AppNav/AppNavActions.vue?a8d6","webpack:///./src/components/navs/AppNav/AppNavNetworkSelect.vue","webpack:///./src/components/navs/AppNav/AppNavNetworkSelect.vue?08b2","webpack:///./src/components/navs/AppNav/AppNavNetworkSelect.vue?4eff","webpack:///./src/components/navs/AppNav/AppNav.vue?f86d","webpack:///./src/components/heros/AppHero.vue","webpack:///./src/constants/pools.ts","webpack:///./src/services/balancer/subgraph/client.ts","webpack:///./src/services/balancer/subgraph/entities/pools/query.ts","webpack:///./src/lib/utils/balancer/price.ts","webpack:///./src/lib/utils/date.ts","webpack:///./src/lib/utils/liquidityMining/index.ts","webpack:///./src/services/balancer/subgraph/entities/pools/index.ts","webpack:///./src/services/balancer/subgraph/entities/poolShares/query.ts","webpack:///./src/services/balancer/subgraph/entities/poolShares/index.ts","webpack:///./src/services/balancer/subgraph/entities/poolActivities/query.ts","webpack:///./src/services/balancer/subgraph/entities/poolActivities/index.ts","webpack:///./src/services/balancer/subgraph/entities/poolSnapshots/query.ts","webpack:///./src/services/balancer/subgraph/entities/poolSnapshots/index.ts","webpack:///./src/services/balancer/subgraph/service.ts","webpack:///./src/composables/queries/usePoolsQuery.ts","webpack:///./src/composables/queries/useUserPoolsQuery.ts","webpack:///./src/composables/pools/usePools.ts","webpack:///./src/components/heros/AppHero.vue?3e02","webpack:///./src/components/heros/AppHero.vue?857d","webpack:///./src/components/web3/WalletSelectModal.vue","webpack:///./src/components/web3/WalletButton.vue","webpack:///./src/components/web3/WalletButton.vue?2e9c","webpack:///./src/components/web3/WalletButton.vue?4b67","webpack:///./src/components/web3/WalletSelectModal.vue?252a","webpack:///./src/components/web3/WalletSelectModal.vue?6da2","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/store/index.ts","webpack:///./src/pages/Home.vue","webpack:///./src/components/inputs/TokenSearchInput.vue","webpack:///./src/components/modals/SelectTokenModal/SelectTokenModal.vue","webpack:///./src/components/lists/TokenListItem.vue","webpack:///./src/components/lists/TokenListItem.vue?4c0b","webpack:///./src/components/lists/TokenListItem.vue?9539","webpack:///./src/components/lists/TokenListsListItem.vue","webpack:///./src/components/lists/TokenListsListItem.vue?8ddb","webpack:///./src/components/lists/TokenListsListItem.vue?4367","webpack:///./src/components/modals/SelectTokenModal/Search.vue","webpack:///./src/components/modals/SelectTokenModal/Search.vue?a55a","webpack:///./src/components/modals/SelectTokenModal/SelectTokenModal.vue?f3b4","webpack:///./src/components/modals/SelectTokenModal/SelectTokenModal.vue?3515","webpack:///./src/components/inputs/TokenSearchInput.vue?0154","webpack:///./src/components/inputs/TokenSearchInput.vue?5844","webpack:///./src/components/tables/PoolsTable/PoolsTable.vue","webpack:///./src/components/tooltips/LiquidityMiningTooltip.vue","webpack:///./src/components/tooltips/LiquidityMiningTooltip.vue?30eb","webpack:///./src/components/tooltips/LiquidityMiningTooltip.vue?8831","webpack:///./src/components/tables/PoolsTable/TokenPills/TokenPills.vue","webpack:///./src/components/tables/PoolsTable/TokenPills/WeightedTokenPill.vue","webpack:///./src/components/tables/PoolsTable/TokenPills/WeightedTokenPill.vue?da82","webpack:///./src/components/tables/PoolsTable/TokenPills/WeightedTokenPill.vue?3640","webpack:///./src/components/tables/PoolsTable/TokenPills/StableTokenPill.vue","webpack:///./src/components/tables/PoolsTable/TokenPills/StableTokenPill.vue?8ce3","webpack:///./src/components/tables/PoolsTable/TokenPills/StableTokenPill.vue?7bd8","webpack:///./src/components/tables/PoolsTable/TokenPills/TokenPills.vue?8789","webpack:///./src/components/tables/PoolsTable/TokenPills/TokenPills.vue?bfdc","webpack:///./src/components/tables/PoolsTable/PoolsTable.vue?53f9","webpack:///./src/components/tables/PoolsTable/PoolsTable.vue?5a14","webpack:///./src/composables/pools/usePoolFilters.ts","webpack:///./src/pages/Home.vue?d81f","webpack:///./src/pages/Home.vue?0022","webpack:///./src/pages/Pool.vue","webpack:///./src/components/pages/pool/PoolChart.vue","webpack:///./src/components/pages/pool/PoolChart.vue?7a31","webpack:///./src/components/pages/pool/PoolChart.vue?883d","webpack:///./src/components/pages/pool/PoolStatCards.vue","webpack:///./src/components/pages/pool/PoolStatCards.vue?e343","webpack:///./src/components/pages/pool/PoolStatCards.vue?9b64","webpack:///./src/components/pages/pool/PoolBalancesCard.vue","webpack:///./src/components/pages/pool/PoolBalancesCard.vue?1244","webpack:///./src/components/pages/pool/PoolBalancesCard.vue?08de","webpack:///./src/components/pages/pool/PoolActionsCard/PoolActionsCard.vue","webpack:///./src/components/forms/pool_actions/InvestForm.vue","webpack:///./src/lib/utils/validations.ts","webpack:///./src/composables/useEthers.ts","webpack:///./src/composables/pools/useTokenApprovals.ts","webpack:///./src/composables/useSlippage.ts","webpack:///./src/lib/utils/balancer/stablePoolEncoding.ts","webpack:///./src/lib/utils/balancer/weightedPoolEncoding.ts","webpack:///./src/services/pool/exchange/serializers/JoinParams.ts","webpack:///./src/services/pool/exchange/serializers/ExitParams.ts","webpack:///./src/services/pool/exchange/index.ts","webpack:///./src/services/pool/calculator/weighted.ts","webpack:///./src/services/pool/calculator/stable.ts","webpack:///./src/services/pool/calculator/calculator.sevice.ts","webpack:///./src/components/forms/pool_actions/shared/FormTypeToggle.vue","webpack:///./src/components/forms/pool_actions/shared/FormTypeToggle.vue?a53d","webpack:///./src/components/forms/pool_actions/shared/FormTypeToggle.vue?b7d3","webpack:///./src/components/forms/pool_actions/InvestForm.vue?6560","webpack:///./src/components/forms/pool_actions/InvestForm.vue?8dfd","webpack:///./src/components/forms/pool_actions/WithdrawForm.vue?7f5e","webpack:///./src/components/forms/pool_actions/WithdrawForm.vue","webpack:///./src/components/forms/pool_actions/WithdrawForm.vue?5ad2","webpack:///./src/components/cards/SuccessOverlay.vue","webpack:///./src/components/cards/SuccessOverlay.vue?5323","webpack:///./src/components/cards/SuccessOverlay.vue?1d8c","webpack:///./src/components/popovers/TradeSettingsPopover.vue?2234","webpack:///./src/components/popovers/TradeSettingsPopover.vue","webpack:///./src/components/popovers/TradeSettingsPopover.vue?b42d","webpack:///./src/components/pages/pool/PoolActionsCard/PoolActionsCard.vue?990d","webpack:///./src/components/pages/pool/PoolActionsCard/PoolActionsCard.vue?b367","webpack:///./src/components/pages/pool/PoolActivitiesCard/PoolActivitiesCard.vue","webpack:///./src/components/pages/pool/PoolActivitiesCard/Activities.vue","webpack:///./src/components/pages/pool/PoolActivitiesCard/Table.vue","webpack:///./src/components/pages/pool/PoolActivitiesCard/Table.vue?9f42","webpack:///./src/components/pages/pool/PoolActivitiesCard/Table.vue?67f5","webpack:///./src/components/pages/pool/PoolActivitiesCard/types.ts","webpack:///./src/composables/queries/usePoolActivitiesQuery.ts","webpack:///./src/composables/queries/usePoolUserActivitiesQuery.ts","webpack:///./src/components/pages/pool/PoolActivitiesCard/Activities.vue?603e","webpack:///./src/components/pages/pool/PoolActivitiesCard/Activities.vue?9374","webpack:///./src/components/pages/pool/PoolActivitiesCard/PoolActivitiesCard.vue?4234","webpack:///./src/components/pages/pool/PoolActivitiesCard/PoolActivitiesCard.vue?8f10","webpack:///./src/components/images/icons/GauntletIcon.vue","webpack:///./src/components/images/icons/GauntletIcon.vue?595a","webpack:///./src/components/images/icons/GauntletIcon.vue?d0cd","webpack:///./src/services/balancer/contracts/contracts/vault.ts","webpack:///./src/services/balancer/contracts/service.ts","webpack:///./src/composables/queries/usePoolQuery.ts","webpack:///./src/composables/queries/usePoolSnapshotsQuery.ts","webpack:///./src/pages/Pool.vue?4743","webpack:///./src/pages/Pool.vue?74a0","webpack:///./src/pages/Trade.vue","webpack:///./src/components/cards/TradeCard/TradeCard.vue","webpack:///./src/composables/trade/useTokenApproval.ts","webpack:///./src/composables/trade/useValidation.ts","webpack:///./src/lib/utils/balancer/wrapper.ts","webpack:///./src/lib/utils/balancer/swapper.ts","webpack:///./src/composables/trade/useSor.ts","webpack:///./src/components/cards/TradeCard/TradePair.vue","webpack:///./src/components/cards/TradeCard/TradePairToggle.vue","webpack:///./src/components/cards/TradeCard/TradePairToggle.vue?962d","webpack:///./src/components/cards/TradeCard/TradePairToggle.vue?58d4","webpack:///./src/components/cards/TradeCard/TradePair.vue?6030","webpack:///./src/components/cards/TradeCard/TradePair.vue?ac74","webpack:///./src/components/modals/TradePreviewModal.vue","webpack:///./src/components/modals/TradePreviewModal.vue?db07","webpack:///./src/components/modals/TradePreviewModal.vue?eaf8","webpack:///./src/components/cards/TradeCard/TradeRoute.vue","webpack:///./src/components/cards/TradeCard/TradeRoute.vue?5713","webpack:///./src/components/cards/TradeCard/TradeRoute.vue?2493","webpack:///./src/components/cards/TradeCard/GasReimbursement.vue","webpack:///./src/lib/utils/balancer/bal4gas.ts","webpack:///./src/components/cards/TradeCard/GasReimbursement.vue?8fb3","webpack:///./src/components/cards/TradeCard/GasReimbursement.vue?602a","webpack:///./src/components/cards/TradeCard/TradeCard.vue?3810","webpack:///./src/components/cards/TradeCard/TradeCard.vue?77b0","webpack:///./src/components/cards/TradeCardGP/TradeCardGP.vue","webpack:///./src/constants/network.ts","webpack:///./src/services/gnosis/utils.ts","webpack:///./src/constants/env.ts","webpack:///./src/services/gnosis/constants.ts","webpack:///./src/services/gnosis/signing.ts","webpack:///./src/services/gnosis/error.ts","webpack:///./src/services/gnosis/operator.service.ts","webpack:///./src/composables/trade/useGnosis.ts","webpack:///./src/composables/trade/useTrading.ts","webpack:///./src/composables/trade/useTokenApprovalGP.ts","webpack:///./src/components/modals/TradePreviewModalGP.vue","webpack:///./src/constants/currency.ts","webpack:///./src/components/modals/TradePreviewModalGP.vue?dbe4","webpack:///./src/components/modals/TradePreviewModalGP.vue?29a0","webpack:///./src/components/cards/TradeCardGP/TradePairGP.vue","webpack:///./src/components/cards/TradeCardGP/TradePairGP.vue?c1b4","webpack:///./src/components/cards/TradeCardGP/TradePairGP.vue?b428","webpack:///./src/components/cards/TradeCardGP/TradeCardGP.vue?4f17","webpack:///./src/components/cards/TradeCardGP/TradeCardGP.vue?9237","webpack:///./src/pages/Trade.vue?5010","webpack:///./src/pages/Trade.vue?47bb","webpack:///./src/plugins/router.ts","webpack:///./src/plugins/mixins.ts","webpack:///./src/plugins/vueQuery.ts","webpack:///./src/plugins/sentry.ts","webpack:///./src/plugins/directives.ts","webpack:///./src/plugins/components.ts","webpack:///./src/main.ts","webpack:///./src/components/_global/BalAsset/BalAsset.vue","webpack:///./src/components/_global/BalAsset/BalAsset.vue?f391","webpack:///./src/constants/fathom.ts","webpack:///./src/services/fathom/goals.ts","webpack:///./src/composables/useFathom.ts","webpack:///./src/services/web3/useVueWeb3.ts","webpack:///./src/components/_global/BalToggle/BalToggle.vue?316d","webpack:///./src/components/_global/BalSelectInput/BalSelectInput.vue?9fcf","webpack:///stories).)*\\.(js|ts|vue)$/","webpack:///./src/assets/images/connectors/portis.svg","webpack:///./tailwind.config.js","webpack:///./src/components/_global/BalTooltip/BalTooltip.vue?184c","webpack:///./src/components/navs/AppNav/AppNavAlert.vue?99b5","webpack:///./src/components/_global/BalLoadingIcon/BalLoadingIcon.vue?0b33","webpack:///./src/lib/config/index.ts","webpack:///./src/components/_global/BalLineChart/BalLineChart.vue","webpack:///./src/components/_global/BalLineChart/BalLineChart.vue?4fa1","webpack:///./src/components/_global/BalLineChart/BalLineChart.vue?c13b","webpack:///./src/lib/utils/balancer/ipfs.ts","webpack:///./src/components/_global/BalTextInput/BalTextInput.vue?a270","webpack:///./src/assets/images/logo-light.png","webpack:///./src/assets/images/connectors/trustwallet.svg","webpack:///./src/components/_global/BalAsset/BalAssetSet.vue","webpack:///./src/components/_global/BalAsset/BalAssetSet.vue?e178","webpack:///./src/components/_global/BalAsset/BalAssetSet.vue?b0aa","webpack:///./src/store/modules/web3.ts","webpack:///./src/services/config/config.service.ts","webpack:///./src/store/modules/index.ts","webpack:///./src/components/navs/AppNav/AppNavClaimBtn.vue?e874","webpack:///./src/components/_global/BalCheckbox/BalCheckbox.vue","webpack:///./src/components/_global/BalCheckbox/BalCheckbox.vue?1124","webpack:///./src/components/_global/BalCheckbox/BalCheckbox.vue?7265","webpack:///./src/components/popovers/TradeSettingsPopover.vue?7148","webpack:///./src/composables/useTailwind.ts","webpack:///./src/lib/utils/index.ts","webpack:///./src/assets/images/connectors/fortmatic.svg","webpack:///./src/components/_global/BalTooltip/BalTooltip.vue","webpack:///./src/components/_global/BalTooltip/BalTooltip.vue?31ea","webpack:///./src/components/_global/BalTooltip/BalTooltip.vue?8245","webpack:///./src/lib/utils/merkle.ts","webpack:///./src/components/_global/icons/LightBulbIcon.vue","webpack:///./src/components/_global/icons/LightBulbIcon.vue?a2ba","webpack:///./src/store/modules/registry.ts","webpack:///./src/locales/index.ts","webpack:///./src/plugins/i18n.ts","webpack:///./src/store/modules/alerts.ts","webpack:///./src/services/rpc-provider/rpc-provider.service.ts","webpack:///./src/assets/images/connectors/walletconnect.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","POOLS_ROOT_KEY","BALANCES_ROOT_KEY","CLAIMS_ROOT_KEY","QUERY_KEYS","Pools","All","tokens","User","account","Current","id","Snapshot","Activities","UserActivities","Balances","userNetwork","TokenLists","Claims","Tokens","Prices","Account","networkKey","Allowances","dstList","Profile","App","Chains","for","class","onClick","type","checked","modelValue","$attrs","label","inheritAttrs","emits","props","String","required","Boolean","default","color","validator","val","includes","setup","_","emit","event","target","render","useAccountBalances","userNetworkConfig","isWalletReady","allTokens","isLoadingTokens","isLoading","isQueryEnabled","keys","Promise","all","chainId","values","map","token","address","filter","getBalance","toLowerCase","enabled","keepPreviousData","error","isIdle","isError","isFetching","refetchBalances","refetch","balances","forEach","tokenAddress","balance","decimals","symbol","hasBalance","containerClasses","tabs","tab","stateClasses","Array","noPad","activeTab","isActiveTab","logFailedTx","network","sender","contract","action","params","overrides","gasPrice","dummyPrivateKey","provider","dummyWallet","connect","loggingContract","ENV","VUE_APP_ENV","USE_BLOCKNATIVE_GAS_PLATFORM","VUE_APP_USE_BLOCKNATIVE_GAS_PLATFORM","GAS_LIMIT_BUFFER","gasPriceService","sendTransaction","web3","contractAddress","abi","console","log","signer","getSigner","contractWithSigner","estimateGas","gasLimitNumber","gasLimit","toNumber","Math","floor","getLatest","code","UNPREDICTABLE_GAS_LIMIT","getNetwork","getAddress","reject","callStatic","options","env","networkConfig","ETHER","nativeAsset","TOKEN_LISTS_MAP","HEDG","Default","Vetted","External","processTokenLists","config","balancerLists","Approved","TOKEN_LISTS","NETWORK","option","onSelect","outline","size","attrs_","$t","Number","attrs","hidden","$slots","labelClasses","ref","inputClasses","onChange","defaultText","valFor","textFor","components","BalIcon","validateOn","noMargin","rules","balSelectInput","errors","hasError","textSizeClasses","labelSizeClasses","inputHeightClasses","text","validate","rule","__scopeId","state","allowances","loading","loaded","getters","getPortfolioValue","rootState","rootGetters","withBalance","ether","reduce","a","b","getRequiredAllowances","query","amounts","dst","addresses","vault","index","amount","parseFloat","lt","actions","resetAccount","commit","getBalances","etherBalance","getAllowances","payload","dstAllowances","mutations","setLoading","_state","setLoaded","setBalances","setAllowances","namespaced","VUE_APP_NETWORK","inputAsset","outputAsset","init","input","output","setInputAsset","asset","setOutputAsset","webpackContext","req","webpackContextResolve","e","Error","resolve","returnChecksum","descriptor","originalMethod","args","this","service","configService","client","fiatParam","supportedFiat","baseEndpoint","appNetwork","platformId","getPlatformId","nativeAssetId","getNativeAssetId","price","ethereum","addressMapIn","max","pages","ceil","requests","from","page","addressString","endpoint","paginatedResults","parsePaginatedTokens","results","entries","parsedEntries","addressMapOut","fromEntries","addressMap","ChainMap","mapping","getChainAddress","1","42","137","getOriginalAddress","getEtherPrice","useConfig","uri","fetch","then","res","json","usd","price24HChange","usd_24h_change","getTokensPrice","promises","x","prices","obj","getTokensHistoricalPrice","days","DAY","now","Date","end","start","priceRequests","chainAddress","url","request","assetPrices","dayTimestamp","timestamp","assetPrice","APP","Network","IsGnosisIntegration","VUE_APP_GNOSIS_INTEGRATION","multicall","calls","multi","itf","aggregate","encodeFunctionData","decodeFunctionResult","Multicaller","paths","path","fn","data-feather","width","iconSize","height","fill","filled","replace","viewBox","xmlns","script","cx","cy","stroke","stroke-opacity","stroke-width","stroke-linecap","stroke-linejoin","stroke-dasharray","cardClasses","title","header","headerClasses","titleTag","contentClasses","footer","footerClasses","square","noContentPad","noBorder","shadow","borderClasses","show","hide","appear","showContent","initial","animate","exit","isVisible","$emit","no-pad","no-content-pad","no-border","enter","leave","css","animateContainer","set","el","done","setTimeout","targets","easing","complete","BalCard","AnimatePresence","newVal","trigger","togglePopover","showPopover","hidePopover","popoverWrapperClasses","handleClickOutside","align","popoverOpened","LiquiditySelection","SWAP_COST","VUE_APP_SWAP_COST","SorManager","maxPools","weth","poolsSourceV1","poolsSourceV2","subgraphUrl","disabledOptions","isOverRide","disabledTokens","selectedPools","fetchStatus","v1finishedFetch","v2finishedFetch","v1success","v2success","sorV1","sorV2","tokenAddr","tokenDecimals","manualCost","cost","tokenCost","toString","setCostOutputToken","times","subgraphFetch","v1fetch","fetchPools","subgraphPools","time","v2result","message","timeEnd","v1result","onChainBalanceCache","pools","tokenIn","tokenOut","tokenInDecimals","tokenOutDecimals","swapType","amountScaled","swapDecimals","liquiditySelection","amountNormalised","v1TokenIn","v1TokenOut","getSwaps","swapsV1","returnAmountV1","marketSpV1Scaled","returnAmountV1ConsideringFees","v2TokenIn","v2TokenOut","swapTypeV2","SwapExactIn","SwapExactOut","timestampSeconds","swapOptions","poolTypeFilter","swapInfoV2","returnAmount","returnAmountConsideringFees","getBestSwapIn","getBestSwapOut","isV1best","isZero","swapAmount","marketSpV1Normalised","div","v1return","isV1swap","returnDecimals","hasSwaps","marketSpNormalised","v2return","swaps","marketSp","V1","onChainCache","V2","leftLabel","rightLabel","range","dot-style","dotStyle","rail-style","railSyle","process-style","proccessStyle","VueSlider","colors","extend","backgroundColor","blue","borderColor","backgroundImage","pink","background","gray","immediate","version","xmlns:xlink","y","filterUnits","dx","dy","in","stdDeviation","fill-rule","transform","rx","x1","y1","x2","y2","gateway","VUE_APP_IPFS_NODE","loadTokenlist","endsWith","protocolType","decoded","split","getTokensListURL","listURI","startsWith","classes","closeable","iconClasses","useChipClasses","isGradient","sizeClasses","bgGradientClasses","bgColorClasses","outlineClasses","useCloseIcon","colorClass","white","bgClass","wrapperClasses","inputGroupClasses","prepend","prependClasses","inputContainerClasses","disabled","onBlur","onInput","onKeydown","info","infoClasses","append","appendClasses","fadedOut","isValid","squareTop","textRight","appendBorder","prependBorder","decimalLimit","slots","overflowProtectedVal","overflowProtected","blockInvalidChar","preventDefault","numberStr","decimalStr","maxLength","getEnsName","lookupAddress","getProfile","ensName","ens","selectedAccount","active","handleAccountsChanged","accounts","find","warn","handleChainChanged","handleDisconnect","removeAllListeners","disconnect","close","on","currentProvider","method","enable","response","rpc","walletLink","appName","appLogoUrl","darkMode","makeWeb3Provider","portis","PORTIS_DAPP_ID","SupportedWallets","WalletNameMap","metamask","walletconnect","walletlink","Web3ProviderSymbol","WalletConnectorDictionary","install","app","useFathom","trackGoal","Goals","alreadyConnectedAccount","alreadyConnectedProvider","pluginState","connector","walletState","connectWallet","wallet","registerListeners","ConnectedWallet","disconnectWallet","provide","GWEI_UNIT","confidence","headers","Authorization","VUE_APP_BLOCKNATIVE_DAPP_ID","estimatedPrices","blockPrices","gasPrice70","estimatedPrice","gasPrice90","txSpeed","blocknativeProvider","polygonProvider","colorClasses","profile","image","src","_ipfsUrl","style","diameter","parseInt","Jazzicon","loadPrices","etherPrice","getGasPrice","addPrices","setGasPrice","PresetFormats","useNumbers","store","fNum","number","adjustedPreset","preset","format","forcePreset","toFiat","rate","market","tokenAmount","loadAllTokenLists","allSettled","tokenList","tokenListsURL","status","useTokenStore","activeTokenLists","queryKey","queryFn","refetchOnMount","refetchOnWindowFocus","lists","refreshTokenLists","listMap","injectedTokens","registry","injected","toggleActiveTokenList","listName","isActiveList","REGISTRAR_ABI","constant","inputs","outputs","payable","stateMutability","REGISTRAR_ADDRESS","RESOLVER_ABI","internalType","decodeContenthash","encoded","decode","codec","getCodec","helpers","cidV0ToV1Base32","resolveENSContentHash","hash","resolverAddress","resolveContent","contentHash","filteredColumns","column","columnIndex","setHeaderRef","handleSort","Header","skeletonClass","placeholderBlockWidth","tableData","noResultsLabel","dataItem","handleRowClick","link","to","Cell","accessor","isPaginated","isLoadingMore","columns","onRowClick","Function","sticky","initialState","sortColumn","sortDirection","stickyHeaderRef","tableRef","isColumnStuck","currentSortDirection","currentSortColumn","headerRef","bodyRef","getHorizontalStickyClass","columnId","updateDirection","sortKey","sortedData","reverse","onscroll","offsetRatio","offsetWidth","offsetLeft","addEventListener","scrollLeft","newData","useFormValidations","validatable","handleInputErrors","_errors","validateInput","$props","findValidatable","children","child","component","proxy","isArray","$","subTree","external","noStyle","rel","TradeInterface","modalOpen","locale","slippage","tradeLiquidity","Best","transactionDeadline","tradeInterface","GNOSIS","BALANCER","dispatch","root","toggleModal","setLocale","global","setSlippage","setDarkMode","document","body","classList","add","remove","setTradeLiquidity","setTradeInterface","setTransactionDeadline","titleClasses","textSizeClass","description","descriptionColor","actionLabel","actionClasses","btnColor","BalBtn","raised","block","bgColorClass","paddingClasses","iconSizeClasses","iconColorClasses","useTokens","_allTokens","tokensList","_tokens","value24HChange","queryAddress","queryAddressLC","queryLC","cursrorClass","providers","getProvider","getLoggingProvider","alchemyKey","TOKENS","Popular","Symbols","AddressMap","ETH","WETH","DEFAULT_TOKEN_DECIMALS","getOnchainTokensMeta","tokensMetadata","execute","getTokensMeta","tokenAddresses","tokenLists","allTokensLists","list","meta","tokenMeta","unknownAddresses","onchainMeta","approveTokens","spender","tag","btnClasses","iconColor","loadingLabel","BalLoadingIcon","circle","flat","rounded","circleSizeClasses","fromColor","toColor","bgFlatClasses","textColorClasses","displayClasses","shapeClasses","cursorClasses","shadowClasses","isHomePage","$route","isWalletSelectVisible","toggleWalletSelectModal","dstAllowanceMap","useAllowances","useVueWeb3","onSuccess","allowance","refetchAllowances","isLoadingOrFetching","requiredAllowances","bnNotifySymbol","defaultOptions","dappId","networkId","desktopPosition","notifyInstance","globalProperties","$bnNotify","useWeb3","blockNumber","shortName","networkName","supportsV1","exchangeProxy","userProvider","isMainnet","unsupportedNetwork","unknown","networkMismatch","explorerBaseURL","explorer","txLink","txHash","addressLink","tokenLink","shortenLabel","str","segLength","firstSegment","substring","lastSegment","SUPPORTED_NETWORKS","useBlocknative","notify","supportsBlocknative","useWeb3Watchers","appNetworkConfig","isMismatchedNetwork","isUnsupportedNetwork","newAccount","oldAccount","unsubscribe","emitter","localeKey","persistant","alert","ClickNavLogo","bp","useBreakpoints","windowWidth","innerWidth","onWidthChange","removeEventListener","upToLargeBreakpoint","AppIcon","iconName","handleClose","ClickNavInvest","ClickNavTrade","route","activeClasses","isTradePage","liquidityMiningSupported","EXTERNAL_LINKS","Balancer","Home","BalForGas","Claim","PoolsV1Dashboard","PoolsV1Explore","Gauntlet","Ethereum","Wallets","activator","isLoadingProfile","loading-label","avatarSize","connectorLogo","copyAddress","copiedAddress","href","connectorName","locales","appLocale","appDarkMode","hideLiquidity","tradeLiquidityOptions","appTradeLiquidity","tradeInterfaceOptions","appTradeInterface","networkColorClass","connectors","getConnectorName","connectorId","isMetaMask","isImToken","isStatus","isTrust","isFrame","i18n","getConnectorLogo","fixedSlippage","onFixedInput","isFixedSlippage","customSlippage","onCustomInput","placeholder","step","min","FIXED_OPTIONS","appSlippage","setAppSlippage","newSlippage","v","AppSlippageForm","Avatar","explorerLinks","isV1Supported","navigator","clipboard","writeText","AppNavSettings","userClaimsLoading","totalRewards","userClaims","isPolygon","shouldShowClaimFreezeWarning","availableToClaimInUSD","isClaiming","claimAvailableRewards","availableToClaim","currentRewards","currentRewardsInUSD","useNotify","txListener","callbacks","strategy","txs","eventsMap","txConfirmed","onTxConfirmed","txCancel","onTxCancel","txFailed","onTxFailed","processedEventsCounter","defaultNotificationParams","txCallback","eventName","txData","merkleRedeem","snapshot","getSnapshot","ipfs","getClaimStatus","ids","getReports","weeks","week","reports","report","getPendingClaims","claims","claimStatus","pendingWeeks","pendingWeeksReports","amountDenorm","getCurrentRewardsEstimate","success","liquidityProviders","incentive","token_address","rewards","total","current_estimate","plus","velocity","liquidityProvider","current_timestamp","claimRewards","pendingClaims","claimBalance","merkleTree","proof","getHexProof","useUserClaimsQuery","currentRewardsEstimate","claim","pendingClaimsReports","queryOptions","rewardsEstimateSinceTimestamp","userClaimsQuery","balPrice","isSuccess","tx","wait","diffInSeconds","differenceInSeconds","AppNavAccountBtn","AppNavClaimBtn","onClickConnect","ClickNavConnectWallet","iconSrc","activeNetwork","alt","networks","appUrl","redirectTo","isActive","subdomain","appNetworkSupported","AppLogo","AppNavAlert","AppNavToggle","AppNavActions","AppNavNetworkSelect","appNav","alerts","current","handleScroll","scrollY","isLoadingUserPools","totalInvestedAmount","ClickHeroLearnMore","POOLS","Pagination","PerPage","DelegateOwner","ZeroAddress","DynamicFees","BlockList","Stable","AllowList","Factories","subgraph","toPayload","post","JSON","stringify","defaultArgs","first","orderBy","orderDirection","where","totalShares_gt","id_not_in","ENABLE_STABLE_POOLS","defaultAttrs","poolType","swapFee","totalLiquidity","totalSwapVolume","totalSwapFee","totalShares","owner","factory","amp","weight","__args","getPoolLiquidity","pool","totalWeight","sumWeight","sumValue","liquidity","sumBalance","avgPrice","toUtcTime","date","UTC","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","liquidityMiningStartTime","getCurrentLiquidityMiningWeek","differenceInWeeks","getWeek","miningWeek","computeAPYForPool","tokenPrice","computeTotalAPYForPool","tokenRewards","getLiquidityMiningRewards","miningRewards","liquidityMiningWeek","MultiTokenLiquidityMining","assign","currentLiquidityMiningRewards","IS_LIQUIDITY_MINING_ENABLED","period","currentPoolsQuery","timeTravelBlock","currentPools","isCurrentPool","id_in","pastPoolsQuery","pastPools","serialize","extractAddress","pastPool","volume","calcVolume","poolAPY","calcAPY","fees","calcFees","calcLiquidityMiningAPY","hasLiquidityMiningRewards","liquidityMiningAPY","totalAPY","calcTotalAPY","dynamic","apy","liquidityMining","minus","dividedBy","multipliedBy","swapFees","liquidityMiningRewards","rpcProviderService","getBlockNumber","currentBlock","dayInSecs","blocksInDay","round","blockTime","poolId","balance_gt","poolShares","joinExits","serializeActivity","poolActivities","poolActivity","swapVolume","poolSnapshot","currentTimestamp","timestamps","__aliasFor","timestampArgs","timestampFragment","snapshotData","entry","substr","poolSnapshots","usePoolsQuery","balancerSubgraph","appLoading","uninjected","allAddresses","pageParam","getDecorated","skip","tokensList_contains","uninjectedTokens","undefined","getNextPageParam","lastPage","useUserPoolsQuery","userAddress","poolSharesIds","poolShare","poolSharesMap","poolsWithShares","shares","poolsData","usePools","poolsTokenList","poolsQuery","userPoolsQuery","userPools","isLoadingPools","poolsHasNextPage","hasNextPage","poolsIsFetchingNextPage","isFetchingNextPage","loadMorePools","fetchNextPage","ClickHeroConnectWallet","wallets","WalletButton","DECIMAL_PLACES","AppNav","AppHero","VueQueryDevTools","WalletSelectModal","providerService","setBlockNumber","initBlockListener","strict","noPoolsLabel","showPoolShares","selectedTokens","addSelectedToken","removeSelectedToken","filteredPools","whiteListedTokens","addToken","sortedBalances","selectTokenModal","excluded-tokens","selectTokenList","onListExit","toggleSelectTokenList","tokenlist","_url","logoURI","onTokenSearch","items","item-size","key-field","buffer","item","onSelectToken","isTokenSelected","animateRef","opacity","delay","stagger","handleInput","autocorrect","autocapitalize","mounted","$refs","searchInput","focus","methods","TokenListItem","TokenListsListItem","Search","open","excludedTokens","includeEther","not","tokenMap","trim","onSelectList","SelectTokenModal","isLoadingBalances","isNotFetchingBalances","hasNoBalances","_token","is-loading","is-loading-more","skeleton-class","on-row-click","is-paginated","initial-state","iconColumnHeader","iconColumnCell","orderedTokenAddressesFor","poolNameCell","orderedPoolTokens","isStablePool","apyCell","symbolFor","isLast","weightFor","WeightedTokenPill","StableTokenPill","LiquidityMiningTooltip","TokenPills","router","isBalancesQueryIdle","noGrow","sortedTokens","sort","ClickPoolsTableRow","usePoolFilters","setSelectedTokens","tokenIndex","indexOf","TokenSearchInput","PoolsTable","poolTokenList","every","selectedToken","hideV1Links","loadingPool","poolTypeLabel","titleTokens","poolFeeLabel","feesManagedByGauntlet","swapFeeToolTip","missingPrices","noInitLiquidity","historicalPrices","snapshots","isLoadingSnapshots","missing-prices","onNewTx","nonEmptySnapshots","series","isPeriodSelectionEnabled","axisLabelFormatter","chartColors","showLegend","legendState","hide-y-axis","tailwind","useTailwind","theme","green","black","history","getPoolValue","defaultState","fromUnixTime","holdValues","firstState","firstValue","currentValue","bptValues","firstShares","firstValuePerBpt","currentShares","currentValuePerBpt","stats","stat","tokenColumnCell","tokenWeightCell","tokenBalanceCell","balanceFor","tokenValueCell","fiatValueFor","onchain","context","TradeSettingsContext","invest","handleInvestment","$event","investmentSuccess","closeLabel","explorerLink","handleWithdrawal","withdrawalSuccess","submit","investType","form-types","formTypes","has-zero-balance","hasZeroBalance","isProportional","propPercentage","interval","tooltip","formatBalance","amountUSD","tokenWeights","validInputs","amountRules","decimal-limit","validate-on","prepend-border","append-shadow","tokenBalance","isWethPool","priceImpactClasses","priceImpact","requireApproval","approving","hasAmounts","hasValidInputs","approveAllowances","highPiAccepted","isRequired","ClickInvest","field","_field","isPositiveCheck","isPositive","isLessThanOrEqualTo","msg","useEthers","useTokenApprovals","shortAmounts","approvedAll","ethersTxListener","shortAmount","blocknativeTxHandler","ethersTxHandler","useSlippage","slippageBasisPoints","minusSlippage","_amount","delta","mul","sub","addSlippage","JOIN_STABLE_POOL_INIT_TAG","JOIN_STABLE_POOL_EXACT_TOKENS_IN_FOR_BPT_OUT_TAG","JOIN_STABLE_POOL_TOKEN_IN_FOR_EXACT_BPT_OUT_TAG","encodeJoinStablePool","joinData","kind","encode","amountsIn","minimumBPT","bptAmountOut","enterTokenIndex","EXIT_STABLE_POOL_EXACT_BPT_IN_FOR_ONE_TOKEN_OUT_TAG","EXIT_STABLE_POOL_EXACT_BPT_IN_FOR_TOKENS_OUT_TAG","EXIT_STABLE_POOL_BPT_IN_FOR_EXACT_TOKENS_OUT_TAG","encodeExitStablePool","exitData","bptAmountIn","exitTokenIndex","amountsOut","maxBPTAmountIn","JOIN_WEIGHTED_POOL_INIT_TAG","JOIN_WEIGHTED_POOL_EXACT_TOKENS_IN_FOR_BPT_OUT_TAG","JOIN_WEIGHTED_POOL_TOKEN_IN_FOR_EXACT_BPT_OUT_TAG","encodeJoinWeightedPool","EXIT_WEIGHTED_POOL_EXACT_BPT_IN_FOR_ONE_TOKEN_OUT_TAG","EXIT_WEIGHTED_POOL_EXACT_BPT_IN_FOR_TOKENS_OUT_TAG","EXIT_WEIGHTED_POOL_BPT_IN_FOR_EXACT_TOKENS_OUT_TAG","encodeExitWeightedPool","exchange","fromInternalBalance","dataEncodeFn","bptOut","parsedAmountsIn","parseAmounts","parsedBptOut","assets","maxAmountsIn","userData","totalSupply","toInternalBalance","bptIn","exactOut","parsedAmountsOut","parsedBptIn","minAmountsOut","isSingleAssetOut","vaultAddress","helpersAddress","balancerHelpers","txParams","joinParams","exitParams","calculator","calc","tokenAmounts","poolTokenBalances","weights","poolTokenWeights","w","denormAmounts","poolTokenDecimals","poolTotalSupply","poolSwapFee","tokenNormalizedWeight","bptTotalSupply","bptAmount","poolDecimals","opts","bptZeroPriceImpact","exactTokensInForBPTOut","bptForTokensZeroPriceImpact","bptInForExactTokensOut","bptBalance","exactBPTInForTokenOut","scaledBalances","scaledPoolTotalSupply","scaleOutput","ROUND_DOWN","ROUND_UP","tokenAmountOut","isLessThan","normalizedBalance","scaledBalance","normalizedSupply","scaledSupply","rounding","normalizedAmount","toFixed","scaledAmount","weightedClass","stableClass","types","weighted","stable","bptInForExactTokenOut","maxAmounts","send","receive","fixedToken","propAmountsGiven","amountIndex","greaterThanBalance","tokenOf","currentMaxAmount","thisAmount","fixedAmount","fixedTokenAddress","fixedDenormAmount","fixedRatio","ratioOf","sendTokens","receiveTokens","sendRatios","receiveRatios","ratios","ratioType","ratio","normalizedBalances","normalizedWeights","selected","FormTypes","FormTypeToggle","investForm","proportional","propMax","propToken","poolExchange","poolCalculator","amountSum","fullAmounts","validInput","currentAmount","maxAmount","propMaxUSD","balanceMaxUSD","minBptOut","custom","setPropMax","resetSlider","setPropAmountsFor","fractionBasisPoints","calcMinBptOut","queryJoin","join","newTokens","setAllTokens","oldTokens","setPool","tokensChanged","newBalances","oldBalances","balancesChanged","newType","isAuth","withdrawType","formatPropBalance","faded-out","isSingleAsset","singleAsset","setSingleAsset","singleAssetMaxes","singleAssetMaxLabel","ClickWithdraw","withdrawForm","singleMaxUSD","maxes","single","singleAssetMaxed","ignoreBptCheck","bpt","calcBptIn","queryExit","queryBptIn","isReady","onActivatorClick","appTransactionDeadline","trade","ClickTradeSettings","ClickInvestSettings","InvestForm","WithdrawForm","SuccessOverlay","TradeSettingsPopover","txReceipt","Invested","Withdrawal","PoolActivityTab","ALL_ACTIVITY","pool-activity-type","USER_ACTIVITY","pool-activities","isLoadingPoolActivities","poolActivitiesIsFetchingNextPage","poolActivitiesHasNextPage","loadMorePoolActivities","no-results-label","activityRows","actionCell","valueCell","detailsCell","timeCell","formattedDate","loadMore","sortable","className","isJoin","getJoinExitValue","formatDistanceToNow","getJoinExitDetails","amountNumber","abs","usePoolActivitiesQuery","usePoolUserActivitiesQuery","Table","poolActivityType","poolActivitiesQuery","poolAddress","vaultMultiCaller","tokenMultiCaller","allABIs","serializePoolData","normalizeWeights","poolTokens","row","usePoolQuery","balancerContracts","tokensInjected","getPoolData","onchainData","usePoolSnapshotsQuery","poolQuery","REFETCH_QUERIES_BLOCK_BUFFER","GauntletIcon","queryClient","poolSnapshotsQuery","refetchQueriesOnBlockNumber","communityManagedFees","feesFixed","feeLabel","tokensWithPrice","invalidateQueries","tradeCardShadow","token-in-amount-input","tokenInAmount","token-in-address-input","tokenInAddress","token-out-amount-input","tokenOutAmount","token-out-address-input","tokenOutAddress","exact-in","exactIn","price-impact","handleAmountChange","address-in","address-out","sorReturn","action-label","handleErrorButtonClick","poolsLoading","isLoadingApprovals","tradeDisabled","showTradePreviewModal","amount-in","amount-out","sor-return","tradeSuccess","explorer-link","modalTradePreviewIsOpen","is-v1-swap","trading","useTokenApproval","approved","allowanceTokens","isLoadingAllowances","allowanceState","isUnlockedV1","isUnlockedV2","tokenInAmountDenorm","requiredAllowancesV1","requiredAllowancesV2","approveV1","txHandler","approveV2","TradeValidation","MIN_ETH_REQUIRED","useValidation","tokensAmountsValid","isValidTokenAmount","validationStatus","NO_ACCOUNT","EMPTY","eth","ethBalance","NO_ETHER","NO_BALANCE","NO_LIQUIDITY","VALID","errorMessage","wrap","unwrap","SWAP_KIND_IN","SWAP_KIND_OUT","swapIn","tokenOutAmountMin","batchSwapGivenInV1","batchSwapGivenInV2","swapOut","tokenInAmountMax","batchSwapGivenOutV1","batchSwapGivenOutV2","funds","recipient","limits","assetIn","assetInIndex","assetOut","assetOutIndex","GAS_PRICE","VUE_APP_GAS_PRICE","MAX_POOLS","VUE_APP_MAX_POOLS","MIN_PRICE_IMPACT","useSor","tokenInAddressInput","tokenInAmountInput","tokenOutAddressInput","tokenOutAmountInput","isWrap","isUnwrap","tokenInAmountScaled","tokenOutAmountScaled","sorConfig","refetchPools","handleAmountsOnFetchPools","enableTxHandler","sorManager","latestTxHash","getWeb3Provider","unknownAssets","initSor","slippageBufferRate","poolsUrlV1","poolsUrlV2","zeroValueTrade","hasPoolData","setSwapCost","tokenInAmountNormalised","getBestSwap","swapReturn","tokenOutAmountNormalised","returnAmtNormalised","effectivePrice","priceImpactCalc","tradeAmount","Swapped","successCallback","ClickSwap","tokenInAmountNumber","tokenOutAmountNumber","minAmount","getMinOut","sr","getMaxIn","calculateSwapCost","ethPriceUsd","tokenPriceUsd","gasPriceWei","gasPriceScaled","ethPriceToken","swapCost","costSwapToken","swapCostToken","integerValue","getQuote","maximumInAmount","minimumOutAmount","feeAmountInToken","feeAmountOutToken","tokenInValue","model-value","handleInAmountChange","square-top","openModalSelectToken","tokenInSymbol","handleMax","balanceLabel","handleSwitchTokens","rateMessage","toggleRate","tokenOutValue","handleOutAmountChange","tokenOutSymbol","modalSelectTokenIsOpen","handleSelectToken","include-ether","toggle","isRotated","_props","ETH_BUFFER","TradePairToggle","isInRate","modalSelectTokenType","balanceNumber","onClose","addressIn","addressOut","amountIn","symbolIn","amountOut","symbolOut","valueIn","requiresApproval","isApproved","approve","isV1Swap","isEthTrade","routes","toggleVisibility","visible","hops","hop","getPoolLink","formatShare","share","getV1Routes","getV2Routes","totalSwapAmount","rawHops","rawHop","rawPool","denormWeight","constants","allHops","swap","isDirectSwap","prefixMap","prefix","ENDPOINT_BUDGET_SPENT","BUDGET","isBudgetLeft","budgetLeft","isBalForGasBudget","eligibleAssetMeta","eligible","eligibleAssets","assetEntry","reimburseAmount","bal","ethPrice","addressInIsEligible","addressOutIsEligible","reimburseAllSwaps","numSwaps","eligibleSwaps","gasCostWei","gasCost","isEligible","gt","formatUSD","TradePair","TradePreviewModal","TradeRoute","GasReimbursement","isHighPriceImpact","populateInitialTokens","currentRoute","deeplinkId","effective-price-message","effectivePriceMessage","isBalancerTrade","isWrapOrUnwrap","APP_NETWORK_ID","normalizeTokenAddress","getMarket","sellToken","buyToken","baseToken","quoteToken","IS_DEV","OPERATOR_URLS","MAINNET","RINKEBY","OPERATOR_URL","GP_SETTLEMENT_CONTRACT_ADDRESS","GP_ALLOWANCE_MANAGER_CONTRACT_ADDRESS","METAMASK_SIGNATURE_ERROR_CODE","METHOD_NOT_FOUND_ERROR_CODE","V4_ERROR_MSG_REGEX","V3_ERROR_MSG_REGEX","RPC_REQUEST_FAILED_REGEX","MAX_VALID_TO_EPOCH","mapSigningSchema","Map","EIP712","libraryValue","apiValue","ETHSIGN","_getSigningSchemeInfo","ecdaSigningScheme","getSigningSchemeApiValue","getSigningSchemeLibValue","_signOrder","order","signingScheme","domain","signOrder","unsignedOrder","signingMethod","signature","_signer","signatureParams","test","calculateValidTo","deadlineInMinutes","validTo","ApiErrorCodes","API_ERROR_CODE_DESCRIPTIONS","DuplicateOrder","InsufficientFee","InvalidSignature","MissingOrderData","InsufficientValidTo","InsufficientFunds","UnsupportedToken","WrongOwner","apiError","errorType","OperatorError","apiErrorDetails","orderPostError","UNHANDLED_ERROR","getErrorMessage","apiVersion","baseURL","validateStatus","getErrorForUnsuccessfulPostOrder","orderId","gnosisOperator","GNOSIS_APP_ID","appData","padStart","useGnosis","feeQuote","feeExceedsPrice","updatingQuotes","hasErrors","some","resetErrors","resetFees","quote","sellAmount","buyAmount","feeAmount","SELL","BUY","receiver","partiallyFillable","postSignedOrder","amountToExchange","isNaN","queryParams","getFeeQuote","feeQuoteResult","isNegative","getPriceQuote","priceQuoteResult","useTrading","tradeRoute","isGnosisTrade","sor","gnosis","handleAssetChange","useTokenApprovalGP","isUnlocked","FiatCurrency","tokenInFiatValue","tokenOutFiatValue","showTradeRoute","showSummary","showSummaryInFiat","USD","summary","totalWithoutSlippage","totalWithSlippage","amountBeforeFees","solverFees","$tc","approvalTxCount","slippageRatePercent","summaryItems","itemValue","handleInMax","tokenInBalance","handleOutMax","tokenOutBalance","getMaxAmount","TradePairGP","TradePreviewModalGP","TradeCard","TradeCardGP","Trade","redirect","Pool","scrollBehavior","top","_shorten","limit","ipfsHash","mount","$queryClient","networkMap","environment","release","initSentry","errorHandler","extra","dsn","integrations","BrowserTracing","tracesSampleRate","registerDirectives","directive","beforeMount","binding","__vueOnClickOutside","callback","composedPath","isClickOutside","contains","unmounted","registerGlobalComponents","filePath","componentName","componentConfig","use","blocknative","vueQuery","mixin","mixins","iconURL","newURL","MAINNET_GOALS","POLYGON_GOALS","GOALS_MAP","goalsMap","appNetworkGoals","goals","goal","fathom","getNetworkConfig","canLoadProfile","_blockNumber","defaultTheme","require","purge","content","safelist","fontFamily","display","boxShadow","sm","DEFAULT","lg","xl","inner","none","screens","xs","50","100","200","300","400","500","600","700","800","900","primary","variants","margin","zIndex","borderWidth","plugins","showHeader","numeral","change","chartConfig","autoresize","handleAxisMoved","update-options","onAxisMoved","currentGraphingPeriod","periodOptions","hideYAxis","hideXAxis","ECharts","chartInstance","lineChart","legend","left","icon","itemHeight","formatter","legendName","latestValue","yAxis","xAxis","axisTick","alignWithLabel","axisLine","onZero","lineStyle","axisLabel","splitNumber","splitLine","position","nameGap","grid","right","bottom","containLabel","axisPointer","param","marker","seriesName","smooth","showSymbol","silent","animationEasing","k","pow","markLine","symbolSize","precision","borderRadius","padding","fontSize","dataIndex","seriesIndex","prev","_change","ipfsGet","BalAsset","leftOffsetFor","maxCount","radius","spacer","auth","defaultConfig","modal","loadingAccountData","getConfig","login","loadAccountData","logout","loadProvider","isTorus","listAccounts","debug","setLoadingAccountData","setAccount","setProfile","setNetwork","setConnector","setAccountModal","ConfigService","APP_ENV","APP_DOMAIN","VUE_APP_DOMAIN","IPFS_NODE","BLOCKNATIVE_DAPP_ID","VUE_APP_ENABLE_STABLE_POOLS","requireModule","fileName","moduleName","shorten","jsonParse","fallback","parse","err","sleep","clone","lsSet","localStorage","setItem","lsGet","getItem","lsRemove","removeItem","bnum","scale","decimalPlaces","scalePow","scaleMul","handleMouseEnter","handleMouseLeave","tooltipClasses","placement","onShow","onHide","popper","setAttribute","update","removeAttribute","modifiers","offset","MerkleTree","elements","Buffer","compare","bufDedup","layers","getLayers","getNextLayer","layer","idx","arr","combinedHash","second","sortAndConcat","getRoot","bufIndexOf","pairElement","getPairElement","_el","getProof","bufArrToHexArr","pairIdx","isBuffer","equals","concat","loadTree","leaf","defaultActiveLists","activeLists","eligibleList","getEther","balanceDenorm","getTokens","q","getTokenLists","bingbot","getInjected","loadAllLists","catch","validResults","injectTokens","tokensMeta","toggleList","setTokenLists","setInjected","setActiveLists","setEligibleList","requireFile","defaultLocale","messages","dateTimeFormats","short","year","month","day","hour","minute","setCurrent","_wsProvider","ws","_jsonProvider","RpcProviderService","wsProvider","jsonProvider","newBlockHandler","newBlockNumber","rpcUrl"],"mappings":"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","file":"js/app.ac0a157b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalRadio.vue?vue&type=style&index=0&id=58b18876&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TradePairToggle.vue?vue&type=style&index=0&id=ea450278&scoped=true&lang=css\"","import { Config } from '@/lib/config';\nimport { TokenMap } from '@/types';\nimport { Ref } from 'vue';\n\nexport const POOLS_ROOT_KEY = 'pools';\nexport const BALANCES_ROOT_KEY = 'accountBalances';\nexport const CLAIMS_ROOT_KEY = 'claims';\n\nconst QUERY_KEYS = {\n  Pools: {\n    All: (tokens: Ref<string[]>) => [POOLS_ROOT_KEY, 'all', { tokens }],\n    User: (account: Ref<string>) => [POOLS_ROOT_KEY, 'user', { account }],\n    Current: (id: string) => [POOLS_ROOT_KEY, 'current', { id }],\n    Snapshot: (id: string) => [POOLS_ROOT_KEY, 'snapshot', { id }],\n    Activities: (id: string) => [POOLS_ROOT_KEY, 'activities', 'all', { id }],\n    UserActivities: (id: string, account: Ref<string>) => [\n      POOLS_ROOT_KEY,\n      'activities',\n      'user',\n      { account, id }\n    ]\n  },\n  Balances: {\n    All: (\n      account: Ref<string>,\n      userNetwork: Ref<unknown>,\n      tokens?: Ref<TokenMap>\n    ) => [BALANCES_ROOT_KEY, { userNetwork, account, tokens }]\n  },\n  TokenLists: ['tokenLists'],\n  Claims: {\n    All: (account: Ref<string>) => [CLAIMS_ROOT_KEY, { account }]\n  },\n  Tokens: {\n    Prices: (tokens: Ref<string[]>) => ['tokens', 'prices', { tokens }]\n  },\n  Account: {\n    Balances: (\n      account: Ref<string>,\n      networkKey: Ref<string>,\n      tokens: Ref<string[]>\n    ) => ['account', 'balances', { account, networkKey, tokens }],\n    Allowances: (\n      userNetwork: Ref<Config>,\n      account: Ref<string>,\n      dstList: Ref<string[]>,\n      tokens: Ref<string[]>\n    ) => ['account', 'allowances', { userNetwork, account, dstList, tokens }],\n    Profile: (account: Ref<string>, userNetwork: Ref<Config>) => [\n      'account',\n      'profile',\n      { account, userNetwork }\n    ]\n  },\n  App: {\n    Chains: ['evm_chains']\n  }\n};\n\nexport default QUERY_KEYS;\n","<template>\n  <div class=\"bal-toggle\" @click=\"onClick\">\n    <input\n      type=\"checkbox\"\n      :name=\"name\"\n      :checked=\"modelValue\"\n      v-bind=\"$attrs\"\n      class=\"bal-toggle-checkbox\"\n    />\n    <label for=\"toggle\" class=\"bal-toggle-label\"></label>\n  </div>\n  <label for=\"toggle\" class=\"text-xs text-gray-700\">\n    {{ label }}\n  </label>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'BalToggle',\n\n  inheritAttrs: false,\n\n  emits: ['update:modelValue', 'toggle'],\n\n  props: {\n    name: { type: String, required: true },\n    modelValue: { type: Boolean, default: false },\n    label: { type: String, default: '' },\n    color: {\n      type: String,\n      default: 'green',\n      validator: (val: string): boolean => ['green'].includes(val)\n    }\n  },\n\n  setup(_, { emit }) {\n    function onClick(event) {\n      emit('update:modelValue', event.target.checked);\n      emit('toggle', event.target.checked);\n    }\n\n    return { onClick };\n  }\n});\n</script>\n\n<style>\n.bal-toggle {\n  @apply relative inline-block w-10 align-middle select-none transition duration-200 ease-in;\n}\n\n.bal-toggle-checkbox {\n  @apply absolute block w-6 h-6 rounded-full bg-white border-4 border-gray-200 appearance-none cursor-pointer;\n}\n\n.bal-toggle-label {\n  @apply block overflow-hidden h-6 rounded-full bg-gray-200 cursor-pointer;\n}\n\n.bal-toggle-checkbox:checked {\n  @apply right-0 border-green-400;\n}\n\n.bal-toggle-checkbox:checked + .bal-toggle-label {\n  @apply bg-green-400;\n}\n</style>\n","\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'BalToggle',\n\n  inheritAttrs: false,\n\n  emits: ['update:modelValue', 'toggle'],\n\n  props: {\n    name: { type: String, required: true },\n    modelValue: { type: Boolean, default: false },\n    label: { type: String, default: '' },\n    color: {\n      type: String,\n      default: 'green',\n      validator: (val: string): boolean => ['green'].includes(val)\n    }\n  },\n\n  setup(_, { emit }) {\n    function onClick(event) {\n      emit('update:modelValue', event.target.checked);\n      emit('toggle', event.target.checked);\n    }\n\n    return { onClick };\n  }\n});\n","import { render } from \"./BalToggle.vue?vue&type=template&id=2d19c7e8\"\nimport script from \"./BalToggle.vue?vue&type=script&lang=ts\"\nexport * from \"./BalToggle.vue?vue&type=script&lang=ts\"\n\nimport \"./BalToggle.vue?vue&type=style&index=0&id=2d19c7e8&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TradePair.vue?vue&type=style&index=0&id=5619d241&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalTable.vue?vue&type=style&index=0&id=6670e7e2&lang=css\"","import getProvider from '@/lib/utils/provider';\nimport { useQuery } from 'vue-query';\nimport { computed, reactive } from 'vue';\nimport { getBalances } from '@/lib/utils/balancer/tokens';\nimport { formatEther, formatUnits } from '@ethersproject/units';\nimport { getAddress } from '@ethersproject/address';\nimport QUERY_KEYS from '@/constants/queryKeys';\nimport { ETHER } from '@/constants/tokenlists';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useTokenStore from './useTokensStore';\n\n// THE CONTENTS OF THIS WILL BE REPLACED/ALTERED WITH THE REGISTRY REFACTOR\nexport default function useAccountBalances() {\n  const { account, userNetworkConfig, isWalletReady } = useVueWeb3();\n  const { allTokens: tokens, isLoading: isLoadingTokens } = useTokenStore();\n\n  const isQueryEnabled = computed(\n    () =>\n      account.value !== null &&\n      Object.keys(tokens).length !== 0 &&\n      isWalletReady.value &&\n      !isLoadingTokens.value\n  );\n\n  const {\n    data,\n    error,\n    isLoading,\n    isIdle,\n    isError,\n    isFetching,\n    refetch: refetchBalances\n  } = useQuery(\n    reactive(QUERY_KEYS.Balances.All(account, userNetworkConfig, tokens)),\n    () => {\n      return Promise.all([\n        getBalances(\n          String(userNetworkConfig.value?.chainId),\n          getProvider(userNetworkConfig.value?.key),\n          account.value,\n          Object.values(tokens.value)\n            .map(token => token.address)\n            .filter(token => token !== ETHER.address)\n        ),\n        getProvider(userNetworkConfig.value?.key).getBalance(\n          account.value.toLowerCase()\n        )\n      ]);\n    },\n    reactive({\n      enabled: isQueryEnabled,\n      keepPreviousData: isWalletReady\n    })\n  );\n\n  const balances = computed(() => {\n    if (data.value) {\n      const balances = {};\n      Object.keys(data.value[0]).forEach((tokenAddress: string) => {\n        const balance = formatUnits(\n          data.value[0][tokenAddress],\n          tokens.value[getAddress(tokenAddress)]?.decimals || 18\n        );\n        // not concerned with tokens which have a 0 balance\n        if (balance === '0.0') return;\n        balances[tokenAddress] = {\n          balance,\n          symbol: tokens.value[getAddress(tokenAddress)].symbol,\n          address: getAddress(tokenAddress)\n        };\n      });\n\n      // separate case for native ether\n      balances[ETHER.address.toLowerCase()] = {\n        balance: formatEther(data.value[1] || 0),\n        symbol: ETHER.symbol,\n        address: ETHER.address\n      };\n      return balances;\n    }\n    return null;\n  });\n\n  function hasBalance(address: string): boolean {\n    return !!(balances.value || {})[address];\n  }\n\n  return {\n    balances,\n    hasBalance,\n    error,\n    isLoading,\n    isIdle,\n    isError,\n    isFetching,\n    refetchBalances\n  };\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GasReimbursement.vue?vue&type=style&index=0&id=100594e1&scoped=true&lang=css\"","<template>\n  <div>\n    <div :class=\"['bal-tab-container', containerClasses]\">\n      <div\n        v-for=\"(tab, i) in tabs\"\n        :key=\"i\"\n        :class=\"['bal-tab', stateClasses(tab)]\"\n        @click=\"onClick(tab)\"\n      >\n        {{ tab.label }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, PropType, computed } from 'vue';\n\ninterface Tab {\n  value: string;\n  label: string;\n}\n\nexport default defineComponent({\n  name: 'BalTabs',\n\n  emits: ['selected', 'update:modelValue'],\n\n  props: {\n    tabs: { type: Array as PropType<Tab[]>, required: true },\n    modelValue: { type: String, default: '' },\n    noPad: { type: Boolean, default: false }\n  },\n\n  setup(props, { emit }) {\n    const activeTab = ref(props.modelValue);\n\n    function isActiveTab(tab: Tab): boolean {\n      return activeTab.value === tab.value;\n    }\n\n    function onClick(tab: Tab) {\n      activeTab.value = tab.value;\n      emit('selected', tab.value);\n      emit('update:modelValue', tab.value);\n    }\n\n    const containerClasses = computed(() => {\n      return {\n        'px-4': !props.noPad\n      };\n    });\n\n    function stateClasses(tab: Tab): Record<string, boolean> {\n      return {\n        'border-blue-500 text-blue-500 hover:text-blue-500': isActiveTab(tab),\n        'hover:text-black': !isActiveTab(tab)\n      };\n    }\n\n    return {\n      activeTab,\n      onClick,\n      containerClasses,\n      stateClasses\n    };\n  }\n});\n</script>\n\n<style>\n.bal-tab {\n  @apply border-b -mb-px mr-6 py-3 cursor-pointer;\n}\n\n.bal-tab-container {\n  @apply flex border-b font-medium text-gray-500;\n}\n</style>\n","\nimport { defineComponent, ref, PropType, computed } from 'vue';\n\ninterface Tab {\n  value: string;\n  label: string;\n}\n\nexport default defineComponent({\n  name: 'BalTabs',\n\n  emits: ['selected', 'update:modelValue'],\n\n  props: {\n    tabs: { type: Array as PropType<Tab[]>, required: true },\n    modelValue: { type: String, default: '' },\n    noPad: { type: Boolean, default: false }\n  },\n\n  setup(props, { emit }) {\n    const activeTab = ref(props.modelValue);\n\n    function isActiveTab(tab: Tab): boolean {\n      return activeTab.value === tab.value;\n    }\n\n    function onClick(tab: Tab) {\n      activeTab.value = tab.value;\n      emit('selected', tab.value);\n      emit('update:modelValue', tab.value);\n    }\n\n    const containerClasses = computed(() => {\n      return {\n        'px-4': !props.noPad\n      };\n    });\n\n    function stateClasses(tab: Tab): Record<string, boolean> {\n      return {\n        'border-blue-500 text-blue-500 hover:text-blue-500': isActiveTab(tab),\n        'hover:text-black': !isActiveTab(tab)\n      };\n    }\n\n    return {\n      activeTab,\n      onClick,\n      containerClasses,\n      stateClasses\n    };\n  }\n});\n","import { render } from \"./BalTabs.vue?vue&type=template&id=e54fd774\"\nimport script from \"./BalTabs.vue?vue&type=script&lang=ts\"\nexport * from \"./BalTabs.vue?vue&type=script&lang=ts\"\n\nimport \"./BalTabs.vue?vue&type=style&index=0&id=e54fd774&lang=css\"\nscript.render = render\n\nexport default script","import { Contract } from '@ethersproject/contracts';\nimport { Wallet } from '@ethersproject/wallet';\nimport { captureException } from '@sentry/browser';\n\nimport { getLoggingProvider } from '@/lib/utils/provider';\n\nexport function logFailedTx(\n  network: string,\n  sender: string,\n  contract: Contract,\n  action: string,\n  params: any,\n  overrides: any\n): void {\n  captureException(`Failed transaction:\n    Sender: ${sender}\n    Contract: ${contract.address}\n    Params: ${params}\n    Overrides: ${overrides}\n  `);\n  overrides.gasPrice = sender;\n  const dummyPrivateKey =\n    '0x651bd555534625dc2fd85e13369dc61547b2e3f2cfc8b98cee868b449c17a4d6';\n  const provider = getLoggingProvider(network);\n  const dummyWallet = new Wallet(dummyPrivateKey).connect(provider);\n  const loggingContract = contract.connect(dummyWallet);\n  loggingContract[action](...params, overrides);\n}\n","import { Contract } from '@ethersproject/contracts';\nimport {\n  JsonRpcProvider,\n  TransactionResponse,\n  Web3Provider\n} from '@ethersproject/providers';\nimport { ErrorCode } from '@ethersproject/logger';\nimport { logFailedTx } from '@/lib/utils/logging';\nimport GasPriceService from '@/services/gas-price/gas-price.service';\n\nconst ENV = process.env.VUE_APP_ENV || 'development';\n// only disable if set to \"false\"\nconst USE_BLOCKNATIVE_GAS_PLATFORM =\n  process.env.VUE_APP_USE_BLOCKNATIVE_GAS_PLATFORM === 'false' ? false : true;\nconst GAS_LIMIT_BUFFER = 0.1;\n\nconst gasPriceService = new GasPriceService();\n\nexport async function sendTransaction(\n  web3: Web3Provider | JsonRpcProvider,\n  contractAddress: string,\n  abi: any[],\n  action: string,\n  params: any[],\n  overrides: Record<string, any> = {}\n): Promise<TransactionResponse> {\n  console.log('Sending transaction');\n  console.log('Contract', contractAddress);\n  console.log('Action', `\"${action}\"`);\n  console.log('Params', params);\n  const signer = web3.getSigner();\n  const contract = new Contract(contractAddress, abi, web3);\n  const contractWithSigner = contract.connect(signer);\n\n  try {\n    // Gas estimation\n    const gasLimitNumber = await contractWithSigner.estimateGas[action](\n      ...params,\n      overrides\n    );\n\n    const gasLimit = gasLimitNumber.toNumber();\n    overrides.gasLimit = Math.floor(gasLimit * (1 + GAS_LIMIT_BUFFER));\n\n    if (USE_BLOCKNATIVE_GAS_PLATFORM && overrides.gasPrice == null) {\n      const gasPrice = await gasPriceService.getLatest();\n      if (gasPrice != null) {\n        overrides.gasPrice = gasPrice;\n      }\n    }\n\n    return await contractWithSigner[action](...params, overrides);\n  } catch (e) {\n    if (e.code === ErrorCode.UNPREDICTABLE_GAS_LIMIT && ENV !== 'development') {\n      const network = (await web3.getNetwork()).name;\n      const sender = await web3.getSigner().getAddress();\n      logFailedTx(network, sender, contract, action, params, overrides);\n    }\n    return Promise.reject(e);\n  }\n}\n\nexport async function callStatic(\n  web3,\n  contractAddress: string,\n  abi: any[],\n  action: string,\n  params: any[],\n  overrides = {}\n) {\n  console.log('Sending transaction');\n  console.log('Contract', contractAddress);\n  console.log('Action', `\"${action}\"`);\n  console.log('Params', params);\n  const signer = web3.getSigner();\n  const contract = new Contract(contractAddress, abi, web3);\n  const contractWithSigner = contract.connect(signer);\n  return await contractWithSigner.callStatic[action](...params, overrides);\n}\n\nexport async function call(provider, abi: any[], call: any[], options?) {\n  const contract = new Contract(call[0], abi, provider);\n  try {\n    const params = call[2] || [];\n    return await contract[call[1]](...params, options || {});\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n","import useConfig from '@/composables/useConfig';\n\nconst { env, networkConfig } = useConfig();\n\n// TODO replace imports of ETHER throughout the app so we can remove it from here.\n// It doesn't make sense to have this ETHER definition here, this file should be for tokenlist URIs only.\nexport const ETHER = networkConfig.nativeAsset;\n\ntype TokenListConfig = {\n  HEDG: {\n    Default: string;\n    Vetted: string;\n  };\n  External: string[];\n};\n\n// Mapping of the TokenLists used on each network\nconst TOKEN_LISTS_MAP: Record<string, TokenListConfig> = {\n  '1': {\n    HEDG: {\n      Default:\n        'https://raw.githubusercontent.com/Team-Exchange/token-lists/fce250658a4eae089b1d075190d376fb8044ce44/hedg-tokenlist.json',\n      Vetted:\n        'https://raw.githubusercontent.com/Team-Exchange/token-lists/fce250658a4eae089b1d075190d376fb8044ce44/hedg-tokenlist.json'\n    },\n    External: [\n      'ipns://tokens.uniswap.org',\n      'tokenlist.zerion.eth',\n      'tokens.1inch.eth',\n      'tokenlist.aave.eth',\n      'https://tokens.coingecko.com/uniswap/all.json',\n      'https://umaproject.org/uma.tokenlist.json'\n    ]\n  },\n  '42': {\n    HEDG: {\n      Default:\n        'https://raw.githubusercontent.com/Team-Exchange/token-lists/fce250658a4eae089b1d075190d376fb8044ce44/hedg-tokenlist.json',\n      Vetted:\n        'https://raw.githubusercontent.com/Team-Exchange/token-lists/fce250658a4eae089b1d075190d376fb8044ce44/hedg-tokenlist.json'\n    },\n    External: [\n      'ipns://tokens.uniswap.org',\n      'tokenlist.zerion.eth',\n      'tokens.1inch.eth',\n      'tokenlist.aave.eth',\n      'https://tokens.coingecko.com/uniswap/all.json',\n      'https://umaproject.org/uma.tokenlist.json'\n    ]\n  },\n  '137': {\n    HEDG: {\n      Default:\n        'https://storageapi.fleek.co/tomafrench-team-bucket/polygon.listed.tokenlist.json',\n      Vetted:\n        'https://storageapi.fleek.co/tomafrench-team-bucket/polygon.vetted.tokenlist.json'\n    },\n    External: [\n      'https://unpkg.com/quickswap-default-token-list@1.0.67/build/quickswap-default.tokenlist.json'\n    ]\n  }\n};\n\ntype TokenLists = {\n  All: string[];\n  HEDG: {\n    All: string[];\n    // Compliant list for exchange\n    Default: string;\n    // Extended list to include LBP tokens\n    Vetted: string;\n  };\n  Approved: string[];\n  External: string[];\n};\n\n/**\n * Convert TokenList config into a more usable structure\n */\nconst processTokenLists = (config: TokenListConfig): TokenLists => {\n  const { HEDG, External } = config;\n\n  const balancerLists = [HEDG.Default, HEDG.Vetted];\n  const All = [...balancerLists, ...External];\n  const Approved = [HEDG.Default, ...External];\n\n  return {\n    All,\n    HEDG: {\n      All: balancerLists,\n      ...HEDG\n    },\n    Approved,\n    External\n  };\n};\n\nconst TOKEN_LISTS = processTokenLists(TOKEN_LISTS_MAP[env.NETWORK]);\n\nexport default TOKEN_LISTS;\n","<template>\n  <div class=\"flex\">\n    <BalBtn\n      v-for=\"option in options\"\n      :key=\"option.value\"\n      @click=\"onSelect(option)\"\n      outline\n      size=\"sm\"\n      class=\"capitalize mr-2 w-18\"\n      v-bind=\"attrs_\"\n      :color=\"modelValue === option.value ? 'blue' : 'gray'\"\n    >\n      {{ 'best' === option.label ? $t(option.label) : option.label }}\n    </BalBtn>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType } from 'vue';\nimport omit from 'lodash/omit';\n\ninterface Option {\n  value: string | number;\n  label: string;\n}\n\nexport default defineComponent({\n  name: 'BalBtnGroup',\n\n  inheritAttrs: false,\n\n  emits: ['update:modelValue'],\n\n  props: {\n    modelValue: { type: [String, Number], required: true },\n    options: { type: Array as PropType<Option[]>, required: true }\n  },\n\n  setup(props, { emit, attrs }) {\n    // COMPUTED\n    const attrs_ = computed(() => omit(attrs, 'options'));\n\n    // METHODS\n    function onSelect(option: Option) {\n      emit('update:modelValue', option.value);\n    }\n\n    return {\n      // computed\n      attrs_,\n\n      // methods\n      onSelect\n    };\n  }\n});\n</script>\n","\nimport { computed, defineComponent, PropType } from 'vue';\nimport omit from 'lodash/omit';\n\ninterface Option {\n  value: string | number;\n  label: string;\n}\n\nexport default defineComponent({\n  name: 'BalBtnGroup',\n\n  inheritAttrs: false,\n\n  emits: ['update:modelValue'],\n\n  props: {\n    modelValue: { type: [String, Number], required: true },\n    options: { type: Array as PropType<Option[]>, required: true }\n  },\n\n  setup(props, { emit, attrs }) {\n    // COMPUTED\n    const attrs_ = computed(() => omit(attrs, 'options'));\n\n    // METHODS\n    function onSelect(option: Option) {\n      emit('update:modelValue', option.value);\n    }\n\n    return {\n      // computed\n      attrs_,\n\n      // methods\n      onSelect\n    };\n  }\n});\n","import { render } from \"./BalBtnGroup.vue?vue&type=template&id=4692b644\"\nimport script from \"./BalBtnGroup.vue?vue&type=script&lang=ts\"\nexport * from \"./BalBtnGroup.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalCard.vue?vue&type=style&index=0&id=55c6a50c&scoped=true&lang=css\"","<template>\n  <div :class=\"['bal-select-input', containerClasses]\" @click=\"onClick\">\n    <div class=\"flex items-center h-full\">\n      <div class=\"flex flex-col justify-center h-full flex-1\">\n        <div v-if=\"label || $slots.label\" :class=\"['label', labelClasses]\">\n          <slot name=\"label\">{{ label }}</slot>\n        </div>\n        <select\n          ref=\"balSelectInput\"\n          :value=\"modelValue\"\n          :name=\"name\"\n          :class=\"[inputClasses]\"\n          v-bind=\"$attrs\"\n          @change=\"onChange\"\n        >\n          <option v-if=\"defaultText\" value=\"\" hidden>\n            {{ defaultText }}\n          </option>\n          <option\n            v-for=\"(option, i) in options\"\n            :key=\"i\"\n            :value=\"valFor(option)\"\n            class=\"\"\n          >\n            {{ textFor(option) }}\n          </option>\n        </select>\n      </div>\n      <BalIcon name=\"chevron-down\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport BalIcon from '../BalIcon/BalIcon.vue';\nimport { defineComponent, ref, computed, PropType } from 'vue';\nimport { Rules, RuleFunction } from '@/types';\n\nexport default defineComponent({\n  name: 'BalSelectInput',\n\n  emits: ['change', 'update:modelValue'],\n\n  components: {\n    BalIcon\n  },\n\n  props: {\n    modelValue: { type: String, default: '' },\n    options: { type: Array, required: true },\n    name: { type: String, required: true },\n    label: { type: String, default: '' },\n    validateOn: { type: String, default: 'change' },\n    defaultText: { type: String, default: '' },\n    noMargin: { type: Boolean, default: false },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val)\n    },\n    rules: {\n      type: Array as PropType<Rules>,\n      default: () => []\n    }\n  },\n\n  setup(props, { emit }) {\n    const balSelectInput = ref({} as HTMLSelectElement);\n    const errors = ref([] as string[]);\n\n    const hasError = computed(() => errors.value.length > 0);\n\n    const textSizeClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'text-sm';\n        case 'lg':\n          return 'text-lg';\n        default:\n          return 'text-base';\n      }\n    });\n\n    const labelSizeClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'text-xs -mt-4';\n        case 'lg':\n          return 'text-base -mt-8';\n        default:\n          return 'text-sm -mt-6';\n      }\n    });\n\n    const inputHeightClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'h-10';\n        case 'lg':\n          return 'h-16';\n        default:\n          return 'h-12';\n      }\n    });\n\n    const containerClasses = computed(() => {\n      return {\n        [textSizeClasses.value]: true,\n        [inputHeightClasses.value]: true,\n        'mb-5': !props.noMargin\n      };\n    });\n\n    const inputClasses = computed(() => {\n      return {};\n    });\n\n    const labelClasses = computed(() => {\n      return {\n        [labelSizeClasses.value]: true\n      };\n    });\n\n    function valFor(option) {\n      if (typeof option === 'string' || option instanceof String) return option;\n      return option.value;\n    }\n\n    function textFor(option) {\n      if (typeof option === 'string' || option instanceof String) return option;\n      return option.text;\n    }\n\n    function onChange(event): void {\n      emit('change', event.target.value);\n      emit('update:modelValue', event.target.value);\n    }\n\n    function validate(val: string): void {\n      errors.value = [];\n      props.rules.forEach((rule: RuleFunction) => {\n        const result = rule(val);\n        if (typeof result === 'string') errors.value.push(result);\n      });\n    }\n\n    return {\n      balSelectInput,\n      hasError,\n      containerClasses,\n      inputClasses,\n      valFor,\n      textFor,\n      validate,\n      labelClasses,\n      onChange\n    };\n  }\n});\n</script>\n\n<style scoped>\n.bal-select-input {\n  @apply relative w-full border rounded-lg shadow-sm overflow-hidden px-2;\n}\n\n.label {\n  @apply text-gray-400;\n}\n\nselect {\n  @apply absolute w-full h-full leading-loose bg-transparent leading-none -ml-px pt-4;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  text-indent: 1px;\n  text-overflow: '';\n}\n</style>\n","\nimport BalIcon from '../BalIcon/BalIcon.vue';\nimport { defineComponent, ref, computed, PropType } from 'vue';\nimport { Rules, RuleFunction } from '@/types';\n\nexport default defineComponent({\n  name: 'BalSelectInput',\n\n  emits: ['change', 'update:modelValue'],\n\n  components: {\n    BalIcon\n  },\n\n  props: {\n    modelValue: { type: String, default: '' },\n    options: { type: Array, required: true },\n    name: { type: String, required: true },\n    label: { type: String, default: '' },\n    validateOn: { type: String, default: 'change' },\n    defaultText: { type: String, default: '' },\n    noMargin: { type: Boolean, default: false },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val)\n    },\n    rules: {\n      type: Array as PropType<Rules>,\n      default: () => []\n    }\n  },\n\n  setup(props, { emit }) {\n    const balSelectInput = ref({} as HTMLSelectElement);\n    const errors = ref([] as string[]);\n\n    const hasError = computed(() => errors.value.length > 0);\n\n    const textSizeClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'text-sm';\n        case 'lg':\n          return 'text-lg';\n        default:\n          return 'text-base';\n      }\n    });\n\n    const labelSizeClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'text-xs -mt-4';\n        case 'lg':\n          return 'text-base -mt-8';\n        default:\n          return 'text-sm -mt-6';\n      }\n    });\n\n    const inputHeightClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'h-10';\n        case 'lg':\n          return 'h-16';\n        default:\n          return 'h-12';\n      }\n    });\n\n    const containerClasses = computed(() => {\n      return {\n        [textSizeClasses.value]: true,\n        [inputHeightClasses.value]: true,\n        'mb-5': !props.noMargin\n      };\n    });\n\n    const inputClasses = computed(() => {\n      return {};\n    });\n\n    const labelClasses = computed(() => {\n      return {\n        [labelSizeClasses.value]: true\n      };\n    });\n\n    function valFor(option) {\n      if (typeof option === 'string' || option instanceof String) return option;\n      return option.value;\n    }\n\n    function textFor(option) {\n      if (typeof option === 'string' || option instanceof String) return option;\n      return option.text;\n    }\n\n    function onChange(event): void {\n      emit('change', event.target.value);\n      emit('update:modelValue', event.target.value);\n    }\n\n    function validate(val: string): void {\n      errors.value = [];\n      props.rules.forEach((rule: RuleFunction) => {\n        const result = rule(val);\n        if (typeof result === 'string') errors.value.push(result);\n      });\n    }\n\n    return {\n      balSelectInput,\n      hasError,\n      containerClasses,\n      inputClasses,\n      valFor,\n      textFor,\n      validate,\n      labelClasses,\n      onChange\n    };\n  }\n});\n","import { render } from \"./BalSelectInput.vue?vue&type=template&id=474f5c04&scoped=true\"\nimport script from \"./BalSelectInput.vue?vue&type=script&lang=ts\"\nexport * from \"./BalSelectInput.vue?vue&type=script&lang=ts\"\n\nimport \"./BalSelectInput.vue?vue&type=style&index=0&id=474f5c04&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-474f5c04\"\n\nexport default script","module.exports = __webpack_public_path__ + \"img/walletlink.f40549fa.svg\";","import getProvider from '@/lib/utils/provider';\nimport { getAllowances, getBalances } from '@/lib/utils/balancer/tokens';\nimport configs from '@/lib/config';\nimport { ETHER } from '@/constants/tokenlists';\nimport { isAddress } from '@ethersproject/address';\nimport { BigNumber } from '@ethersproject/bignumber';\n\ntype AddressToValue = Record<string, BigNumber>;\n\ninterface AccountState {\n  balances: AddressToValue;\n  allowances: AddressToValue;\n  loading: boolean;\n  loaded: boolean;\n}\n\nconst state: AccountState = {\n  balances: {},\n  allowances: {},\n  loading: false,\n  loaded: false\n};\n\nconst getters = {\n  getPortfolioValue: (state, getters, rootState, rootGetters) => () => {\n    const tokens = rootGetters['registry/getTokens']({ withBalance: true });\n    const ether = rootGetters['registry/getEther']();\n    return Object.values(tokens).reduce(\n      (a: any, b: any) => a + b.value,\n      ether.value || 0\n    );\n  },\n\n  getRequiredAllowances: (state, getters, rootState) => query => {\n    const config = rootState.web3.config.key;\n    const tokens = query.tokens;\n    const amounts = query.amounts;\n    const dst = query.dst || configs[config].addresses.vault;\n\n    const allowances = tokens.filter((token, index) => {\n      const amount = amounts[index];\n      if (parseFloat(amount) == 0) return false;\n      if (!state.allowances[dst]) return true;\n      if (!state.allowances[dst][token.toLowerCase()]) return true;\n      return state.allowances[dst][token.toLowerCase()].lt(amount);\n    });\n\n    return allowances;\n  }\n};\n\nconst actions = {\n  resetAccount({ commit }) {\n    commit('setBalances', {});\n    commit('setAllowances', {});\n    commit('setLoaded', false);\n  },\n\n  async getBalances({ commit, rootGetters, rootState }) {\n    const account = rootState.web3.account;\n    const tokens = rootGetters['registry/getTokens']();\n    if (!account || Object.keys(tokens).length === 0) return;\n    const network = rootState.web3.config.key;\n    const provider = getProvider(network);\n    commit('setLoading', true);\n    const [balances, etherBalance] = await Promise.all([\n      getBalances(\n        network,\n        provider,\n        account,\n        Object.values(tokens).map((token: any) => token.address)\n      ),\n      provider.getBalance(account)\n    ]);\n    balances.ether = etherBalance;\n    commit('setBalances', balances);\n    commit('setLoading', false);\n    commit('setLoaded', true);\n  },\n\n  async getAllowances({ commit, rootGetters, rootState }, payload) {\n    const network = rootState.web3.config.key;\n    const account: string = rootState.web3.account;\n    let tokens: string[] =\n      payload?.tokens || Object.keys(rootGetters['registry/getTokens']());\n    tokens = tokens.filter(\n      token => token !== ETHER.address && isAddress(token)\n    );\n    if (!account || tokens.length === 0) return;\n    const dst = payload?.dst || configs[network].addresses.vault;\n    commit('setLoading', true);\n    const dstAllowances = await getAllowances(\n      network,\n      getProvider(network),\n      account,\n      dst,\n      tokens\n    );\n    const allowances = state.allowances;\n    // @ts-ignore\n    allowances[dst] = { ...allowances[dst], ...dstAllowances };\n    commit('setLoading', false);\n    commit('setAllowances', allowances);\n  }\n};\n\nconst mutations = {\n  setLoading(_state: AccountState, val: boolean): void {\n    _state.loading = val;\n  },\n\n  setLoaded(_state: AccountState, val: boolean): void {\n    _state.loaded = val;\n  },\n\n  setBalances(_state: AccountState, balances: AddressToValue): void {\n    _state.balances = { ...balances };\n  },\n\n  setAllowances(_state: AccountState, allowances: AddressToValue): void {\n    _state.allowances = { ...allowances };\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  getters,\n  actions\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalAlert.vue?vue&type=style&index=0&id=946232c0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AppHero.vue?vue&type=style&index=0&id=4b39df50&lang=css\"","module.exports = __webpack_public_path__ + \"img/frame.d48644f2.svg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AppNavSettings.vue?vue&type=style&index=0&id=680a5a03&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/status.ff6d023b.svg\";","import { lsGet, lsSet } from '@/lib/utils';\nimport initialTokens from '@/constants/initialTokens.json';\n\nconst NETWORK = process.env.VUE_APP_NETWORK || '1';\n\nexport interface TradeState {\n  inputAsset: string;\n  outputAsset: string;\n}\n\nconst state: TradeState = {\n  inputAsset: '',\n  outputAsset: ''\n};\n\nconst actions = {\n  init({ commit }) {\n    commit(\n      'setInputAsset',\n      lsGet('trade.inputAsset', initialTokens[NETWORK].input)\n    );\n    commit(\n      'setOutputAsset',\n      lsGet('trade.outputAsset', initialTokens[NETWORK].output)\n    );\n  }\n};\n\nconst mutations = {\n  setInputAsset(state: TradeState, asset: string): void {\n    state.inputAsset = asset;\n    lsSet('trade.inputAsset', asset);\n  },\n\n  setOutputAsset(state: TradeState, asset: string): void {\n    state.outputAsset = asset;\n    lsSet('trade.outputAsset', asset);\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n};\n","module.exports = __webpack_public_path__ + \"img/metamask.96518a15.svg\";","var map = {\n\t\"./account.ts\": \"2a85\",\n\t\"./alerts.ts\": \"fec2\",\n\t\"./app.ts\": \"ac1a\",\n\t\"./index.ts\": \"f33f\",\n\t\"./market.ts\": \"98d6\",\n\t\"./registry.ts\": \"fc6f\",\n\t\"./trade.ts\": \"3cc4\",\n\t\"./web3.ts\": \"f1a9\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"3f9b\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalLoadingBlock.vue?vue&type=style&index=0&id=625520a9&lang=css\"","module.exports = __webpack_public_path__ + \"img/default.f6aa4028.svg\";","import { getAddress } from '@ethersproject/address';\n\nexport function returnChecksum() {\n  return function(target: any, key: string, descriptor: PropertyDescriptor) {\n    const originalMethod = descriptor.value;\n    descriptor.value = function(...args: any[]) {\n      const result = originalMethod.apply(this, args);\n      return getAddress(result);\n    };\n    return descriptor;\n  };\n}\n","import { CoingeckoClient } from '../coingecko.client';\nimport {\n  CoingeckoService,\n  getNativeAssetId,\n  getPlatformId\n} from '../coingecko.service';\nimport { TOKENS } from '@/constants/tokens';\nimport ConfigService from '@/services/config/config.service';\nimport { invert } from 'lodash';\nimport { returnChecksum } from '@/lib/decorators/return-checksum.decorator';\n\n// TYPES\nexport type Price = { [fiat: string]: number };\nexport type PriceResponse = { [id: string]: Price };\nexport type TokenPrices = { [address: string]: Price };\n\nexport class PriceService {\n  client: CoingeckoClient;\n  fiatParam: string;\n  baseEndpoint: string;\n  appNetwork: string;\n  platformId: string;\n  nativeAssetId: string;\n\n  constructor(\n    service: CoingeckoService,\n    private readonly configService = new ConfigService()\n  ) {\n    this.client = service.client;\n    this.fiatParam = service.supportedFiat;\n    this.baseEndpoint = '/simple';\n    this.appNetwork = configService.network.key;\n    this.platformId = getPlatformId(this.appNetwork);\n    this.nativeAssetId = getNativeAssetId(this.appNetwork);\n  }\n\n  async getEther(): Promise<Price> {\n    try {\n      const { ethereum: price } = await this.client.get<PriceResponse>(\n        `${this.baseEndpoint}/price?ids=${this.nativeAssetId}&vs_currencies=${this.fiatParam}`\n      );\n      return price;\n    } catch (error) {\n      console.error('Unable to fetch Ether price', error);\n      throw error;\n    }\n  }\n\n  async getTokens(addresses: string[]): Promise<TokenPrices> {\n    try {\n      addresses = addresses.map(address => this.addressMapIn(address));\n      const max = 100;\n      const pages = Math.ceil(addresses.length / max);\n      const requests: Promise<PriceResponse>[] = [];\n      Array.from(Array(pages).keys()).forEach(page => {\n        const addressString = addresses.slice(max * page, max * (page + 1));\n        const endpoint = `${this.baseEndpoint}/token_price/${this.platformId}?contract_addresses=${addressString}&vs_currencies=${this.fiatParam}`;\n        requests.push(this.client.get<PriceResponse>(endpoint));\n      });\n      const paginatedResults = await Promise.all(requests);\n      return this.parsePaginatedTokens(paginatedResults);\n    } catch (error) {\n      console.error('Unable to fetch token prices', addresses, error);\n      throw error;\n    }\n  }\n\n  private parsePaginatedTokens(paginatedResults: TokenPrices[]): TokenPrices {\n    const results = paginatedResults.reduce(\n      (result, page) => ({ ...result, ...page }),\n      {}\n    );\n    const entries = Object.entries(results);\n    const parsedEntries = entries.map(result => [\n      this.addressMapOut(result[0]),\n      result[1]\n    ]);\n    return Object.fromEntries(parsedEntries);\n  }\n\n  /**\n   * Map address to mainnet address if app network is a testnet\n   */\n  @returnChecksum()\n  private addressMapIn(address: string): string {\n    const addressMap = TOKENS.Prices.ChainMap[this.appNetwork];\n    if (!addressMap) return address;\n    return addressMap[address.toLowerCase()] || address;\n  }\n\n  /**\n   * Map mainnet address back to testnet address\n   */\n  @returnChecksum()\n  private addressMapOut(address: string): string {\n    const addressMap = TOKENS.Prices.ChainMap[this.appNetwork];\n    if (!addressMap) return address;\n    return invert(addressMap)[address.toLowerCase()] || address;\n  }\n}\n","import { PriceService } from './api/price.service';\nimport { CoingeckoClient } from './coingecko.client';\n\nconst SUPPORTED_FIAT = ['usd'];\n\nexport const getNativeAssetId = (chainId: string): string => {\n  const mapping = {\n    '1': 'ethereum',\n    '42': 'ethereum',\n    '137': 'matic-network'\n  };\n\n  return mapping[chainId] || 'ethereum';\n};\n\nexport const getPlatformId = (chainId: string): string => {\n  const mapping = {\n    '1': 'ethereum',\n    '42': 'ethereum',\n    '137': 'polygon-pos'\n  };\n\n  return mapping[chainId] || 'ethereum';\n};\n\nexport class CoingeckoService {\n  supportedFiat: string;\n  prices: PriceService;\n\n  constructor(\n    public readonly client = new CoingeckoClient(),\n    priceServiceClass = PriceService\n  ) {\n    this.supportedFiat = SUPPORTED_FIAT.join(',');\n    this.prices = new priceServiceClass(this);\n  }\n}\n","import useConfig from '@/composables/useConfig';\nimport { getNativeAssetId, getPlatformId } from './coingecko/coingecko.service';\n\nfunction getChainAddress(chainId: number, address: string) {\n  if (!address) {\n    return;\n  }\n  const map = {\n    1: {},\n    42: {\n      '0xdfcea9088c8a88a76ff74892c1457c17dfeef9c1':\n        '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\n      '0x1c8e3bcb3378a443cc591f154c5ce0ebb4da9648':\n        '0x2260fac5e5542a773aa44fbcfedf7c193bc2c599',\n      '0x41286bb1d3e870f3f750eb7e1c25d7e48c8a1ac7':\n        '0xba100000625a3754423978a60c9317c58a424e3d',\n      '0x8f4bebf498cc624a0797fe64114a6ff169eee078':\n        '0xbc396689893d065f41bc2c6ecbee5e0085233447',\n      '0xaf9ac3235be96ed496db7969f60d354fe5e426b0':\n        '0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2',\n      '0xc2569dd7d0fd715b054fbf16e75b001e5c0c1115':\n        '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\n      '0x04df6e4121c27713ed22341e7c7df330f56f289b':\n        '0x6b175474e89094c44da98b954eedeac495271d0f',\n      '0xcc08220af469192c53295fdd34cfb8df29aa17ab':\n        '0xdac17f958d2ee523a2206206994597c13d831ec7'\n    },\n    137: {}\n  };\n  return map[chainId][address.toLowerCase()] || address;\n}\n\nexport function getOriginalAddress(chainId: number, address: string) {\n  if (!address) {\n    return;\n  }\n  const map = {\n    // WETH\n    '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2': {\n      42: '0xdfcea9088c8a88a76ff74892c1457c17dfeef9c1',\n      137: '0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619'\n    },\n    // WBTC\n    '0x2260fac5e5542a773aa44fbcfedf7c193bc2c599': {\n      42: '0x1c8e3bcb3378a443cc591f154c5ce0ebb4da9648'\n    },\n    // BAL\n    '0xba100000625a3754423978a60c9317c58a424e3d': {\n      42: '0x41286bb1d3e870f3f750eb7e1c25d7e48c8a1ac7',\n      137: '0x9a71012b13ca4d3d0cdc72a177df3ef03b0e76a3'\n    },\n    // PERP\n    '0xbc396689893d065f41bc2c6ecbee5e0085233447': {\n      42: '0x8f4bebf498cc624a0797fe64114a6ff169eee078'\n    },\n    // MKR\n    '0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2': {\n      42: '0xaf9ac3235be96ed496db7969f60d354fe5e426b0'\n    },\n    // USDC\n    '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48': {\n      42: '0xc2569dd7d0fd715b054fbf16e75b001e5c0c1115'\n    },\n    // DAI\n    '0x6b175474e89094c44da98b954eedeac495271d0f': {\n      42: '0x04df6e4121c27713ed22341e7c7df330f56f289b'\n    },\n    '0xdac17f958d2ee523a2206206994597c13d831ec7': {\n      42: '0xcc08220af469192c53295fdd34cfb8df29aa17ab'\n    }\n  };\n  if (!map[address] || !map[address][chainId]) {\n    return address.toLowerCase();\n  }\n  return map[address][chainId];\n}\n\ninterface Price {\n  price: number;\n  price24HChange: number;\n}\n\nexport type Prices = Record<string, Price>;\n\nexport type HistoricalPrices = Record<string, Prices>;\n\nexport async function getEtherPrice(): Promise<Price> {\n  const { env } = useConfig();\n  const nativeAssetId = getNativeAssetId(env.NETWORK);\n  const uri = `https://api.coingecko.com/api/v3/simple/price?ids=${nativeAssetId}&vs_currencies=usd&include_24hr_change=true`;\n  const result = await fetch(uri).then(res => res.json());\n  return {\n    price: result[nativeAssetId].usd,\n    price24HChange: result[nativeAssetId].usd_24h_change\n  };\n}\n\nexport async function getTokensPrice(\n  chainId: number,\n  addresses: string[]\n): Promise<Prices> {\n  const { env } = useConfig();\n\n  const max = 175;\n  const pages = Math.ceil(addresses.length / max);\n  const promises = [];\n  Array.from(Array(pages)).forEach((x, i) => {\n    const addressString = addresses\n      .slice(max * i, max * (i + 1))\n      .map(address => getChainAddress(chainId, address));\n    const uri = `https://api.coingecko.com/api/v3/simple/token_price/${getPlatformId(\n      env.NETWORK\n    )}?contract_addresses=${addressString}&vs_currencies=usd&include_24hr_change=true`;\n    // @ts-ignore\n    promises.push(fetch(uri).then(res => res.json()));\n  });\n  const results = await Promise.all(promises);\n  const prices = results.reduce(\n    (obj, result: any) => ({ ...obj, ...result }),\n    {}\n  );\n  return Object.fromEntries(\n    Object.entries(prices).map((token: any) => [\n      getOriginalAddress(chainId, token[0]),\n      {\n        price: token[1].usd,\n        price24HChange: token[1].usd_24h_change\n      }\n    ])\n  );\n}\n\nexport async function getTokensHistoricalPrice(\n  chainId: number,\n  addresses: string[],\n  days: number\n): Promise<HistoricalPrices> {\n  const { env } = useConfig();\n\n  const DAY = 60 * 60 * 24;\n  const now = Math.floor(Date.now() / 1000);\n  const end = now - (now % DAY);\n  const start = end - days * DAY;\n  const priceRequests = addresses.map(address => {\n    const chainAddress = getChainAddress(chainId, address);\n    const url = `https://api.coingecko.com/api/v3/coins/${getPlatformId(\n      env.NETWORK\n    )}/contract/${chainAddress}/market_chart/range?vs_currency=usd&from=${start}&to=${end}`;\n    const request = fetch(url).then(res => res.json());\n    return request;\n  });\n  const results = await Promise.all(priceRequests);\n\n  const assetPrices = Object.fromEntries(\n    addresses.map((chainAddress, index) => {\n      const address = getOriginalAddress(chainId, chainAddress);\n      const result = (results[index] as any).prices as number[][];\n      const prices = {};\n      let dayTimestamp = start;\n      for (const key in result) {\n        const value = result[key];\n        const [timestamp, price] = value;\n        if (timestamp > dayTimestamp * 1000) {\n          prices[dayTimestamp * 1000] = price;\n          dayTimestamp += DAY;\n        }\n      }\n      return [address, prices];\n    })\n  );\n\n  const prices = {};\n  for (const asset in assetPrices) {\n    const assetPrice = assetPrices[asset];\n    for (const timestamp in assetPrice) {\n      const price = assetPrice[timestamp];\n      if (!(timestamp in prices)) {\n        prices[timestamp] = [];\n      }\n      prices[timestamp].push(price);\n    }\n  }\n  return prices;\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalRangeInput.vue?vue&type=style&index=0&id=d2b9e1ea&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalPopover.vue?vue&type=style&index=0&id=eb8661ac&lang=css\"","var map = {\n\t\"./ethereum.svg\": \"537f\",\n\t\"./polygon.svg\": \"95cc\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4a7f\";","export const APP = {\n  Network: process.env.VUE_APP_NETWORK || '1',\n  IsGnosisIntegration: process.env.VUE_APP_GNOSIS_INTEGRATION === 'true'\n};\n","import set from 'lodash/set';\nimport { JsonRpcProvider } from '@ethersproject/providers';\nimport { Contract } from '@ethersproject/contracts';\nimport { Interface } from '@ethersproject/abi';\nimport { default as multicallAbi } from '@/lib/abi/Multicall.json';\nimport configs from '@/lib/config';\n\nexport async function call(provider, abi: any[], call: any[], options?) {\n  const contract = new Contract(call[0], abi, provider);\n  try {\n    const params = call[2] || [];\n    return await contract[call[1]](...params, options || {});\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\nexport async function multicall(\n  network: string,\n  provider,\n  abi: any[],\n  calls: any[],\n  options?\n): Promise<any[]> {\n  const multi = new Contract(\n    configs[network].addresses.multicall,\n    multicallAbi,\n    provider\n  );\n  const itf = new Interface(abi);\n  try {\n    const [, res] = await multi.aggregate(\n      calls.map(call => [\n        call[0].toLowerCase(),\n        itf.encodeFunctionData(call[1], call[2])\n      ]),\n      options || {}\n    );\n    return res.map((call, i) => itf.decodeFunctionResult(calls[i][1], call));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\nexport class Multicaller {\n  public network: string;\n  public provider: JsonRpcProvider;\n  public abi: any[];\n  public options: any = {};\n  public calls: any[] = [];\n  public paths: any[] = [];\n\n  constructor(\n    network: string,\n    provider: JsonRpcProvider,\n    abi: any[],\n    options?\n  ) {\n    this.network = network;\n    this.provider = provider;\n    this.abi = abi;\n    this.options = options || {};\n  }\n\n  call(path, address, fn, params?): Multicaller {\n    this.calls.push([address, fn, params]);\n    this.paths.push(path);\n    return this;\n  }\n\n  async execute(from?: any): Promise<any> {\n    const obj = from || {};\n    const result = await multicall(\n      this.network,\n      this.provider,\n      this.abi,\n      this.calls,\n      this.options\n    );\n    result.forEach((r, i) => set(obj, this.paths[i], r.length > 1 ? r : r[0]));\n    this.calls = [];\n    this.paths = [];\n    return obj;\n  }\n}\n","<template>\n  <div class=\"bal-icon inline-block\">\n    <i :data-feather=\"name\" :width=\"iconSize\" :height=\"iconSize\" :fill=\"fill\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport feather from 'feather-icons';\nimport { computed, defineComponent, onMounted } from 'vue';\n\nexport default defineComponent({\n  name: 'BalIcon',\n\n  props: {\n    name: { type: String, required: true },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => {\n        return ['xxs', 'xs', 'sm', 'md', 'lg', 'xl'].includes(val);\n      }\n    },\n    filled: { type: Boolean, default: false }\n  },\n\n  setup(props) {\n    const iconSize = computed(() => {\n      switch (props.size) {\n        case 'xxs':\n          return '8';\n        case 'xs':\n          return '12';\n        case 'sm':\n          return '16';\n        case 'lg':\n          return '24';\n        case 'xl':\n          return '28';\n        default:\n          return '20';\n      }\n    });\n\n    const fill = computed(() => (props.filled ? 'currentColor' : 'none'));\n\n    onMounted(() => feather.replace());\n\n    return { iconSize, fill };\n  }\n});\n</script>\n","\nimport feather from 'feather-icons';\nimport { computed, defineComponent, onMounted } from 'vue';\n\nexport default defineComponent({\n  name: 'BalIcon',\n\n  props: {\n    name: { type: String, required: true },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => {\n        return ['xxs', 'xs', 'sm', 'md', 'lg', 'xl'].includes(val);\n      }\n    },\n    filled: { type: Boolean, default: false }\n  },\n\n  setup(props) {\n    const iconSize = computed(() => {\n      switch (props.size) {\n        case 'xxs':\n          return '8';\n        case 'xs':\n          return '12';\n        case 'sm':\n          return '16';\n        case 'lg':\n          return '24';\n        case 'xl':\n          return '28';\n        default:\n          return '20';\n      }\n    });\n\n    const fill = computed(() => (props.filled ? 'currentColor' : 'none'));\n\n    onMounted(() => feather.replace());\n\n    return { iconSize, fill };\n  }\n});\n","import { render } from \"./BalIcon.vue?vue&type=template&id=527de920\"\nimport script from \"./BalIcon.vue?vue&type=script&lang=ts\"\nexport * from \"./BalIcon.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","module.exports = __webpack_public_path__ + \"img/ethereum.a9709f9a.svg\";","<template>\n  <div class=\"bal-blank-slate\">\n    <slot v-text=\"$t('noContent')\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'BalBlankSlate'\n});\n</script>\n\n<style>\n.bal-blank-slate {\n  @apply border border-dashed p-8 flex flex-col items-center justify-center text-gray-500 rounded-lg;\n  min-height: 5px;\n}\n</style>\n","\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'BalBlankSlate'\n});\n","import { render } from \"./BalBlankSlate.vue?vue&type=template&id=ea44f706\"\nimport script from \"./BalBlankSlate.vue?vue&type=script&lang=ts\"\nexport * from \"./BalBlankSlate.vue?vue&type=script&lang=ts\"\n\nimport \"./BalBlankSlate.vue?vue&type=style&index=0&id=ea44f706&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <svg\n    width=\"15\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M0.888584 8.06059L7.77779 14.9498L14.667 8.06059L13.211 6.59752L8.83603 10.9796V0.333313H6.71955V10.9796L2.33745 6.59752L0.888584 8.06059Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","import { render } from \"./ArrowDownIcon.vue?vue&type=template&id=148bfb66\"\nconst script = {}\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TradePreviewModalGP.vue?vue&type=style&index=0&id=58ec6063&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/logo-dark.d14c9e49.png\";","module.exports = __webpack_public_path__ + \"img/imtoken.c3896985.svg\";","<template>\n  <svg\n    width=\"18\"\n    height=\"18\"\n    viewBox=\"0 0 18 18\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <circle\n      cx=\"9\"\n      cy=\"9\"\n      r=\"8\"\n      stroke=\"white\"\n      stroke-opacity=\"0.5\"\n      stroke-width=\"1.5\"\n    />\n    <path\n      d=\"M9 17C4.58172 17 1 13.4183 1 9\"\n      stroke=\"white\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"bevel\"\n      stroke-dasharray=\"387 10\"\n    />\n  </svg>\n</template>\n","import { render } from \"./SpinnerIcon.vue?vue&type=template&id=607455df\"\nconst script = {}\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Trade.vue?vue&type=style&index=0&id=7a0cd0b9&scoped=true&lang=css\"","<template>\n  <div :class=\"['bal-card', cardClasses]\">\n    <div v-if=\"!!title || $slots.header\" :class=\"['header', headerClasses]\">\n      <component :is=\"titleTag\" v-if=\"!!title\" v-text=\"title\" />\n      <div v-if=\"$slots.header\" class=\"flex-1 flex items-center\">\n        <slot name=\"header\" />\n      </div>\n    </div>\n    <div :class=\"['content', contentClasses]\">\n      <slot />\n    </div>\n    <div v-if=\"$slots.footer\" :class=\"['footer', footerClasses]\">\n      <slot name=\"footer\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue';\n\nexport default defineComponent({\n  name: 'BalCard',\n\n  props: {\n    title: { type: String, default: '' },\n    titleTag: { type: String, default: 'h5' },\n    square: { type: Boolean, default: false },\n    noPad: { type: Boolean, default: false },\n    noContentPad: { type: Boolean, default: false },\n    noBorder: { type: Boolean, default: false },\n    shadow: {\n      type: String,\n      default: '',\n      validator: (val: string): boolean => {\n        return ['', 'none', 'sm', 'md', 'lg', 'xl'].includes(val);\n      }\n    }\n  },\n\n  setup(props) {\n    const borderClasses = computed(() => {\n      return 'border dark:border-gray-700';\n    });\n\n    const cardClasses = computed(() => {\n      return {\n        'rounded-lg': !props.square,\n        [`shadow${props.shadow ? '-' : ''}${props.shadow}`]: true,\n        [borderClasses.value]: !props.noBorder\n      };\n    });\n\n    const headerClasses = computed(() => {\n      return {\n        'p-4 pb-3': !props.noPad\n      };\n    });\n\n    const contentClasses = computed(() => {\n      return {\n        'p-4 pt-3': !props.noPad && !props.noContentPad\n      };\n    });\n\n    const footerClasses = computed(() => {\n      return {\n        'rounded-b-lg': !props.square,\n        'p-4 pt-3': !props.noPad\n      };\n    });\n\n    return {\n      cardClasses,\n      contentClasses,\n      headerClasses,\n      footerClasses\n    };\n  }\n});\n</script>\n\n<style scoped>\n.bal-card {\n  @apply bg-white dark:bg-gray-900;\n}\n\n.header {\n  @apply flex items-center;\n}\n\n.footer {\n  @apply flex items-center;\n  @apply bg-gray-50 dark:bg-gray-800;\n  @apply border-t border-gray-100 dark:border-gray-700;\n}\n</style>\n","\nimport { defineComponent, computed } from 'vue';\n\nexport default defineComponent({\n  name: 'BalCard',\n\n  props: {\n    title: { type: String, default: '' },\n    titleTag: { type: String, default: 'h5' },\n    square: { type: Boolean, default: false },\n    noPad: { type: Boolean, default: false },\n    noContentPad: { type: Boolean, default: false },\n    noBorder: { type: Boolean, default: false },\n    shadow: {\n      type: String,\n      default: '',\n      validator: (val: string): boolean => {\n        return ['', 'none', 'sm', 'md', 'lg', 'xl'].includes(val);\n      }\n    }\n  },\n\n  setup(props) {\n    const borderClasses = computed(() => {\n      return 'border dark:border-gray-700';\n    });\n\n    const cardClasses = computed(() => {\n      return {\n        'rounded-lg': !props.square,\n        [`shadow${props.shadow ? '-' : ''}${props.shadow}`]: true,\n        [borderClasses.value]: !props.noBorder\n      };\n    });\n\n    const headerClasses = computed(() => {\n      return {\n        'p-4 pb-3': !props.noPad\n      };\n    });\n\n    const contentClasses = computed(() => {\n      return {\n        'p-4 pt-3': !props.noPad && !props.noContentPad\n      };\n    });\n\n    const footerClasses = computed(() => {\n      return {\n        'rounded-b-lg': !props.square,\n        'p-4 pt-3': !props.noPad\n      };\n    });\n\n    return {\n      cardClasses,\n      contentClasses,\n      headerClasses,\n      footerClasses\n    };\n  }\n});\n","import { render } from \"./BalCard.vue?vue&type=template&id=55c6a50c&scoped=true\"\nimport script from \"./BalCard.vue?vue&type=script&lang=ts\"\nexport * from \"./BalCard.vue?vue&type=script&lang=ts\"\n\nimport \"./BalCard.vue?vue&type=style&index=0&id=55c6a50c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-55c6a50c\"\n\nexport default script","<template>\n  <div v-if=\"show\" class=\"bal-modal\" @click=\"hide\" @keyup.esc=\"hide\">\n    <transition name=\"modal-bg\" mode=\"out-in\" appear>\n      <div v-if=\"showContent\" class=\"modal-bg\" @click=\"hide\" />\n    </transition>\n    <div class=\"content-container\">\n      <AnimatePresence\n        :initial=\"{ opacity: 0, translateY: 7.5 }\"\n        :animate=\"{\n          opacity: 1,\n          translateY: 0,\n          delay: 100\n        }\"\n        :exit=\"{ opacity: 0, translateY: 15 }\"\n        :isVisible=\"showContent\"\n        @on-exit=\"$emit('close')\"\n        class=\"flex justify-center w-full\"\n      >\n        <div class=\"content\" @click.stop>\n          <BalCard\n            :title=\"title\"\n            shadow=\"lg\"\n            :no-pad=\"noPad\"\n            :no-content-pad=\"noContentPad\"\n            class=\"modal-card\"\n            no-border\n          >\n            <template v-if=\"$slots.header\" v-slot:header>\n              <slot name=\"header\" />\n            </template>\n            <slot />\n            <template v-if=\"$slots.footer\" v-slot:footer>\n              <slot name=\"footer\" />\n            </template>\n          </BalCard>\n        </div>\n      </AnimatePresence>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport BalCard from '../BalCard/BalCard.vue';\nimport AnimatePresence from '@/components/animate/AnimatePresence.vue';\nimport { defineComponent, ref, toRefs, watch } from 'vue';\n\nexport default defineComponent({\n  name: 'BalModal',\n\n  components: {\n    BalCard,\n    AnimatePresence\n  },\n\n  props: {\n    show: { type: Boolean, default: false },\n    title: { type: String, default: '' },\n    noPad: { type: Boolean, default: false },\n    noContentPad: { type: Boolean, default: false }\n  },\n\n  setup(props) {\n    const { show } = toRefs(props);\n    const showContent = ref(show.value);\n\n    // Watchers\n    watch(show, newVal => {\n      showContent.value = newVal;\n    });\n\n    // Methods\n    function hide(): void {\n      showContent.value = false;\n    }\n\n    return {\n      showContent,\n      hide\n    };\n  }\n});\n</script>\n\n<style scoped>\n.bal-modal {\n  @apply top-0 left-0 fixed h-screen w-full;\n  z-index: 9999999999;\n}\n\n.content-container {\n  @apply flex h-screen items-end sm:items-center justify-center;\n}\n\n.content {\n  @apply relative w-full h-3/4 sm:h-auto max-h-screen overflow-hidden;\n  max-width: 450px;\n}\n\n.modal-bg {\n  @apply absolute h-full w-full bg-black bg-opacity-80;\n}\n\n.modal-card {\n  @apply mx-auto h-full rounded-b-none sm:rounded-b-lg;\n}\n\n.modal-bg-enter-active {\n  transition: all 0.3s ease-in-out;\n}\n\n.modal-bg-leave-active {\n  transition: all 0.3s ease-in-out;\n}\n\n.modal-bg-enter-from,\n.modal-bg-leave-to {\n  background: transparent;\n}\n</style>\n","<template>\n  <transition appear @enter=\"enter\" @leave=\"leave\" :css=\"false\">\n    <div id=\"animateContainer\" ref=\"animateContainer\" v-if=\"isVisible\">\n      <slot></slot>\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\">\nimport anime, { AnimeParams } from 'animejs';\nimport { defineComponent, onMounted, PropType, ref } from 'vue';\nexport default defineComponent({\n  emits: ['on-exit'],\n  props: {\n    initial: {\n      type: Object as PropType<AnimeParams>,\n      required: true\n    },\n    animate: {\n      type: Object as PropType<AnimeParams>,\n      required: true\n    },\n    exit: {\n      type: Object as PropType<AnimeParams>,\n      required: true\n    },\n    isVisible: {\n      type: Boolean,\n      required: true\n    }\n  },\n  setup(props, { emit }) {\n    const animateContainer = ref<HTMLElement>();\n\n    onMounted(() => {\n      if (animateContainer.value) {\n        anime.set(animateContainer.value, {\n          ...props.initial\n        });\n      }\n    });\n\n    const enter = (el, done) => {\n      // on mount we set initial values, but the issue is that enter will run at\n      // the same time, setTimeout(0) makes the animation run on the next\n      // available tick, so it's instant visually but on a tick delay for code\n      setTimeout(\n        () =>\n          anime({\n            targets: el,\n            ...props.animate,\n            easing: 'spring(0.2, 80, 10, 0)',\n            complete: () => done()\n          }),\n        0\n      );\n    };\n\n    const leave = (el, done) => {\n      anime.set(el, {\n        'pointer-events': 'none'\n      });\n      anime({\n        targets: el,\n        ...props.exit,\n        easing: 'spring(0.2, 80, 10, 0)',\n        complete: () => {\n          done();\n          emit('on-exit');\n        }\n      });\n    };\n\n    return {\n      animateContainer,\n      enter,\n      leave\n    };\n  }\n});\n</script>\n","\nimport anime, { AnimeParams } from 'animejs';\nimport { defineComponent, onMounted, PropType, ref } from 'vue';\nexport default defineComponent({\n  emits: ['on-exit'],\n  props: {\n    initial: {\n      type: Object as PropType<AnimeParams>,\n      required: true\n    },\n    animate: {\n      type: Object as PropType<AnimeParams>,\n      required: true\n    },\n    exit: {\n      type: Object as PropType<AnimeParams>,\n      required: true\n    },\n    isVisible: {\n      type: Boolean,\n      required: true\n    }\n  },\n  setup(props, { emit }) {\n    const animateContainer = ref<HTMLElement>();\n\n    onMounted(() => {\n      if (animateContainer.value) {\n        anime.set(animateContainer.value, {\n          ...props.initial\n        });\n      }\n    });\n\n    const enter = (el, done) => {\n      // on mount we set initial values, but the issue is that enter will run at\n      // the same time, setTimeout(0) makes the animation run on the next\n      // available tick, so it's instant visually but on a tick delay for code\n      setTimeout(\n        () =>\n          anime({\n            targets: el,\n            ...props.animate,\n            easing: 'spring(0.2, 80, 10, 0)',\n            complete: () => done()\n          }),\n        0\n      );\n    };\n\n    const leave = (el, done) => {\n      anime.set(el, {\n        'pointer-events': 'none'\n      });\n      anime({\n        targets: el,\n        ...props.exit,\n        easing: 'spring(0.2, 80, 10, 0)',\n        complete: () => {\n          done();\n          emit('on-exit');\n        }\n      });\n    };\n\n    return {\n      animateContainer,\n      enter,\n      leave\n    };\n  }\n});\n","import { render } from \"./AnimatePresence.vue?vue&type=template&id=7d4f02ca\"\nimport script from \"./AnimatePresence.vue?vue&type=script&lang=ts\"\nexport * from \"./AnimatePresence.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport BalCard from '../BalCard/BalCard.vue';\nimport AnimatePresence from '@/components/animate/AnimatePresence.vue';\nimport { defineComponent, ref, toRefs, watch } from 'vue';\n\nexport default defineComponent({\n  name: 'BalModal',\n\n  components: {\n    BalCard,\n    AnimatePresence\n  },\n\n  props: {\n    show: { type: Boolean, default: false },\n    title: { type: String, default: '' },\n    noPad: { type: Boolean, default: false },\n    noContentPad: { type: Boolean, default: false }\n  },\n\n  setup(props) {\n    const { show } = toRefs(props);\n    const showContent = ref(show.value);\n\n    // Watchers\n    watch(show, newVal => {\n      showContent.value = newVal;\n    });\n\n    // Methods\n    function hide(): void {\n      showContent.value = false;\n    }\n\n    return {\n      showContent,\n      hide\n    };\n  }\n});\n","import { render } from \"./BalModal.vue?vue&type=template&id=7a6245a2&scoped=true\"\nimport script from \"./BalModal.vue?vue&type=script&lang=ts\"\nexport * from \"./BalModal.vue?vue&type=script&lang=ts\"\n\nimport \"./BalModal.vue?vue&type=style&index=0&id=7a6245a2&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-7a6245a2\"\n\nexport default script","<template>\n  <div class=\"relative\" v-click-outside=\"handleClickOutside\">\n    <div\n      class=\"bal-popover-activator group\"\n      @click=\"trigger === 'click' && togglePopover()\"\n      @mouseenter=\"trigger === 'hover' && showPopover()\"\n      @mouseleave=\"trigger === 'hover' && hidePopover()\"\n    >\n      <slot name=\"activator\" />\n    </div>\n    <div :class=\"popoverWrapperClasses\">\n      <BalCard shadow=\"lg\" v-bind=\"$attrs\">\n        <slot />\n      </BalCard>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, PropType } from 'vue';\n\ntype PopoverTrigger = 'click' | 'hover';\n\nexport default defineComponent({\n  name: 'BalPopover',\n\n  props: {\n    trigger: {\n      type: String as PropType<PopoverTrigger>,\n      default: 'click'\n    },\n    align: { type: String, default: 'right' }\n  },\n  setup(props) {\n    // DATA\n    const popoverOpened = ref(false);\n\n    // METHODS\n    function togglePopover() {\n      popoverOpened.value = !popoverOpened.value;\n    }\n\n    function showPopover() {\n      popoverOpened.value = true;\n    }\n\n    function hidePopover() {\n      popoverOpened.value = false;\n    }\n\n    function handleClickOutside() {\n      if (props.trigger === 'click') {\n        hidePopover();\n      }\n    }\n\n    // COMPUTED\n    const popoverWrapperClasses = computed(() => ({\n      'bal-popover-wrapper': true,\n      'bal-popover-wrapper-visible': popoverOpened.value,\n      [`${props.align}-0`]: true\n    }));\n\n    return {\n      // methods\n      togglePopover,\n      showPopover,\n      hidePopover,\n      handleClickOutside,\n\n      // computed\n      popoverWrapperClasses\n    };\n  }\n});\n</script>\n\n<style>\n.bal-popover-wrapper {\n  @apply top-full invisible opacity-0 absolute z-10 pt-3;\n  transition: all 0.2s ease-in-out;\n}\n\n.bal-popover-wrapper-visible {\n  @apply visible opacity-100;\n}\n\n.bal-popover-wrapper:hover {\n  @apply visible opacity-100;\n}\n</style>\n","\nimport { defineComponent, ref, computed, PropType } from 'vue';\n\ntype PopoverTrigger = 'click' | 'hover';\n\nexport default defineComponent({\n  name: 'BalPopover',\n\n  props: {\n    trigger: {\n      type: String as PropType<PopoverTrigger>,\n      default: 'click'\n    },\n    align: { type: String, default: 'right' }\n  },\n  setup(props) {\n    // DATA\n    const popoverOpened = ref(false);\n\n    // METHODS\n    function togglePopover() {\n      popoverOpened.value = !popoverOpened.value;\n    }\n\n    function showPopover() {\n      popoverOpened.value = true;\n    }\n\n    function hidePopover() {\n      popoverOpened.value = false;\n    }\n\n    function handleClickOutside() {\n      if (props.trigger === 'click') {\n        hidePopover();\n      }\n    }\n\n    // COMPUTED\n    const popoverWrapperClasses = computed(() => ({\n      'bal-popover-wrapper': true,\n      'bal-popover-wrapper-visible': popoverOpened.value,\n      [`${props.align}-0`]: true\n    }));\n\n    return {\n      // methods\n      togglePopover,\n      showPopover,\n      hidePopover,\n      handleClickOutside,\n\n      // computed\n      popoverWrapperClasses\n    };\n  }\n});\n","import { render } from \"./BalPopover.vue?vue&type=template&id=eb8661ac\"\nimport script from \"./BalPopover.vue?vue&type=script&lang=ts\"\nexport * from \"./BalPopover.vue?vue&type=script&lang=ts\"\n\nimport \"./BalPopover.vue?vue&type=style&index=0&id=eb8661ac&lang=css\"\nscript.render = render\n\nexport default script","import {\n  SOR as SORV2,\n  SwapInfo,\n  DisabledOptions,\n  SubGraphPoolsBase,\n  SubgraphPoolBase,\n  SwapTypes,\n  fetchSubgraphPools,\n  SwapOptions,\n  PoolFilter\n} from '@balancer-labs/sor2';\nimport { SOR as SORV1 } from '@balancer-labs/sor';\nimport { BaseProvider } from '@ethersproject/providers';\nimport { AddressZero } from '@ethersproject/constants';\nimport BigNumber from 'bignumber.js';\nimport { scale } from '@/lib/utils';\nimport { Swap, Pool } from '@balancer-labs/sor/dist/types';\nimport { ETHER } from '@/constants/tokenlists';\n\nconst SWAP_COST = process.env.VUE_APP_SWAP_COST || '100000';\n\nexport enum LiquiditySelection {\n  Best = 'best',\n  V1 = 'v1',\n  V2 = 'v2'\n}\n\nexport interface SorReturn {\n  isV1swap: boolean;\n  isV1best: boolean;\n  tokenIn: string;\n  tokenOut: string;\n  returnDecimals: number;\n  hasSwaps: boolean;\n  returnAmount: BigNumber;\n  marketSpNormalised: BigNumber;\n  v1result: [Swap[][], BigNumber, BigNumber];\n  v2result: SwapInfo;\n}\n\ninterface FetchStatus {\n  v1finishedFetch: boolean;\n  v2finishedFetch: boolean;\n  v1success: boolean;\n  v2success: boolean;\n}\n\n/*\nAims to manage liquidity between V1 & V2 using SOR.\n*/\nexport class SorManager {\n  sorV1: SORV1;\n  sorV2: SORV2;\n  selectedPools: (SubgraphPoolBase | Pool)[] = [];\n  weth: string;\n  subgraphUrl: string;\n  fetchStatus: FetchStatus = {\n    v1finishedFetch: false,\n    v2finishedFetch: false,\n    v1success: false,\n    v2success: false\n  };\n\n  constructor(\n    provider: BaseProvider,\n    gasPrice: BigNumber,\n    maxPools: number,\n    chainId: number,\n    weth: string,\n    poolsSourceV1: string,\n    poolsSourceV2: SubGraphPoolsBase | string,\n    subgraphUrl: string,\n    disabledOptions: DisabledOptions = {\n      isOverRide: false,\n      disabledTokens: []\n    }\n  ) {\n    // Initialises SOR. Note they use different SOR packages.\n    this.sorV1 = new SORV1(\n      provider,\n      gasPrice,\n      maxPools,\n      chainId,\n      poolsSourceV1\n    );\n\n    this.sorV2 = new SORV2(\n      provider,\n      gasPrice,\n      maxPools,\n      chainId,\n      poolsSourceV2,\n      new BigNumber(SWAP_COST),\n      disabledOptions\n    );\n    this.weth = weth;\n    this.subgraphUrl = subgraphUrl;\n  }\n\n  // Uses SOR V2 to retrieve the cost & reuses for SOR V1 to save time (requires onchain call).\n  // If previously called the cached value will be used.\n  async setCostOutputToken(\n    tokenAddr: string,\n    tokenDecimals: number,\n    manualCost: BigNumber | null = null\n  ): Promise<BigNumber> {\n    tokenAddr = tokenAddr === ETHER.address ? this.weth : tokenAddr;\n\n    let cost = this.sorV2.tokenCost[tokenAddr.toLowerCase()];\n    if (cost) {\n      console.log(\n        `[SorManager] Cost for token ${tokenAddr} (cache): ${cost.toString()}`\n      );\n    } else {\n      if (manualCost) {\n        cost = await this.sorV2.setCostOutputToken(\n          tokenAddr,\n          tokenDecimals,\n          manualCost\n        );\n        console.log(\n          `[SorManager] Cost for token ${tokenAddr} (new manual): ${cost.toString()}`\n        );\n      } else {\n        cost = await this.sorV2.setCostOutputToken(tokenAddr, tokenDecimals);\n        console.log(\n          `[SorManager] Cost for token ${tokenAddr} (new): ${cost.toString()}`\n        );\n      }\n    }\n    this.sorV1.setCostOutputToken(\n      tokenAddr,\n      cost.times(new BigNumber(10 ** tokenDecimals))\n    );\n    return cost;\n  }\n\n  // This fetches ALL pool with onchain info.\n  async fetchPools(): Promise<void> {\n    console.log(`[SorManager] fetch Subgraph`);\n    const subgraphFetch = fetchSubgraphPools(this.subgraphUrl);\n    console.log('[SorManager] V1 fetchPools started');\n    const v1fetch = this.sorV1.fetchPools();\n    let subgraphPools;\n    // This will catch any error fetching Subgraph or onChain data with V2\n    try {\n      subgraphPools = await subgraphFetch;\n      console.log('[SorManager] Subgraph fetched');\n      console.time('[SorManager] V2 fetchPools');\n      // Use Subgraph pools data and fetch onChain\n      const v2result = await this.sorV2.fetchPools(true, subgraphPools);\n      this.fetchStatus.v2finishedFetch = true;\n      this.fetchStatus.v2success = v2result;\n    } catch (err) {\n      console.log(`[SorManager] V2 fetchPools issue: ${err.message}`);\n      this.fetchStatus.v2finishedFetch = true;\n      this.fetchStatus.v2success = false;\n    }\n    console.log(\n      `[SorManager] V2 fetchPools result: ${this.fetchStatus.v2success}`\n    );\n    console.timeEnd(`[SorManager] V2 fetchPools`);\n\n    // This will catch any error with OnChain data with V1\n    try {\n      const v1result = await v1fetch;\n      this.fetchStatus.v1finishedFetch = true;\n      this.fetchStatus.v1success = v1result;\n    } catch (err) {\n      console.log(`[SorManager] V1 fetchPools issue: ${err.message}`);\n      this.fetchStatus.v1finishedFetch = true;\n      this.fetchStatus.v1success = false;\n    }\n    console.log(\n      `[SorManager] V1 fetchPools result: ${this.fetchStatus.v1success}`\n    );\n\n    this.selectedPools = this.sorV2.onChainBalanceCache.pools;\n  }\n  // Gets swaps for V1 & V2 liquidity and determined best result\n  async getBestSwap(\n    tokenIn: string,\n    tokenOut: string,\n    tokenInDecimals: number,\n    tokenOutDecimals: number,\n    swapType: string,\n    amountScaled: BigNumber,\n    swapDecimals: number,\n    liquiditySelection: LiquiditySelection\n  ): Promise<SorReturn> {\n    console.log(\n      `[SorManager] getBestSwap: ${tokenIn}/${tokenOut} ${liquiditySelection}`\n    );\n    // V2 uses normalised values. V1 uses scaled values.\n    const amountNormalised = scale(amountScaled, -swapDecimals);\n\n    const v1TokenIn = tokenIn === ETHER.address ? this.weth : tokenIn;\n    const v1TokenOut = tokenOut === ETHER.address ? this.weth : tokenOut;\n\n    const [\n      swapsV1,\n      returnAmountV1,\n      marketSpV1Scaled,\n      returnAmountV1ConsideringFees\n    ] = await this.sorV1.getSwaps(\n      v1TokenIn.toLowerCase(),\n      v1TokenOut.toLowerCase(),\n      swapType,\n      amountScaled\n    );\n\n    const v2TokenIn = tokenIn === ETHER.address ? AddressZero : tokenIn;\n    const v2TokenOut = tokenOut === ETHER.address ? AddressZero : tokenOut;\n\n    const swapTypeV2: SwapTypes =\n      swapType === 'swapExactIn'\n        ? SwapTypes.SwapExactIn\n        : SwapTypes.SwapExactOut;\n\n    const timestampSeconds = Math.floor(Date.now() / 1000);\n\n    // The poolTypeFilter can be used to filter to different pool types. Useful for debug/testing.\n    const swapOptions: SwapOptions = {\n      poolTypeFilter: PoolFilter.All,\n      timestamp: timestampSeconds\n    };\n\n    const swapInfoV2: SwapInfo = await this.sorV2.getSwaps(\n      v2TokenIn.toLowerCase(),\n      v2TokenOut.toLowerCase(),\n      swapTypeV2,\n      amountNormalised,\n      swapOptions\n    );\n\n    // Both are scaled amounts\n    console.log(`[SorManager] ${returnAmountV1.toString()}: V1 return amount`);\n    console.log(\n      `[SorManager] ${returnAmountV1ConsideringFees.toString()}: V1 return amount with fees`\n    );\n    console.log(\n      `[SorManager] ${swapInfoV2.returnAmount.toString()}: V2 return amount`\n    );\n    console.log(\n      `[SorManager] ${swapInfoV2.returnAmountConsideringFees.toString()}: V2 return amount with fees`\n    );\n\n    if (swapType === 'swapExactIn') {\n      return this.getBestSwapIn(\n        returnAmountV1,\n        returnAmountV1ConsideringFees,\n        marketSpV1Scaled,\n        swapsV1,\n        swapInfoV2,\n        tokenIn,\n        tokenInDecimals,\n        tokenOut,\n        tokenOutDecimals,\n        liquiditySelection\n      );\n    } else {\n      return this.getBestSwapOut(\n        returnAmountV1,\n        returnAmountV1ConsideringFees,\n        marketSpV1Scaled,\n        swapsV1,\n        swapInfoV2,\n        tokenIn,\n        tokenInDecimals,\n        tokenOut,\n        tokenOutDecimals,\n        liquiditySelection\n      );\n    }\n  }\n\n  getBestSwapIn(\n    returnAmountV1: BigNumber,\n    returnAmountV1ConsideringFees: BigNumber,\n    marketSpV1Scaled: BigNumber,\n    swapsV1: Swap[][],\n    swapInfoV2: SwapInfo,\n    tokenIn: string,\n    tokenInDecimals: number,\n    tokenOut: string,\n    tokenOutDecimals: number,\n    liquiditySelection: LiquiditySelection\n  ): SorReturn {\n    // For swapExactIn the highest return is best\n    let isV1best: boolean;\n    if (returnAmountV1.isZero()) isV1best = false;\n    else if (swapInfoV2.swapAmount.isZero()) isV1best = true;\n    else if (\n      returnAmountV1ConsideringFees.lt(swapInfoV2.returnAmountConsideringFees)\n    )\n      isV1best = false;\n    else isV1best = true;\n\n    // Need to return marketSp as normalized\n    const marketSpV1Normalised: BigNumber = marketSpV1Scaled.div(\n      10 ** (18 + tokenInDecimals - tokenOutDecimals)\n    );\n\n    const v1return: SorReturn = {\n      isV1swap: true,\n      isV1best,\n      tokenIn: tokenIn,\n      tokenOut: tokenOut,\n      returnDecimals: tokenOutDecimals,\n      hasSwaps: swapsV1.length > 0,\n      returnAmount: returnAmountV1,\n      v1result: [swapsV1, returnAmountV1, marketSpV1Scaled],\n      v2result: swapInfoV2,\n      marketSpNormalised: marketSpV1Normalised\n    };\n\n    const v2return: SorReturn = {\n      isV1swap: false,\n      isV1best,\n      tokenIn: tokenIn,\n      tokenOut: tokenOut,\n      returnDecimals: tokenOutDecimals,\n      hasSwaps: swapInfoV2.swaps.length > 0,\n      returnAmount: swapInfoV2.returnAmount,\n      v1result: [swapsV1, returnAmountV1, marketSpV1Scaled],\n      v2result: swapInfoV2,\n      marketSpNormalised: swapInfoV2.marketSp\n    };\n\n    if (liquiditySelection === LiquiditySelection.V1) {\n      console.log('[SorManager] V1 swap is best by manual choice.');\n      this.selectedPools = this.sorV1.onChainCache.pools;\n      return v1return;\n    } else if (liquiditySelection === LiquiditySelection.V2) {\n      console.log('[SorManager] V2 swap is best by manual choice.');\n      this.selectedPools = this.sorV2.onChainBalanceCache.pools;\n      return v2return;\n    }\n\n    // Either V1 & V2 are both unlocked or both locked so return best option by value\n    if (isV1best) {\n      console.log('[SorManager] V1 swap is best.');\n      this.selectedPools = this.sorV1.onChainCache.pools;\n      return v1return;\n    } else {\n      console.log('[SorManager]  V2 swap is best.');\n      this.selectedPools = this.sorV2.onChainBalanceCache.pools;\n      return v2return;\n    }\n  }\n\n  getBestSwapOut(\n    returnAmountV1: BigNumber,\n    returnAmountV1ConsideringFees: BigNumber,\n    marketSpV1Scaled: BigNumber,\n    swapsV1: Swap[][],\n    swapInfoV2: SwapInfo,\n    tokenIn: string,\n    tokenInDecimals: number,\n    tokenOut: string,\n    tokenOutDecimals: number,\n    liquiditySelection: LiquiditySelection\n  ): SorReturn {\n    // swapExactOut cases\n    // For swapExactOut the lowest return is best if > 0\n    let isV1best: boolean;\n    if (returnAmountV1.isZero() && swapInfoV2.returnAmount.isZero())\n      isV1best = true;\n    // This doesn't actually matter but rules out 0 values for next cases\n    else if (returnAmountV1.isZero()) isV1best = false;\n    else if (swapInfoV2.returnAmount.isZero()) isV1best = true;\n    else\n      isV1best = returnAmountV1ConsideringFees.lt(\n        swapInfoV2.returnAmountConsideringFees\n      );\n\n    // Need to return marketSp as normalized\n    const marketSpV1Normalised: BigNumber = marketSpV1Scaled.div(\n      10 ** (18 + tokenInDecimals - tokenOutDecimals)\n    );\n\n    const v1return: SorReturn = {\n      isV1swap: true,\n      isV1best,\n      tokenIn: tokenIn,\n      tokenOut: tokenOut,\n      returnDecimals: tokenInDecimals,\n      hasSwaps: swapsV1.length > 0,\n      returnAmount: returnAmountV1,\n      v1result: [swapsV1, returnAmountV1, marketSpV1Scaled],\n      v2result: swapInfoV2,\n      marketSpNormalised: marketSpV1Normalised\n    };\n\n    const v2return: SorReturn = {\n      isV1swap: false,\n      isV1best,\n      tokenIn: tokenIn,\n      tokenOut: tokenOut,\n      returnDecimals: tokenInDecimals,\n      hasSwaps: swapInfoV2.swaps.length > 0,\n      returnAmount: swapInfoV2.returnAmount,\n      v1result: [swapsV1, returnAmountV1, marketSpV1Scaled],\n      v2result: swapInfoV2,\n      marketSpNormalised: swapInfoV2.marketSp\n    };\n\n    if (liquiditySelection === LiquiditySelection.V1) {\n      console.log('[SorManager] V1 swap is best by manual choice.');\n      this.selectedPools = this.sorV1.onChainCache.pools;\n      return v1return;\n    } else if (liquiditySelection === LiquiditySelection.V2) {\n      console.log('[SorManager] V2 swap is best by manual choice.');\n      this.selectedPools = this.sorV2.onChainBalanceCache.pools;\n      return v2return;\n    }\n\n    // Either V1 & V2 are both unlocked or both locked so return best option by value\n    if (isV1best) {\n      console.log('[SorManager] V1 swap is best.');\n      this.selectedPools = this.sorV1.onChainCache.pools;\n      return v1return;\n    } else {\n      console.log('[SorManager] V2 swap is best.');\n      this.selectedPools = this.sorV2.onChainBalanceCache.pools;\n      return v2return;\n    }\n  }\n\n  // Check if pool info fetch\n  hasPoolData(): boolean {\n    if (this.fetchStatus.v1finishedFetch && this.fetchStatus.v2finishedFetch) {\n      // TO DO - This could be used to provide more info to UI?\n      if (\n        this.fetchStatus.v1success === false &&\n        this.fetchStatus.v2success === false\n      ) {\n        console.log(\n          `[SorManager] Error Fetching V1 & V2 Pools - No Liquidity Sources.`\n        );\n        return false;\n      } else if (this.fetchStatus.v1success === false)\n        console.log(\n          `[SorManager] Error Fetching V1 Pools - Using V2 Liquidity Only.`\n        );\n      else if (this.fetchStatus.v2success === false)\n        console.log(\n          `[SorManager] Error Fetching V2 Pools - Using V1 Liquidity Only.`\n        );\n\n      return true;\n    } else {\n      console.log(`[SorManager] Not finished fetching pools.`);\n      return false;\n    }\n  }\n}\n","<template>\n  <div class=\"pr-2\">\n    <div class=\"flex justify-between text-sm text-gray-500\">\n      <div>\n        <slot v-if=\"$slots.leftLabel || leftLabel\" name=\"leftLabel\">\n          {{ leftLabel }}\n        </slot>\n      </div>\n      <div>\n        <slot v-if=\"$slots.rightLabel || rightLabel\" name=\"rightLabel\">\n          {{ rightLabel }}\n        </slot>\n      </div>\n    </div>\n    <vue-slider\n      v-model=\"range\"\n      v-bind=\"$attrs\"\n      @change=\"onChange\"\n      :dot-style=\"dotStyle\"\n      :rail-style=\"railSyle\"\n      :process-style=\"proccessStyle\"\n    />\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref, watch, computed } from 'vue';\nimport VueSlider from 'vue-slider-component';\nimport 'vue-slider-component/theme/antd.css';\nimport { theme } from '@/../tailwind.config';\n\nexport default defineComponent({\n  name: 'BalRangeInput',\n\n  components: {\n    VueSlider\n  },\n\n  emits: ['change', 'update:modelValue'],\n\n  props: {\n    modelValue: { type: [String, Number], default: '0' },\n    leftLabel: { type: String, default: '' },\n    rightLabel: { type: String, default: '' }\n  },\n\n  setup(props, { emit }) {\n    const range = ref(0);\n\n    const colors = theme.extend.colors;\n\n    function onChange(value) {\n      emit('change', value);\n      emit('update:modelValue', value);\n    }\n\n    const dotStyle = computed(() => {\n      return {\n        backgroundColor: colors.blue['500'],\n        borderColor: colors.blue['500'],\n        backgroundImage: `radial-gradient(circle at center, ${colors.pink['500']} 0, ${colors.pink['50']} 40%, ${colors.blue['500']} 100%)`\n      };\n    });\n\n    const railSyle = computed(() => {\n      return {\n        background: colors.gray['100']\n      };\n    });\n\n    const proccessStyle = computed(() => {\n      return {\n        backgroundImage: `linear-gradient(to top right, ${colors.blue['500']}, ${colors.pink['500']})`\n      };\n    });\n\n    watch(\n      () => props.modelValue,\n      newVal => {\n        range.value = Number(newVal) || 0;\n      },\n      { immediate: true }\n    );\n\n    return {\n      range,\n      onChange,\n      dotStyle,\n      railSyle,\n      proccessStyle\n    };\n  }\n});\n</script>\n\n<style>\n.vue-slider-dot-handle-focus {\n  box-shadow: 0 0 0 5px rgb(0, 0, 0, 0.2);\n}\n</style>\n","import { render } from \"./BalRangeInput.vue?vue&type=template&id=d2b9e1ea\"\nimport script from \"./BalRangeInput.vue?vue&type=script&lang=js\"\nexport * from \"./BalRangeInput.vue?vue&type=script&lang=js\"\n\nimport \"./BalRangeInput.vue?vue&type=style&index=0&id=d2b9e1ea&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <svg\n    width=\"38px\"\n    height=\"38px\"\n    viewBox=\"0 0 38 38\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n  >\n    <defs>\n      <filter\n        x=\"-8.3%\"\n        y=\"-3.1%\"\n        width=\"116.6%\"\n        height=\"108.3%\"\n        filterUnits=\"objectBoundingBox\"\n        id=\"minus-square-icon-filter-1\"\n      >\n        <feOffset\n          dx=\"0\"\n          dy=\"2\"\n          in=\"SourceAlpha\"\n          result=\"shadowOffsetOuter1\"\n        ></feOffset>\n        <feGaussianBlur\n          stdDeviation=\"2\"\n          in=\"shadowOffsetOuter1\"\n          result=\"shadowBlurOuter1\"\n        ></feGaussianBlur>\n        <feColorMatrix\n          values=\"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.05 0\"\n          type=\"matrix\"\n          in=\"shadowBlurOuter1\"\n          result=\"shadowMatrixOuter1\"\n        ></feColorMatrix>\n        <feMerge>\n          <feMergeNode in=\"shadowMatrixOuter1\"></feMergeNode>\n          <feMergeNode in=\"SourceGraphic\"></feMergeNode>\n        </feMerge>\n      </filter>\n    </defs>\n    <g\n      stroke=\"none\"\n      stroke-width=\"1\"\n      fill=\"none\"\n      fill-rule=\"evenodd\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    >\n      <g transform=\"translate(-71.000000, -764.000000)\" stroke=\"#F0335C\">\n        <g\n          filter=\"url(#minus-square-icon-filter-1)\"\n          transform=\"translate(62.000000, 246.000000)\"\n        >\n          <g transform=\"translate(19.000000, 521.000000)\">\n            <g transform=\"translate(0.000000, 7.000000)\">\n              <rect\n                id=\"Rectangle\"\n                x=\"-0.5\"\n                y=\"-0.5\"\n                width=\"19\"\n                height=\"19\"\n                rx=\"2\"\n              ></rect>\n              <line x1=\"5\" y1=\"9\" x2=\"13\" y2=\"9\" id=\"Path\"></line>\n            </g>\n          </g>\n        </g>\n      </g>\n    </g>\n  </svg>\n</template>\n","import { render } from \"./MinusSquareIcon.vue?vue&type=template&id=2b308193\"\nconst script = {}\nscript.render = render\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalBlankSlate.vue?vue&type=style&index=0&id=ea44f706&lang=css\"","<template>\n  <svg\n    width=\"23px\"\n    height=\"22px\"\n    viewBox=\"0 0 23 22\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    fill=\"currentColor\"\n  >\n    <path\n      d=\"M16.7214357,12.885467 C16.7482882,12.885467 16.7719361,12.9031454 16.7795351,12.9289003 L17.3469761,14.5617748 C17.650938,15.4369841 18.3387613,16.124932 19.2139155,16.4290525 L20.8473478,16.9962298 C20.8717267,17.0046857 20.8880728,17.0276569 20.8880728,17.0534606 C20.8880728,17.0792643 20.8717267,17.1022355 20.8473478,17.1106914 L19.2139155,17.6778881 C18.3387613,17.9820086 17.650938,18.6699565 17.3469761,19.5451659 L16.7795351,21.1780404 C16.7719361,21.2037953 16.7482882,21.2214736 16.7214357,21.2214736 C16.6945831,21.2214736 16.6709353,21.2037953 16.6633362,21.1780404 L16.0972787,19.5451659 C15.7930246,18.6696544 15.104638,17.9816526 14.2289566,17.6778881 L12.5969068,17.1106914 C12.5725279,17.1022355 12.5561818,17.0792643 12.5561818,17.0534606 C12.5561818,17.0276569 12.5725279,17.0046857 12.5969068,16.9962298 L14.2289566,16.4290525 C15.104638,16.1252881 15.7930246,15.4372862 16.0972787,14.5617748 L16.6633362,12.9289003 C16.6709353,12.9031454 16.6945831,12.885467 16.7214357,12.885467 Z M7.23180905,4.04057511 C7.27687994,4.04057511 7.31693993,4.06929507 7.33140866,4.11198045 L8.31661449,6.94683713 C8.84436665,8.4663433 10.0385854,9.66070734 11.5580273,10.1886444 L14.3930186,11.173344 C14.43529,11.1880549 14.4636189,11.2279091 14.4636189,11.2726671 C14.4636189,11.3174251 14.43529,11.3572792 14.3930186,11.3719902 L11.5580273,12.3567092 C10.0385896,12.8846422 8.84437165,14.0789983 8.31661449,15.598497 L7.33140866,18.4333537 C7.31693993,18.4760391 7.27687994,18.5047591 7.23180905,18.5047591 C7.18673816,18.5047591 7.14667817,18.4760391 7.13220944,18.4333537 L6.14700361,15.598497 C5.61924649,14.0789983 4.42502862,12.8846422 2.90559101,12.3567092 L0.07060024,11.3719902 C0.0283288681,11.3572792 1.95399252e-14,11.3174251 1.95399252e-14,11.2726671 C1.95399252e-14,11.2279091 0.0283288681,11.1880549 0.07060024,11.173344 L2.90559101,10.1886444 C4.42503287,9.66070729 5.61925149,8.46634325 6.14700361,6.94683713 L7.13220944,4.11198045 C7.14667817,4.06929507 7.18673816,4.04057511 7.23180905,4.04057511 Z M17.4166959,0 C17.449404,0 17.478415,0.0210018965 17.4886288,0.0520743726 L18.1977225,2.09318206 C18.577742,3.1872411 19.4376323,4.04717289 20.531673,4.42724522 L22.572633,5.13624603 C22.6030706,5.14683666 22.6234694,5.17553274 22.6234694,5.2077602 C22.6234694,5.23998766 22.6030706,5.26868375 22.572633,5.27927437 L20.531673,5.98827518 C19.4376323,6.36834752 18.577742,7.22827931 18.1977225,8.32233834 L17.4886288,10.363446 C17.478415,10.3945185 17.449404,10.4155204 17.4166959,10.4155204 C17.3839877,10.4155204 17.3549767,10.3945185 17.3447629,10.363446 L16.6356692,8.32233834 C16.2555913,7.22821899 15.3955886,6.36827643 14.3014426,5.98827518 L12.2604812,5.27927437 C12.2300436,5.26868375 12.2096448,5.23998766 12.2096448,5.2077602 C12.2096448,5.17553274 12.2300436,5.14683666 12.2604812,5.13624603 L14.3014426,4.42724522 C15.3955886,4.04724398 16.2555913,3.18730142 16.6356692,2.09318206 L17.3447629,0.0520743726 C17.3549767,0.0210018965 17.3839877,0 17.4166959,0 Z\"\n    ></path>\n  </svg>\n</template>\n","import { render } from \"./StarsIcon.vue?vue&type=template&id=30502fd6\"\nconst script = {}\nscript.render = render\n\nexport default script","var map = {\n\t\"./default.json\": \"369a\",\n\t\"./es-ES.json\": \"4109\",\n\t\"./fr-FR.json\": \"cfe42\",\n\t\"./it-IT.json\": \"bf7d\",\n\t\"./ja-JP.json\": \"2b1b\",\n\t\"./ko-KR.json\": \"7692\",\n\t\"./pt-PT.json\": \"7b75\",\n\t\"./ru-RU.json\": \"b69a\",\n\t\"./tr-TR.json\": \"3ba8\",\n\t\"./zh-CN.json\": \"423e\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"741a\";","import getProvider from '@/lib/utils/provider';\nimport { ipfsGet } from '@/lib/utils/balancer/ipfs';\nimport { resolveContent } from '@/lib/utils/balancer/contentHash';\n\nconst gateway = process.env.VUE_APP_IPFS_NODE || 'ipfs.io';\n\nexport async function loadTokenlist(uri: string) {\n  if (uri.endsWith('.eth')) {\n    const { protocolType, decoded } = await resolveContent(\n      getProvider('1'),\n      uri\n    );\n    return await loadTokenlist(`${protocolType}://${decoded}`);\n  }\n  const [protocolType, path] = uri.split('://');\n  if (protocolType.includes('http')) {\n    return fetch(uri).then(res => res.json());\n  }\n  return await ipfsGet(gateway, path, protocolType);\n}\n\nexport function getTokensListURL(uri: string) {\n  const listURI = uri.startsWith('ipns')\n    ? `https://gateway.ipfs.io/ipns/${uri.split('://')[1]}`\n    : uri;\n\n  return `https://tokenlists.org/token-list?url=${listURI}`;\n}\n","<template>\n  <div :class=\"['bal-chip', classes]\">\n    <div class=\"content-container\">\n      <span v-if=\"label\">\n        {{ label }}\n      </span>\n      <slot v-else />\n      <div v-if=\"closeable\" @click=\"$emit('closed')\">\n        <BalIcon name=\"x\" :size=\"iconSize\" :class=\"['close', iconClasses]\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport BalIcon from '../BalIcon/BalIcon.vue';\nimport { defineComponent, computed } from 'vue';\n\nfunction useChipClasses(size: string, color: string) {\n  const isGradient = color === 'gradient';\n\n  const sizeClasses = () => {\n    switch (size) {\n      case 'sm':\n        return 'p-px text-xs';\n      case 'lg':\n        return 'p-2 text-base';\n      default:\n        return 'p-1 text-sm';\n    }\n  };\n\n  const bgGradientClasses = (): string => {\n    return 'text-white bg-gradient-to-tr from-blue-500 to-pink-500';\n  };\n\n  const bgColorClasses = (): string => {\n    if (isGradient) return bgGradientClasses();\n    if (color === 'white') return 'bg-white';\n    return `bg-${color}-100`;\n  };\n\n  const outlineClasses = (): string => {\n    return `border-gray-100 border shadow-lg`;\n  };\n\n  return computed(() => {\n    return {\n      [sizeClasses()]: true,\n      [bgColorClasses()]: true,\n      [outlineClasses()]: true\n    };\n  });\n}\n\nfunction useCloseIcon(size: string, color: string) {\n  const isGradient = color === 'gradient';\n  const colorClass = isGradient ? 'text-white' : `text-${color}-500`;\n\n  const classes = computed(() => {\n    return {\n      [colorClass]: true\n    };\n  });\n\n  const iconSize = computed(() => {\n    switch (size) {\n      case 'sm':\n        return 'xxs';\n      case 'lg':\n        return 'sm';\n      default:\n        return 'xs';\n    }\n  });\n\n  return { classes, iconSize };\n}\n\nexport default defineComponent({\n  name: 'BalChip',\n\n  components: {\n    BalIcon\n  },\n\n  emits: ['closed'],\n\n  props: {\n    label: { type: String, default: '' },\n    closeable: { type: Boolean, default: false },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val)\n    },\n    color: {\n      type: String,\n      default: 'gray',\n      validator: (val: string): boolean =>\n        ['gray', 'gradient', 'white'].includes(val)\n    },\n    outline: {\n      type: Boolean,\n      default: () => false\n    }\n  },\n\n  setup(props) {\n    const classes = useChipClasses(props.size, props.color);\n    const { classes: iconClasses, iconSize } = useCloseIcon(\n      props.size,\n      props.color\n    );\n\n    return { classes, iconClasses, iconSize };\n  }\n});\n</script>\n\n<style scoped>\n.bal-chip {\n  @apply inline-block whitespace-nowrap rounded-full;\n}\n\n.content-container {\n  @apply flex items-center leading-none h-full;\n}\n\n.close {\n  @apply cursor-pointer ml-1 -mb-px text-gray-400;\n}\n</style>\n","\nimport BalIcon from '../BalIcon/BalIcon.vue';\nimport { defineComponent, computed } from 'vue';\n\nfunction useChipClasses(size: string, color: string) {\n  const isGradient = color === 'gradient';\n\n  const sizeClasses = () => {\n    switch (size) {\n      case 'sm':\n        return 'p-px text-xs';\n      case 'lg':\n        return 'p-2 text-base';\n      default:\n        return 'p-1 text-sm';\n    }\n  };\n\n  const bgGradientClasses = (): string => {\n    return 'text-white bg-gradient-to-tr from-blue-500 to-pink-500';\n  };\n\n  const bgColorClasses = (): string => {\n    if (isGradient) return bgGradientClasses();\n    if (color === 'white') return 'bg-white';\n    return `bg-${color}-100`;\n  };\n\n  const outlineClasses = (): string => {\n    return `border-gray-100 border shadow-lg`;\n  };\n\n  return computed(() => {\n    return {\n      [sizeClasses()]: true,\n      [bgColorClasses()]: true,\n      [outlineClasses()]: true\n    };\n  });\n}\n\nfunction useCloseIcon(size: string, color: string) {\n  const isGradient = color === 'gradient';\n  const colorClass = isGradient ? 'text-white' : `text-${color}-500`;\n\n  const classes = computed(() => {\n    return {\n      [colorClass]: true\n    };\n  });\n\n  const iconSize = computed(() => {\n    switch (size) {\n      case 'sm':\n        return 'xxs';\n      case 'lg':\n        return 'sm';\n      default:\n        return 'xs';\n    }\n  });\n\n  return { classes, iconSize };\n}\n\nexport default defineComponent({\n  name: 'BalChip',\n\n  components: {\n    BalIcon\n  },\n\n  emits: ['closed'],\n\n  props: {\n    label: { type: String, default: '' },\n    closeable: { type: Boolean, default: false },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val)\n    },\n    color: {\n      type: String,\n      default: 'gray',\n      validator: (val: string): boolean =>\n        ['gray', 'gradient', 'white'].includes(val)\n    },\n    outline: {\n      type: Boolean,\n      default: () => false\n    }\n  },\n\n  setup(props) {\n    const classes = useChipClasses(props.size, props.color);\n    const { classes: iconClasses, iconSize } = useCloseIcon(\n      props.size,\n      props.color\n    );\n\n    return { classes, iconClasses, iconSize };\n  }\n});\n","import { render } from \"./BalChip.vue?vue&type=template&id=48d4b0d1&scoped=true\"\nimport script from \"./BalChip.vue?vue&type=script&lang=ts\"\nexport * from \"./BalChip.vue?vue&type=script&lang=ts\"\n\nimport \"./BalChip.vue?vue&type=style&index=0&id=48d4b0d1&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-48d4b0d1\"\n\nexport default script","<template>\n  <div :class=\"['bal-loading-block', classes]\" />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue';\n\nexport default defineComponent({\n  name: 'BalLoadingBlock',\n\n  props: {\n    white: { type: Boolean, default: false },\n    square: { type: Boolean, default: false }\n  },\n\n  setup(props) {\n    const bgClass = computed(() => {\n      if (props.white) return 'shimmer-white';\n      return 'shimmer';\n    });\n\n    const classes = computed(() => {\n      return {\n        ['rounded-lg']: !props.square,\n        [bgClass.value]: true\n      };\n    });\n\n    return { classes };\n  }\n});\n</script>\n\n<style>\n.bal-loading-block {\n  min-height: 5px;\n}\n\n@keyframes shimmerBackground {\n  0% {\n    background-position: -5000px 0;\n  }\n  100% {\n    background-position: 5000px 0;\n  }\n}\n\n.shimmer-white {\n  --startColor: rgba(255, 255, 255, 0.1);\n  --midColor: rgba(255, 255, 255, 0.2);\n  --endColor: rgba(255, 255, 255, 0.1);\n\n  animation: shimmerBackground 10s infinite;\n  background: linear-gradient(\n    to right,\n    var(--startColor) 4%,\n    var(--midColor) 25%,\n    var(--endColor) 36%\n  );\n  background-size: 1000px 100%;\n}\n\n.shimmer {\n  --startColor: theme('colors.gray.50');\n  --midColor: theme('colors.gray.100');\n  --endColor: theme('colors.gray.50');\n\n  animation: shimmerBackground 10s infinite;\n  background: linear-gradient(\n    to right,\n    var(--startColor) 4%,\n    var(--midColor) 25%,\n    var(--endColor) 36%\n  );\n  background-size: 1000px 100%;\n}\n</style>\n","\nimport { defineComponent, computed } from 'vue';\n\nexport default defineComponent({\n  name: 'BalLoadingBlock',\n\n  props: {\n    white: { type: Boolean, default: false },\n    square: { type: Boolean, default: false }\n  },\n\n  setup(props) {\n    const bgClass = computed(() => {\n      if (props.white) return 'shimmer-white';\n      return 'shimmer';\n    });\n\n    const classes = computed(() => {\n      return {\n        ['rounded-lg']: !props.square,\n        [bgClass.value]: true\n      };\n    });\n\n    return { classes };\n  }\n});\n","import { render } from \"./BalLoadingBlock.vue?vue&type=template&id=625520a9\"\nimport script from \"./BalLoadingBlock.vue?vue&type=script&lang=ts\"\nexport * from \"./BalLoadingBlock.vue?vue&type=script&lang=ts\"\n\nimport \"./BalLoadingBlock.vue?vue&type=style&index=0&id=625520a9&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <div :class=\"['bal-text-input', wrapperClasses]\">\n    <div v-if=\"!!label\" class=\"label\">\n      {{ label }}\n    </div>\n    <div :class=\"['input-group', inputGroupClasses]\">\n      <div v-if=\"$slots.prepend\" :class=\"['prepend', prependClasses]\">\n        <slot name=\"prepend\" />\n      </div>\n      <div :class=\"['input-container', inputContainerClasses]\">\n        <div class=\"flex flex-col justify-center h-full\">\n          <input\n            :class=\"[inputClasses]\"\n            :type=\"type\"\n            :name=\"name\"\n            :value=\"modelValue\"\n            v-bind=\"$attrs\"\n            :disabled=\"disabled\"\n            @blur=\"onBlur\"\n            @input=\"onInput\"\n            @keydown=\"onKeydown\"\n          />\n          <div v-if=\"$slots.info || info\" :class=\"['info', infoClasses]\">\n            <slot name=\"info\">\n              {{ info }}\n            </slot>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"$slots.append\" :class=\"[appendClasses]\">\n        <div class=\"flex items-center justify-center h-full\">\n          <slot name=\"append\" />\n        </div>\n      </div>\n    </div>\n    <div v-if=\"hasError\" class=\"error\">\n      <div class=\"relative\">\n        {{ errors[0] }}\n      </div>\n    </div>\n    <div v-if=\"fadedOut\" class=\"faded-out-overlay\" @click=\"$emit('click')\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  ref,\n  computed,\n  toRefs,\n  PropType,\n  watchEffect,\n  watch\n} from 'vue';\nimport { Rules, RuleFunction } from '@/types';\n\nexport default defineComponent({\n  name: 'BalTextInput',\n\n  inheritAttrs: false,\n\n  emits: [\n    'input',\n    'blur',\n    'update:modelValue',\n    'update:isValid',\n    'click',\n    'keydown'\n  ],\n\n  props: {\n    modelValue: {\n      type: [String, Number],\n      default: ''\n    },\n    isValid: {\n      type: Boolean,\n      default: true\n    },\n    name: { type: String, required: true },\n    label: { type: String, default: '' },\n    squareTop: { type: Boolean, default: false },\n    noMargin: { type: Boolean, default: false },\n    textRight: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    appendBorder: { type: Boolean, default: false },\n    prependBorder: { type: Boolean, default: false },\n    fadedOut: { type: Boolean, default: false },\n    info: { type: String, default: '' },\n    decimalLimit: { type: Number, default: 18 },\n    type: {\n      type: String,\n      default: 'text',\n      validator: (val: string): boolean => {\n        return ['text', 'number', 'date', 'email', 'password'].includes(val);\n      }\n    },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val)\n    },\n    validateOn: {\n      type: String,\n      default: 'blur',\n      validator: (val: string): boolean => ['blur', 'input'].includes(val)\n    },\n    rules: {\n      type: Array as PropType<Rules>,\n      default: () => []\n    }\n  },\n\n  setup(props, { emit, slots }) {\n    const { rules, size, validateOn, noMargin } = toRefs(props);\n    const errors = ref([] as Array<string>);\n\n    const hasError = computed(() => errors.value.length > 0);\n\n    function validate(val: string | number): void {\n      errors.value = [];\n      rules.value.forEach((rule: RuleFunction) => {\n        const result = rule(val);\n        if (typeof result === 'string') errors.value.push(result);\n      });\n    }\n\n    function onBlur(event): void {\n      emit('blur', event.target.value);\n      emit('update:modelValue', event.target.value);\n      if (validateOn.value === 'blur') validate(event.target.value);\n    }\n\n    function onInput(event): void {\n      if (props.type === 'number') {\n        const overflowProtectedVal = overflowProtected(event.target.value);\n        if (overflowProtectedVal) event.target.value = overflowProtectedVal;\n      }\n      emit('input', event.target.value);\n      emit('update:modelValue', event.target.value);\n    }\n\n    function onKeydown(event): void {\n      if (props.type === 'number') {\n        blockInvalidChar(event);\n      }\n      emit('keydown', event);\n    }\n\n    function blockInvalidChar(event): void {\n      ['e', 'E', '+', '-'].includes(event.key) && event.preventDefault();\n    }\n\n    function overflowProtected(value: string): string | undefined {\n      const [numberStr, decimalStr] = value.toString().split('.');\n\n      if (decimalStr && decimalStr.length > props.decimalLimit) {\n        const maxLength = numberStr.length + props.decimalLimit + 1;\n        return value.toString().slice(0, maxLength);\n      } else return;\n    }\n\n    watchEffect(() => {\n      if (validateOn.value === 'input') validate(props.modelValue);\n    });\n\n    watch(hasError, newVal => {\n      emit('update:isValid', !newVal);\n    });\n\n    const textSizeClasses = (): string => {\n      switch (size.value) {\n        case 'sm':\n          return 'text-base';\n        case 'lg':\n          return 'text-lg';\n        default:\n          return 'text-base';\n      }\n    };\n\n    const inputHeightClasses = (): string => {\n      switch (size.value) {\n        case 'sm':\n          return 'h-9';\n        case 'lg':\n          return 'h-18';\n        default:\n          return 'h-12';\n      }\n    };\n\n    const wrapperClasses = computed(() => {\n      return {\n        'mb-5': !noMargin.value\n      };\n    });\n\n    const inputGroupClasses = computed(() => {\n      return {\n        'rounded-lg': !props.squareTop,\n        'rounded-b-lg': props.squareTop,\n        'border-red-500': hasError.value,\n        'shadow-inner': !props.disabled\n      };\n    });\n\n    const inputContainerClasses = computed(() => {\n      return {\n        [inputHeightClasses()]: true,\n        'border-l': slots.prepend && props.prependBorder,\n        'border-r': slots.append && props.appendBorder\n      };\n    });\n\n    const inputClasses = computed(() => {\n      return {\n        [textSizeClasses()]: true,\n        'text-right': props.textRight\n      };\n    });\n\n    const appendClasses = computed(() => {\n      return {\n        [textSizeClasses()]: true,\n        [inputHeightClasses()]: true,\n        ['bg-white']: props.appendBorder\n      };\n    });\n\n    const prependClasses = computed(() => {\n      return {\n        [textSizeClasses()]: true,\n        [inputHeightClasses()]: true,\n        ['bg-white']: props.prependBorder\n      };\n    });\n\n    const infoClasses = computed(() => {\n      return {};\n    });\n\n    return {\n      errors,\n      hasError,\n      validate,\n      onBlur,\n      onInput,\n      onKeydown,\n      wrapperClasses,\n      inputGroupClasses,\n      inputContainerClasses,\n      inputClasses,\n      appendClasses,\n      prependClasses,\n      infoClasses,\n      blockInvalidChar\n    };\n  }\n});\n</script>\n\n<style scoped>\n.bal-text-input {\n  @apply relative;\n}\n\ninput {\n  @apply w-full bg-transparent leading-none;\n  transition: all 0.3s ease;\n  -webkit-appearance: textfield;\n  -moz-appearance: textfield;\n  appearance: textfield;\n}\n\ninput:focus {\n  outline: none;\n}\n\n.label {\n  @apply text-primary-300;\n}\n\n.input-group {\n  @apply flex items-center overflow-hidden bg-white border;\n}\n\n.input-container {\n  @apply px-2 w-full;\n}\n\n.prepend {\n  @apply px-2;\n}\n\n.append {\n  @apply px-2;\n}\n\n.error {\n  @apply absolute text-red-500 text-sm;\n}\n\n.info {\n  @apply text-gray-500 text-xs;\n}\n\n.faded-out-overlay {\n  @apply absolute top-0 left-0 opacity-75 w-full h-full bg-white z-10 cursor-pointer;\n}\n</style>\n","\nimport {\n  defineComponent,\n  ref,\n  computed,\n  toRefs,\n  PropType,\n  watchEffect,\n  watch\n} from 'vue';\nimport { Rules, RuleFunction } from '@/types';\n\nexport default defineComponent({\n  name: 'BalTextInput',\n\n  inheritAttrs: false,\n\n  emits: [\n    'input',\n    'blur',\n    'update:modelValue',\n    'update:isValid',\n    'click',\n    'keydown'\n  ],\n\n  props: {\n    modelValue: {\n      type: [String, Number],\n      default: ''\n    },\n    isValid: {\n      type: Boolean,\n      default: true\n    },\n    name: { type: String, required: true },\n    label: { type: String, default: '' },\n    squareTop: { type: Boolean, default: false },\n    noMargin: { type: Boolean, default: false },\n    textRight: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    appendBorder: { type: Boolean, default: false },\n    prependBorder: { type: Boolean, default: false },\n    fadedOut: { type: Boolean, default: false },\n    info: { type: String, default: '' },\n    decimalLimit: { type: Number, default: 18 },\n    type: {\n      type: String,\n      default: 'text',\n      validator: (val: string): boolean => {\n        return ['text', 'number', 'date', 'email', 'password'].includes(val);\n      }\n    },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val)\n    },\n    validateOn: {\n      type: String,\n      default: 'blur',\n      validator: (val: string): boolean => ['blur', 'input'].includes(val)\n    },\n    rules: {\n      type: Array as PropType<Rules>,\n      default: () => []\n    }\n  },\n\n  setup(props, { emit, slots }) {\n    const { rules, size, validateOn, noMargin } = toRefs(props);\n    const errors = ref([] as Array<string>);\n\n    const hasError = computed(() => errors.value.length > 0);\n\n    function validate(val: string | number): void {\n      errors.value = [];\n      rules.value.forEach((rule: RuleFunction) => {\n        const result = rule(val);\n        if (typeof result === 'string') errors.value.push(result);\n      });\n    }\n\n    function onBlur(event): void {\n      emit('blur', event.target.value);\n      emit('update:modelValue', event.target.value);\n      if (validateOn.value === 'blur') validate(event.target.value);\n    }\n\n    function onInput(event): void {\n      if (props.type === 'number') {\n        const overflowProtectedVal = overflowProtected(event.target.value);\n        if (overflowProtectedVal) event.target.value = overflowProtectedVal;\n      }\n      emit('input', event.target.value);\n      emit('update:modelValue', event.target.value);\n    }\n\n    function onKeydown(event): void {\n      if (props.type === 'number') {\n        blockInvalidChar(event);\n      }\n      emit('keydown', event);\n    }\n\n    function blockInvalidChar(event): void {\n      ['e', 'E', '+', '-'].includes(event.key) && event.preventDefault();\n    }\n\n    function overflowProtected(value: string): string | undefined {\n      const [numberStr, decimalStr] = value.toString().split('.');\n\n      if (decimalStr && decimalStr.length > props.decimalLimit) {\n        const maxLength = numberStr.length + props.decimalLimit + 1;\n        return value.toString().slice(0, maxLength);\n      } else return;\n    }\n\n    watchEffect(() => {\n      if (validateOn.value === 'input') validate(props.modelValue);\n    });\n\n    watch(hasError, newVal => {\n      emit('update:isValid', !newVal);\n    });\n\n    const textSizeClasses = (): string => {\n      switch (size.value) {\n        case 'sm':\n          return 'text-base';\n        case 'lg':\n          return 'text-lg';\n        default:\n          return 'text-base';\n      }\n    };\n\n    const inputHeightClasses = (): string => {\n      switch (size.value) {\n        case 'sm':\n          return 'h-9';\n        case 'lg':\n          return 'h-18';\n        default:\n          return 'h-12';\n      }\n    };\n\n    const wrapperClasses = computed(() => {\n      return {\n        'mb-5': !noMargin.value\n      };\n    });\n\n    const inputGroupClasses = computed(() => {\n      return {\n        'rounded-lg': !props.squareTop,\n        'rounded-b-lg': props.squareTop,\n        'border-red-500': hasError.value,\n        'shadow-inner': !props.disabled\n      };\n    });\n\n    const inputContainerClasses = computed(() => {\n      return {\n        [inputHeightClasses()]: true,\n        'border-l': slots.prepend && props.prependBorder,\n        'border-r': slots.append && props.appendBorder\n      };\n    });\n\n    const inputClasses = computed(() => {\n      return {\n        [textSizeClasses()]: true,\n        'text-right': props.textRight\n      };\n    });\n\n    const appendClasses = computed(() => {\n      return {\n        [textSizeClasses()]: true,\n        [inputHeightClasses()]: true,\n        ['bg-white']: props.appendBorder\n      };\n    });\n\n    const prependClasses = computed(() => {\n      return {\n        [textSizeClasses()]: true,\n        [inputHeightClasses()]: true,\n        ['bg-white']: props.prependBorder\n      };\n    });\n\n    const infoClasses = computed(() => {\n      return {};\n    });\n\n    return {\n      errors,\n      hasError,\n      validate,\n      onBlur,\n      onInput,\n      onKeydown,\n      wrapperClasses,\n      inputGroupClasses,\n      inputContainerClasses,\n      inputClasses,\n      appendClasses,\n      prependClasses,\n      infoClasses,\n      blockInvalidChar\n    };\n  }\n});\n","import { render } from \"./BalTextInput.vue?vue&type=template&id=77df3ea9&scoped=true\"\nimport script from \"./BalTextInput.vue?vue&type=script&lang=ts\"\nexport * from \"./BalTextInput.vue?vue&type=script&lang=ts\"\n\nimport \"./BalTextInput.vue?vue&type=style&index=0&id=77df3ea9&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-77df3ea9\"\n\nexport default script","import getProvider from '@/lib/utils/provider';\n\nasync function getEnsName(\n  address: string,\n  network: string\n): Promise<string | null> {\n  try {\n    const provider = getProvider(network);\n    return await provider.lookupAddress(address);\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n}\n\nexport async function getProfile(address: string, network: string) {\n  try {\n    const ensName = await getEnsName(address, network);\n    return {\n      ens: ensName\n    };\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import { ref, Ref } from 'vue';\nimport { getAddress } from '@ethersproject/address';\nimport { lsRemove } from '@/lib/utils';\n\nexport type ConnectorPayload = {\n  provider: unknown;\n  account: Ref<string | null>;\n  chainId: Ref<number | null>;\n};\nexport abstract class Connector {\n  provider: any = null;\n  account: Ref<string | null> = ref(null);\n  chainId: Ref<number | null> = ref(null);\n  active: Ref<boolean> = ref(false);\n  selectedAccount = '';\n  id = 'unknown';\n\n  constructor(selectedAccount: string) {\n    this.selectedAccount = selectedAccount || '';\n  }\n\n  // must return the provider\n  abstract connect(): Promise<ConnectorPayload>;\n\n  handleAccountsChanged = accounts => {\n    if (this.selectedAccount !== '') {\n      const account = accounts.find(\n        account => getAddress(account) === getAddress(this.selectedAccount)\n      );\n      // sense check the account that was previously connected\n      if (!account) {\n        this.account.value = accounts[0];\n        console.warn(\n          `Previously connected account [${this.selectedAccount}] was not found in the connection. Defaulting to the first.`\n        );\n      }\n      this.account.value = getAddress(this.selectedAccount);\n    }\n    this.account.value = getAddress(accounts[0]);\n  };\n\n  handleChainChanged = chainId => {\n    this.chainId.value = Number(chainId);\n  };\n\n  handleDisconnect = () => {\n    // reset everything\n    this.provider?.removeAllListeners();\n    this.account.value = null;\n    this.chainId.value = null;\n    this.active.value = false;\n    this.selectedAccount = '';\n    if (this.provider.disconnect) {\n      this.provider.disconnect();\n    }\n    if (this.provider.close) {\n      this.provider.close();\n    }\n    lsRemove('connectedWallet');\n    lsRemove('connectedProvider');\n  };\n\n  registerListeners() {\n    if (!this.provider) {\n      throw new Error(\n        'No provider registered for this connector. Something is very wrong.'\n      );\n    }\n\n    this.provider.on('accountsChanged', this.handleAccountsChanged);\n    this.provider.on('chainChanged', this.handleChainChanged);\n    this.provider.on('disconnect', this.handleDisconnect);\n  }\n}\n","import { Connector } from '../connector';\nexport class MetamaskConnector extends Connector {\n  id = 'injected';\n  async connect() {\n    const provider =\n      (window as any).ethereum ||\n      ((window as any).web3 && (window as any).web3.currentProvider);\n\n    if (provider) {\n      this.provider = provider;\n      this.active.value = true;\n\n      let accounts = null;\n      let chainId = null;\n      // try the best practice way of get accounts with eth_requestAccounts && eth_chainId\n      try {\n        if (provider.request) {\n          accounts = await provider.request({\n            method: 'eth_requestAccounts'\n          });\n\n          chainId = await provider.request({ method: 'eth_chainId' });\n        }\n      } catch (err) {\n        if (err.code === 4001) {\n          // EIP-1193 userRejectedRequest error\n          // If this happens, the user rejected the connection request.\n          console.log('Please connect to MetaMask.');\n        } else {\n          console.error(err);\n        }\n      }\n\n      // if account is still moot, try the bad old way - enable()\n      if (!accounts) {\n        // have to any it, since enable technically shouldn't be there anymore.\n        // but might, for legacy clients.\n        const response = await (provider as any).enable();\n        accounts = response?.result || response;\n      }\n\n      if (accounts && chainId) {\n        this.handleChainChanged(chainId);\n        this.handleAccountsChanged(accounts);\n      }\n    } else {\n      console.error(\n        'Tried to connect to MetaMask but it was not detected. Please install MetaMask.'\n      );\n    }\n    return {\n      // TODO type this\n      provider: provider as any,\n      account: this.account,\n      chainId: this.chainId\n    };\n  }\n}\n","import { Connector } from '../connector';\nimport WalletConnectProvider from '@walletconnect/web3-provider';\nimport ConfigService from '@/services/config/config.service';\nexport class WalletConnectConnector extends Connector {\n  id = 'walletconnect';\n  async connect() {\n    const configService = new ConfigService();\n    const provider = new WalletConnectProvider({\n      rpc: {\n        [configService.env.NETWORK]: configService.network.rpc\n      }\n    });\n    this.provider = provider;\n\n    try {\n      const accounts = await provider.enable();\n\n      const chainId = await provider.request({ method: 'eth_chainId' });\n      this.handleChainChanged(chainId);\n      this.handleAccountsChanged(accounts);\n    } catch (err) {\n      if (err.code === 4001) {\n        // EIP-1193 userRejectedRequest error\n        // If this happens, the user rejected the connection request.\n        console.log('Please connect to WalletConnect.');\n      } else {\n        console.error(err);\n      }\n    }\n    return {\n      // TODO type this\n      provider: provider as any,\n      account: this.account,\n      chainId: this.chainId\n    };\n  }\n}\n","import { Connector } from '../connector';\nimport WalletLink from 'walletlink';\nimport ConfigService from '@/services/config/config.service';\nexport class WalletLinkConnector extends Connector {\n  id = 'walletlink';\n  async connect() {\n    const configService = new ConfigService();\n    const walletLink = new WalletLink({\n      appName: 'Balancer',\n      appLogoUrl: '~@/assets/images/logo-dark.svg',\n      darkMode: false\n    });\n    const provider = walletLink.makeWeb3Provider(\n      configService.network.rpc,\n      configService.network.chainId\n    );\n    this.provider = provider;\n\n    try {\n      const accounts = await provider.enable();\n\n      const chainId = await provider.request({ method: 'eth_chainId' });\n      this.handleChainChanged(chainId);\n      this.handleAccountsChanged(accounts);\n    } catch (err) {\n      if (err.code === 4001) {\n        // EIP-1193 userRejectedRequest error\n        // If this happens, the user rejected the connection request.\n        console.log('Rejected connection.');\n      } else {\n        console.error(err);\n      }\n    }\n    return {\n      // TODO type this\n      provider: provider as any,\n      account: this.account,\n      chainId: this.chainId\n    };\n  }\n}\n","import { Connector } from '../connector';\nimport Portis from '@portis/web3';\nimport ConfigService from '@/services/config/config.service';\n\nexport class PortisConnector extends Connector {\n  id = 'portis';\n  async connect() {\n    const configService = new ConfigService();\n    // The portis type is compeletely messed up and only\n    // exports the default class and no extra types\n    const portis = new Portis(\n      configService.env.PORTIS_DAPP_ID,\n      configService.network.network\n    ) as any;\n    const provider = portis.provider;\n\n    if (provider) {\n      this.provider = provider;\n      this.active.value = true;\n\n      try {\n        if (provider.request) {\n          const accounts = await provider.request({\n            method: 'eth_requestAccounts'\n          });\n\n          const chainId = await provider.request({ method: 'eth_chainId' });\n          this.handleChainChanged(chainId);\n          this.handleAccountsChanged(accounts);\n        }\n      } catch (err) {\n        if (err.code === 4001) {\n          // EIP-1193 userRejectedRequest error\n          // If this happens, the user rejected the connection request.\n          console.log('Rejected connection.');\n        } else {\n          console.error(err);\n        }\n      }\n    }\n    return {\n      // TODO type this\n      provider: provider as any,\n      account: this.account,\n      chainId: this.chainId\n    };\n  }\n}\n","import { MetamaskConnector } from './connectors/metamask/metamask.connector';\nimport { Connector } from './connectors/connector';\nimport { computed, reactive, ref, Ref, toRefs } from 'vue';\nimport { WalletConnectConnector } from './connectors/trustwallet/walletconnect.connector';\nimport { getAddress } from '@ethersproject/address';\nimport { lsGet, lsSet } from '@/lib/utils';\nimport {\n  JsonRpcProvider,\n  JsonRpcSigner,\n  Web3Provider\n} from '@ethersproject/providers';\nimport { WalletLinkConnector } from './connectors/walletlink/walletlink.connector';\nimport { PortisConnector } from './connectors/portis/portis.connector';\nimport useFathom from '@/composables/useFathom';\nimport getProvider from '@/lib/utils/provider';\n\nexport type Wallet = 'metamask' | 'walletconnect' | 'walletlink' | 'portis';\nexport const SupportedWallets = [\n  'metamask',\n  'walletconnect',\n  'walletlink',\n  'portis'\n] as Wallet[];\nexport const WalletNameMap: Record<Wallet, string> = {\n  metamask: 'Metamask',\n  walletconnect: 'WalletConnect',\n  walletlink: 'Coinbase',\n  portis: 'Portis'\n};\ntype ConnectorImplementation = new (...args: any[]) => Connector;\nexport const Web3ProviderSymbol = Symbol('WEB3_PROVIDER');\n\nexport type Web3Plugin = {\n  connectWallet: (wallet: Wallet) => Promise<void>;\n  disconnectWallet: () => Promise<void>;\n  provider: Ref<Web3Provider | JsonRpcProvider>;\n  account: Ref<string>;\n  chainId: Ref<number>;\n  connector: Ref<Connector>;\n  walletState: Ref<WalletState>;\n  signer: Ref<JsonRpcSigner>;\n};\n\nconst WalletConnectorDictionary: Record<Wallet, ConnectorImplementation> = {\n  metamask: MetamaskConnector,\n  walletconnect: WalletConnectConnector,\n  walletlink: WalletLinkConnector,\n  portis: PortisConnector\n};\n\ntype WalletState = 'connecting' | 'connected' | 'disconnected';\ntype PluginState = {\n  connector: any;\n  walletState: WalletState;\n};\n\nexport default {\n  install: async app => {\n    const { trackGoal, Goals } = useFathom();\n    const alreadyConnectedAccount = ref(lsGet('connectedWallet', null));\n    const alreadyConnectedProvider = ref(lsGet('connectedProvider', null));\n    // this data provided is properly typed to all consumers\n    // via the 'Web3Provider' type\n    const pluginState = reactive<PluginState>({\n      connector: null as any,\n      walletState: 'disconnected'\n    });\n\n    const account = computed(() => {\n      if (pluginState.connector && pluginState.connector.account) {\n        // always want to be using checksum addresses\n        return getAddress(pluginState.connector.account);\n      }\n      return '';\n    });\n\n    const chainId = computed(() => {\n      if (pluginState.connector) {\n        return pluginState.connector.chainId;\n      }\n      return Number(process.env.VUE_APP_NETWORK);\n    });\n\n    const provider = computed(\n      () =>\n        pluginState.connector?.provider ?? getProvider(chainId.value.toString())\n    );\n    const signer = computed(() => pluginState.connector?.provider?.getSigner());\n\n    // user supplied web3 provider. i.e. (web3, ethers)\n    const connectWallet = async (wallet: Wallet) => {\n      pluginState.walletState = 'connecting';\n\n      try {\n        if (!wallet || typeof wallet !== 'string') {\n          throw new Error(\n            'Please provide a wallet to facilitate a web3 connection.'\n          );\n        }\n\n        // the wallet parameter will be provided by the front-end by means of\n        // modal selection or otherwise\n        const connector = new WalletConnectorDictionary[wallet](\n          alreadyConnectedAccount.value\n        );\n        if (!connector) {\n          throw new Error(\n            `Wallet [${wallet}] is not supported yet. Please contact the dev team to add this connector.`\n          );\n        }\n        const { account } = await connector.connect();\n\n        // listens to wallet/chain changed and disconnect events\n        connector.registerListeners();\n\n        // it is handy to provide the connector instance\n        pluginState.connector = connector;\n\n        // for when user reloads the app on an already connected wallet\n        // need to store address to pre-load that connection\n        if (account.value) {\n          lsSet('connectedWallet', account.value);\n          lsSet('connectedProvider', wallet);\n          pluginState.walletState = 'connected';\n          trackGoal(Goals.ConnectedWallet);\n        }\n      } catch (err) {\n        console.error(err);\n        pluginState.walletState = 'disconnected';\n      }\n    };\n\n    const disconnectWallet = async () => {\n      if (!pluginState.connector) {\n        throw new Error(\n          'Cannot disconnect a wallet. No wallet currently connected.'\n        );\n      }\n      const connector = pluginState.connector as Connector;\n      connector.handleDisconnect();\n      pluginState.connector = null;\n      pluginState.walletState = 'disconnected';\n      alreadyConnectedAccount.value = null;\n      alreadyConnectedProvider.value = null;\n    };\n\n    // previously connected wallet initiation\n    if (alreadyConnectedAccount.value && alreadyConnectedProvider.value) {\n      connectWallet(alreadyConnectedProvider.value);\n    }\n\n    const payload: Web3Plugin = {\n      connectWallet,\n      disconnectWallet,\n      ...toRefs(pluginState),\n      account,\n      chainId,\n      provider,\n      signer\n    };\n\n    app.provide(Web3ProviderSymbol, payload);\n  }\n};\n","import axios from 'axios';\n\nconst GWEI_UNIT = 1e9;\n\ntype BlocknativeGasPriceConfidence = 70 | 80 | 90 | 95 | 99;\n\ntype BlocknativeEstimatedPrice = {\n  confidence: BlocknativeGasPriceConfidence;\n  price: number;\n};\n\ntype BlocknativeBlockPrice = {\n  blockNumber: number;\n  estimatedTransactionCount: number;\n  estimatedPrices: BlocknativeEstimatedPrice[];\n};\n\ntype BlocknativeGasPlatformResponse = {\n  unit: string;\n  currentBlockNumber: number;\n  maxPrice: number;\n  msSinceLastBlock: number;\n  network: string;\n  system: string;\n  blockPrices: [BlocknativeBlockPrice];\n};\n\nexport default class BlocknativeProvider {\n  public async getLatest(\n    confidence: BlocknativeGasPriceConfidence | 'best' = 'best'\n  ): Promise<number | null> {\n    try {\n      const response = await axios.get<BlocknativeGasPlatformResponse>(\n        'https://api.blocknative.com/gasprices/blockprices',\n        {\n          headers: {\n            Authorization: process.env.VUE_APP_BLOCKNATIVE_DAPP_ID\n          }\n        }\n      );\n      const estimatedPrices = response.data.blockPrices[0].estimatedPrices;\n\n      let gasPrice: BlocknativeEstimatedPrice | undefined;\n\n      // try to get 90% confidence, but make sure not to overpay. (otherwise grab 70%)\n      if (confidence === 'best') {\n        const gasPrice70 = estimatedPrices.find(\n          estimatedPrice => estimatedPrice.confidence === 70\n        );\n        const gasPrice90 = estimatedPrices.find(\n          estimatedPrice => estimatedPrice.confidence === 90\n        );\n\n        if (gasPrice70 != null && gasPrice90 != null) {\n          gasPrice =\n            gasPrice90.price > 1.25 * gasPrice70.price\n              ? gasPrice70\n              : gasPrice90;\n        }\n      } else {\n        gasPrice = estimatedPrices.find(\n          estimatedPrice => estimatedPrice.confidence === confidence\n        );\n      }\n\n      // gas price is in gwei\n      return gasPrice != null ? gasPrice.price * GWEI_UNIT : null;\n    } catch (e) {\n      console.log('[Blocknative] Gas Platform Error', e);\n      return null;\n    }\n  }\n}\n","import axios from 'axios';\n\nconst GWEI_UNIT = 1e9;\n\ntype TxSpeedOptions = 'safeLow' | 'standard' | 'fast' | 'fast' | 'fastest';\n\ninterface PolygonGasStationResponse {\n  safeLow: number;\n  standard: number;\n  fast: number;\n  fastest: number;\n  blockTime: number;\n  blockNumber: number;\n}\n\nexport default class PolygonProvider {\n  public async getLatest(\n    txSpeed: TxSpeedOptions = 'standard'\n  ): Promise<number | null> {\n    try {\n      const { data } = await axios.get<PolygonGasStationResponse>(\n        'https://gasstation-mainnet.matic.network'\n      );\n      return data[txSpeed] * GWEI_UNIT;\n    } catch (error) {\n      console.log('[Polygon] Gas Platform Error', error);\n      return null;\n    }\n  }\n}\n","import ConfigService from '../config/config.service';\nimport BlocknativeProvider from './providers/blocknative.provider';\nimport PolygonProvider from './providers/polygon.provider';\n\nexport default class GasPriceService {\n  constructor(\n    private readonly configService = new ConfigService(),\n    private readonly blocknativeProvider = new BlocknativeProvider(),\n    private readonly polygonProvider = new PolygonProvider()\n  ) {}\n\n  public async getLatest(): Promise<number | null> {\n    switch (this.configService.network.key) {\n      case '1':\n        return await this.blocknativeProvider.getLatest();\n      case '137':\n        return await this.polygonProvider.getLatest();\n      default:\n        return null;\n    }\n  }\n}\n","<template>\n  <svg\n    width=\"38px\"\n    height=\"38px\"\n    viewBox=\"0 0 38 38\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n  >\n    <defs>\n      <filter\n        x=\"-8.3%\"\n        y=\"-3.1%\"\n        width=\"116.6%\"\n        height=\"108.3%\"\n        filterUnits=\"objectBoundingBox\"\n        id=\"plus-square-filter-1\"\n      >\n        <feOffset\n          dx=\"0\"\n          dy=\"2\"\n          in=\"SourceAlpha\"\n          result=\"shadowOffsetOuter1\"\n        ></feOffset>\n        <feGaussianBlur\n          stdDeviation=\"2\"\n          in=\"shadowOffsetOuter1\"\n          result=\"shadowBlurOuter1\"\n        ></feGaussianBlur>\n        <feColorMatrix\n          values=\"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.05 0\"\n          type=\"matrix\"\n          in=\"shadowBlurOuter1\"\n          result=\"shadowMatrixOuter1\"\n        ></feColorMatrix>\n        <feMerge>\n          <feMergeNode in=\"shadowMatrixOuter1\"></feMergeNode>\n          <feMergeNode in=\"SourceGraphic\"></feMergeNode>\n        </feMerge>\n      </filter>\n    </defs>\n    <g\n      stroke=\"none\"\n      stroke-width=\"1\"\n      fill=\"none\"\n      fill-rule=\"evenodd\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    >\n      <g transform=\"translate(-73.000000, -890.000000)\" stroke=\"#03953F\">\n        <g\n          filter=\"url(#plus-square-filter-1)\"\n          transform=\"translate(62.000000, 246.000000)\"\n        >\n          <g transform=\"translate(19.000000, 521.000000)\">\n            <g transform=\"translate(2.000000, 126.000000)\">\n              <g transform=\"translate(0.000000, 7.000000)\">\n                <rect\n                  id=\"Rectangle\"\n                  x=\"-0.5\"\n                  y=\"-0.5\"\n                  width=\"19\"\n                  height=\"19\"\n                  rx=\"1.66666667\"\n                ></rect>\n                <line x1=\"9\" y1=\"5\" x2=\"9\" y2=\"13\" id=\"Path\"></line>\n                <line x1=\"5\" y1=\"9\" x2=\"13\" y2=\"9\" id=\"Path\"></line>\n              </g>\n            </g>\n          </g>\n        </g>\n      </g>\n    </g>\n  </svg>\n</template>\n","import { render } from \"./PlusSquareIcon.vue?vue&type=template&id=cebc46d0\"\nconst script = {}\nscript.render = render\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalTabs.vue?vue&type=style&index=0&id=e54fd774&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=972b51ae&lang=css\"","<template>\n  <div :class=\"['spinner', sizeClasses]\">\n    <div :class=\"`double-bounce1 ${colorClasses}`\" />\n    <div :class=\"`double-bounce2 ${colorClasses}`\" />\n  </div>\n</template>\n\n<script>\nimport { defineComponent, computed } from 'vue';\n\nexport default defineComponent({\n  name: 'BalLoadingIcon',\n\n  props: {\n    color: {\n      type: String,\n      default: 'gray',\n      validator: value => ['gray', 'primary', 'white'].includes(value)\n    },\n    size: {\n      type: String,\n      default: 'md',\n      validator: value => ['sm', 'md', 'lg'].includes(value)\n    }\n  },\n\n  setup(props) {\n    const sizeClasses = computed(() => {\n      switch (props.size) {\n        case 'lg':\n          return 'lg';\n        case 'sm':\n          return 'sm';\n        default:\n          return 'md';\n      }\n    });\n\n    const colorClasses = computed(() => {\n      switch (props.color) {\n        case 'white':\n          return 'bg-white';\n        default:\n          return `bg-${props.color}-500`;\n      }\n    });\n\n    return {\n      sizeClasses,\n      colorClasses\n    };\n  }\n});\n</script>\n\n<style scoped>\n.spinner {\n  position: relative;\n}\n\n.sm {\n  width: 16px;\n  height: 16px;\n}\n\n.md {\n  width: 22px;\n  height: 22px;\n}\n\n.lg {\n  width: 32px;\n  height: 32px;\n}\n\n.double-bounce1,\n.double-bounce2 {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  opacity: 0.6;\n  position: absolute;\n  top: 0;\n  left: 0;\n  -webkit-animation: sk-bounce 2s infinite ease-in-out;\n  animation: sk-bounce 2s infinite ease-in-out;\n}\n.double-bounce2 {\n  -webkit-animation-delay: -1s;\n  animation-delay: -1s;\n}\n@-webkit-keyframes sk-bounce {\n  0%,\n  100% {\n    -webkit-transform: scale(0);\n  }\n  50% {\n    -webkit-transform: scale(1);\n  }\n}\n@keyframes sk-bounce {\n  0%,\n  100% {\n    transform: scale(0);\n    -webkit-transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n    -webkit-transform: scale(1);\n  }\n}\n</style>\n","import { render } from \"./BalLoadingIcon.vue?vue&type=template&id=cbd8a576&scoped=true\"\nimport script from \"./BalLoadingIcon.vue?vue&type=script&lang=js\"\nexport * from \"./BalLoadingIcon.vue?vue&type=script&lang=js\"\n\nimport \"./BalLoadingIcon.vue?vue&type=style&index=0&id=cbd8a576&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-cbd8a576\"\n\nexport default script","<template>\n  <span>\n    <img\n      v-if=\"profile?.image\"\n      :src=\"_ipfsUrl(profile.image)\"\n      :style=\"{\n        width: `${parseInt(size) || 22}px`,\n        height: `${parseInt(size) || 22}px`,\n        verticalAlign: 'middle'\n      }\"\n      @error=\"error = true\"\n      class=\"rounded-full leading-none\"\n    />\n    <jazzicon\n      v-else\n      :address=\"address\"\n      :diameter=\"parseInt(size) || 22\"\n      class=\"leading-none inline-block align-middle\"\n    />\n  </span>\n</template>\n\n<script>\nimport Jazzicon from 'vue3-jazzicon/src/components';\n\nexport default {\n  components: {\n    Jazzicon\n  },\n\n  props: ['address', 'size', 'profile']\n};\n</script>\n","import { render } from \"./Avatar.vue?vue&type=template&id=658e33f5\"\nimport script from \"./Avatar.vue?vue&type=script&lang=js\"\nexport * from \"./Avatar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","module.exports = __webpack_public_path__ + \"img/polygon.7646757c.svg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalModal.vue?vue&type=style&index=0&id=7a6245a2&scoped=true&lang=css\"","import { getEtherPrice, getTokensPrice } from '@/services/coingecko';\nimport { ETHER } from '@/constants/tokenlists';\nimport GasPriceService from '@/services/gas-price/gas-price.service';\n\ntype Prices = Record<string, number>;\n\ninterface MarketState {\n  prices: Prices;\n  gasPrice: number;\n  loading: boolean;\n}\n\nconst gasPriceService = new GasPriceService();\n\nconst state: MarketState = {\n  prices: {},\n  gasPrice: 0,\n  loading: false\n};\n\nconst actions = {\n  async loadPrices({ commit, rootGetters }, tokens: string[] = []) {\n    if (tokens.length === 0)\n      tokens = Object.values(rootGetters['registry/getTokens']()).map(\n        (token: any) => token.address\n      );\n    commit('setLoading', true);\n    const chainId = Number(process.env.VUE_APP_NETWORK || 1);\n    const [prices, etherPrice] = await Promise.all([\n      getTokensPrice(chainId, tokens),\n      getEtherPrice()\n    ]);\n    prices[ETHER.address.toLowerCase()] = etherPrice;\n    commit('addPrices', prices);\n    commit('setLoading', false);\n  },\n  async getGasPrice({ commit }) {\n    const price = await gasPriceService.getLatest();\n    commit('setGasPrice', price);\n  }\n};\n\nconst mutations = {\n  addPrices(_state: MarketState, prices: Prices) {\n    for (const asset in prices) {\n      _state.prices[asset] = prices[asset];\n    }\n  },\n\n  setGasPrice(_state: MarketState, price: number) {\n    _state.gasPrice = price;\n  },\n\n  setLoading(_state: MarketState, val: boolean) {\n    _state.loading = val;\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n};\n","import numeral from 'numeral';\nimport BigNumber from 'bignumber.js';\nimport { useStore } from 'vuex';\n\nexport type Preset =\n  | 'default'\n  | 'token'\n  | 'token_fixed'\n  | 'token_lg'\n  | 'usd'\n  | 'usd_lg'\n  | 'percent'\n  | 'percent_lg';\n\ninterface Options {\n  format?: string;\n  forcePreset?: boolean;\n}\n\nenum PresetFormats {\n  default = '(0.[0]a)',\n  token = '0,0.[0000]',\n  token_fixed = '0,0.0000',\n  token_lg = '0,0',\n  usd = '$0,0.00',\n  usd_lg = '$0,0',\n  usd_m = '$0,0.00a',\n  percent = '0.00%',\n  percent_lg = '0%'\n}\n\nexport default function useNumbers() {\n  const store = useStore();\n  function fNum(\n    number: number | string,\n    preset: Preset | null = 'default',\n    options: Options = {}\n  ): string {\n    if (options.format) return numeral(number).format(options.format);\n\n    let adjustedPreset;\n    if (number >= 10_000 && !options.forcePreset) {\n      adjustedPreset = `${preset}_lg`;\n    }\n    if (number < 1e-6) {\n      // Numeral returns NaN in this case so just set to zero.\n      // https://github.com/adamwdraper/Numeral-js/issues/596\n      number = 0;\n    }\n\n    return numeral(number).format(\n      PresetFormats[adjustedPreset || preset || 'default']\n    );\n  }\n\n  function toFiat(amount: number | string, tokenAddress: string): number {\n    const rate =\n      store.state.market.prices[tokenAddress.toLowerCase()]?.price || 0;\n    const tokenAmount = new BigNumber(amount);\n    return tokenAmount.times(rate).toNumber();\n  }\n\n  return { fNum, toFiat };\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalChip.vue?vue&type=style&index=0&id=48d4b0d1&scoped=true&lang=css\"","import { computed, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useQuery } from 'vue-query';\nimport { flatten, keyBy } from 'lodash';\n\nimport QUERY_KEYS from '@/constants/queryKeys';\nimport TOKEN_LISTS from '@/constants/tokenlists';\n\nimport { getTokensListURL, loadTokenlist } from '@/lib/utils/tokenlists';\nimport { lsGet, lsSet } from '@/lib/utils';\n\nimport { Token } from '@/types';\n\nexport type TokenListItem = {\n  address: string;\n  chainId: number;\n  decimals: number;\n  logoURI: string;\n  name: string;\n  symbol: string;\n  balance: string;\n};\n\ntype TokenList = {\n  keywords: string[];\n  logoURI: string;\n  name: string;\n  timestamp: string;\n  tokens: TokenListItem[];\n  version: {\n    major: number;\n    minor: number;\n    patch: number;\n  };\n  tokenListsURL: string;\n};\n\nconst loadAllTokenLists = async () => {\n  // since a request to retrieve the list can fail\n  // it is best to use allSettled as we still want to\n  // retrieve what we can\n  return (\n    await Promise.allSettled(\n      TOKEN_LISTS.Approved.map(async listURI => {\n        const tokenList = (await loadTokenlist(listURI)) as Omit<\n          TokenList,\n          'tokenListsURL'\n        >;\n\n        return {\n          ...tokenList,\n          tokenListsURL: getTokensListURL(listURI)\n        };\n      })\n    )\n  )\n    .filter(result => result.status === 'fulfilled')\n    .map(result => (result as PromiseFulfilledResult<TokenList>).value);\n};\n\n// THE CONTENTS OF THIS WILL BE REPLACED/ALTERED WITH THE REGISTRY REFACTOR\n\n// This composable retrieves all the tokens from active token lists,\n// all the injected tokens from the store and the ETHER token\n// for other composables to build upon\nexport default function useTokenStore() {\n  const store = useStore();\n  const activeTokenLists = ref<string[]>(\n    lsGet('activeTokenLists', ['Balancer'])\n  );\n  const queryKey = QUERY_KEYS.TokenLists;\n  const queryFn = loadAllTokenLists;\n\n  const { data: lists, isLoading, refetch: refreshTokenLists } = useQuery<\n    TokenList[]\n  >(queryKey, queryFn, {\n    refetchOnMount: false,\n    refetchOnWindowFocus: false\n  });\n\n  const listMap = computed(() => keyBy(lists.value, 'name'));\n  const injectedTokens = computed(() => store.state.registry.injected);\n\n  const allTokens = computed(() => {\n    // get all the tokens from all the active lists\n    // get all tokens that are injected\n    // get the ETHER token ALWAYS\n    return keyBy(\n      flatten([\n        ...Object.values(injectedTokens.value).map((t: any) => ({ ...t })),\n        ...activeTokenLists.value.map(name => listMap.value[name]?.tokens),\n        store.getters['registry/getEther']()\n      ])\n        // invalid network tokens get filtered out\n        .filter(\n          token => token?.chainId === Number(process.env.VUE_APP_NETWORK || 1)\n        ) as Token[],\n      'address'\n    );\n  });\n\n  const toggleActiveTokenList = (name: string) => {\n    if (activeTokenLists.value.includes(name)) {\n      activeTokenLists.value = activeTokenLists.value.filter(\n        listName => listName !== name\n      );\n    } else {\n      activeTokenLists.value.push(name);\n    }\n    lsSet('activeTokenLists', activeTokenLists.value);\n  };\n\n  const isActiveList = (name: string) => {\n    return activeTokenLists.value.includes(name);\n  };\n\n  return {\n    isLoading,\n    lists,\n    toggleActiveTokenList,\n    isActiveList,\n    refreshTokenLists,\n    allTokens,\n    listMap,\n    activeTokenLists\n  };\n}\n","import ConfigService from '@/services/config/config.service';\n\nexport default function useConfig(\n  configService: ConfigService = new ConfigService()\n) {\n  return {\n    env: configService.env,\n    networkConfig: configService.network\n  };\n}\n","// https://github.com/ensdomains/ui/blob/master/src/utils/contents.js\n// https://github.com/Uniswap/uniswap-interface/blob/master/src/utils/resolveENSContentHash.ts\nimport contentHash from '@ensdomains/content-hash';\nimport { Provider } from '@ethersproject/abstract-provider';\nimport { namehash } from '@ethersproject/hash';\nimport { isHexString } from '@ethersproject/bytes';\nimport bs58 from 'bs58';\nimport { call } from '@/lib/utils/balancer/contract';\nconst supportedCodecs = ['ipns-ns', 'ipfs-ns', 'swarm-ns', 'onion', 'onion3'];\n\nconst REGISTRAR_ABI = [\n  {\n    constant: true,\n    inputs: [\n      {\n        name: 'node',\n        type: 'bytes32'\n      }\n    ],\n    name: 'resolver',\n    outputs: [\n      {\n        name: 'resolverAddress',\n        type: 'address'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nconst REGISTRAR_ADDRESS = '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e';\n\nconst RESOLVER_ABI = [\n  {\n    constant: true,\n    inputs: [\n      {\n        internalType: 'bytes32',\n        name: 'node',\n        type: 'bytes32'\n      }\n    ],\n    name: 'contenthash',\n    outputs: [\n      {\n        internalType: 'bytes',\n        name: '',\n        type: 'bytes'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nexport function decodeContenthash(encoded) {\n  let decoded, protocolType, error;\n  if (encoded.error) {\n    return { protocolType: null, decoded: encoded.error };\n  }\n  if (encoded) {\n    try {\n      decoded = contentHash.decode(encoded);\n      const codec = contentHash.getCodec(encoded);\n      if (codec === 'ipfs-ns') {\n        // convert the ipfs from base58 to base32 (url host compatible)\n        // if needed the hash can now be resolved through a secured origin gateway (<hash>.gateway.com)\n        decoded = contentHash.helpers.cidV0ToV1Base32(decoded);\n\n        protocolType = 'ipfs';\n      } else if (codec === 'ipns-ns') {\n        decoded = bs58\n          .decode(decoded)\n          .slice(2)\n          .toString();\n        protocolType = 'ipns';\n      } else if (codec === 'swarm-ns') {\n        protocolType = 'bzz';\n      } else if (codec === 'onion') {\n        protocolType = 'onion';\n      } else if (codec === 'onion3') {\n        protocolType = 'onion3';\n      } else {\n        decoded = encoded;\n      }\n    } catch (e) {\n      error = e.message;\n    }\n  }\n  return { protocolType, decoded, error };\n}\n\nexport function validateContent(encoded) {\n  return (\n    contentHash.isHashOfType(encoded, contentHash.Types.ipfs) ||\n    contentHash.isHashOfType(encoded, contentHash.Types.swarm)\n  );\n}\n\nexport function isValidContenthash(encoded) {\n  try {\n    const codec = contentHash.getCodec(encoded);\n    return isHexString(encoded) && supportedCodecs.includes(codec);\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport function encodeContenthash(text) {\n  let content, contentType;\n  let encoded: any = false;\n  if (text) {\n    const matched =\n      text.match(/^(ipfs|ipns|bzz|onion|onion3):\\/\\/(.*)/) ||\n      text.match(/\\/(ipfs)\\/(.*)/) ||\n      text.match(/\\/(ipns)\\/(.*)/);\n    if (matched) {\n      contentType = matched[1];\n      content = matched[2];\n    }\n    try {\n      if (contentType === 'ipfs') {\n        if (content.length >= 4) {\n          encoded = '0x' + contentHash.encode('ipfs-ns', content);\n        }\n      } else if (contentType === 'ipns') {\n        const bs58content = bs58.encode(\n          Buffer.concat([\n            Buffer.from([0, content.length]),\n            Buffer.from(content)\n          ])\n        );\n        encoded = '0x' + contentHash.encode('ipns-ns', bs58content);\n      } else if (contentType === 'bzz') {\n        if (content.length >= 4) {\n          encoded = '0x' + contentHash.fromSwarm(content);\n        }\n      } else if (contentType === 'onion') {\n        if (content.length == 16) {\n          encoded = '0x' + contentHash.encode('onion', content);\n        }\n      } else if (contentType === 'onion3') {\n        if (content.length == 56) {\n          encoded = '0x' + contentHash.encode('onion3', content);\n        }\n      } else {\n        console.warn('Unsupported protocol or invalid value', {\n          contentType,\n          text\n        });\n      }\n    } catch (err) {\n      console.warn('Error encoding content hash', { text, encoded });\n      //throw 'Error encoding content hash'\n    }\n  }\n  return encoded;\n}\n\n/**\n * Fetches and decodes the result of an ENS contenthash lookup on mainnet to a URI\n * @param ensName to resolve\n * @param provider provider to use to fetch the data\n */\nexport async function resolveENSContentHash(\n  ensName: string,\n  provider: Provider\n): Promise<string> {\n  const hash = namehash(ensName);\n  const resolverAddress = await call(provider, REGISTRAR_ABI, [\n    REGISTRAR_ADDRESS,\n    'resolver',\n    [hash]\n  ]);\n  return await call(provider, RESOLVER_ABI, [\n    resolverAddress,\n    'contenthash',\n    [hash]\n  ]);\n}\n\nexport async function resolveContent(provider, name) {\n  const contentHash = await resolveENSContentHash(name, provider);\n  return decodeContenthash(contentHash);\n}\n","<template>\n  <div class=\"max-w-full whitespace-nowrap rounded-lg overflow-hidden\">\n    <div class=\"overflow-hidden\" ref=\"headerRef\">\n      <table class=\"w-full table-fixed whitespace-normal\">\n        <colgroup>\n          <col\n            v-for=\"column in filteredColumns\"\n            :key=\"column.id\"\n            :style=\"{ width: `${column?.width}px` }\"\n          />\n        </colgroup>\n        <thead class=\"bg-white z-20\">\n          <th\n            v-for=\"(column, columnIndex) in filteredColumns\"\n            :key=\"`header-${column.id}`\"\n            :class=\"[\n              'p-6 bg-white headingShadow border-b',\n              column.className,\n              getHorizontalStickyClass(columnIndex),\n              isColumnStuck ? 'isSticky' : '',\n              column.sortKey ? 'cursor-pointer' : ''\n            ]\"\n            :ref=\"setHeaderRef(columnIndex)\"\n            @click=\"handleSort(column.id)\"\n          >\n            <div\n              :class=\"[\n                'flex',\n                column.align === 'right' ? 'justify-end' : 'justify-start'\n              ]\"\n            >\n              <slot\n                v-if=\"column.Header\"\n                v-bind=\"column\"\n                :name=\"column.Header\"\n              ></slot>\n              <div v-else>\n                <h5 class=\"text-base font-semibold text-gray-800\">\n                  {{ column.name }}\n                </h5>\n              </div>\n              <BalIcon\n                name=\"arrow-up\"\n                size=\"sm\"\n                v-if=\"\n                  currentSortColumn === column.id &&\n                    currentSortDirection === 'asc'\n                \"\n                class=\"ml-1 flex items-center\"\n              />\n              <BalIcon\n                name=\"arrow-down\"\n                size=\"sm\"\n                v-if=\"\n                  currentSortColumn === column.id &&\n                    currentSortDirection === 'desc'\n                \"\n                class=\"ml-1 flex items-center\"\n              />\n            </div>\n          </th>\n        </thead>\n      </table>\n    </div>\n    <div class=\"overflow-auto\" ref=\"bodyRef\">\n      <BalLoadingBlock\n        v-if=\"isLoading\"\n        :class=\"[skeletonClass, 'min-w-full']\"\n        square\n        :style=\"{ width: `${placeholderBlockWidth}px` }\"\n      />\n      <div\n        v-if=\"!isLoading && !tableData.length\"\n        class=\"max-w-full bg-white rowBg h-40 flex items-center justify-center text-gray-500\"\n      >\n        {{ noResultsLabel || $t('noResults') }}\n      </div>\n      <table class=\"w-full table-fixed whitespace-normal\">\n        <colgroup>\n          <col\n            v-for=\"column in filteredColumns\"\n            :key=\"column.id\"\n            :style=\"{ width: `${column?.width}px` }\"\n          />\n        </colgroup>\n        <!-- begin measurement row -->\n        <tr>\n          <td\n            v-for=\"(column, columnIndex) in filteredColumns\"\n            :key=\"column.id\"\n            :class=\"[\n              column.align === 'right' ? 'text-left' : 'text-right',\n              getHorizontalStickyClass(columnIndex),\n              isColumnStuck ? 'isSticky' : '',\n              'p-0 m-0 h-0'\n            ]\"\n          ></td>\n        </tr>\n        <!-- end measurement row -->\n        <tbody v-if=\"!isLoading && tableData.length\">\n          <tr\n            v-for=\"(dataItem, index) in tableData\"\n            :key=\"`tableRow-${index}`\"\n            @click=\"handleRowClick(dataItem)\"\n            :class=\"[\n              'bg-white z-10 rowBg group',\n              { 'cursor-pointer': onRowClick }\n            ]\"\n          >\n            <td\n              v-for=\"(column, columnIndex) in filteredColumns\"\n              :key=\"column.id\"\n              :class=\"[\n                column.align === 'right' ? 'text-left' : 'text-right',\n                getHorizontalStickyClass(columnIndex),\n                isColumnStuck ? 'isSticky' : ''\n              ]\"\n            >\n              <router-link\n                v-if=\"link\"\n                :to=\"{\n                  name: link.to,\n                  params: link.getParams(dataItem)\n                }\"\n              >\n                <slot\n                  v-if=\"column.Cell\"\n                  v-bind=\"dataItem\"\n                  :name=\"column.Cell\"\n                ></slot>\n                <div\n                  v-else\n                  :class=\"[\n                    'px-6 py-4',\n                    column.align === 'right' ? 'text-right' : 'text-left'\n                  ]\"\n                >\n                  {{\n                    typeof column.accessor === 'string'\n                      ? dataItem[column.accessor]\n                      : column.accessor(dataItem)\n                  }}\n                </div>\n              </router-link>\n              <template v-else>\n                <slot\n                  v-if=\"column.Cell\"\n                  v-bind=\"dataItem\"\n                  :name=\"column.Cell\"\n                ></slot>\n                <div\n                  v-else\n                  :class=\"[\n                    'px-6 py-4',\n                    column.align === 'right' ? 'text-right' : 'text-left'\n                  ]\"\n                >\n                  {{\n                    typeof column.accessor === 'string'\n                      ? dataItem[column.accessor]\n                      : column.accessor(dataItem)\n                  }}\n                </div>\n              </template>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  <div\n    v-if=\"isPaginated && !isLoading\"\n    class=\"bal-table-pagination-btn\"\n    @click=\"!isLoadingMore && $emit('loadMore')\"\n  >\n    <template v-if=\"isLoadingMore\">{{ $t('loading') }}</template>\n    <template v-else\n      >{{ $t('loadMore') }} <BalIcon name=\"chevron-down\" size=\"sm\" class=\"ml-2\"\n    /></template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  onMounted,\n  PropType,\n  ref,\n  watch,\n  computed\n} from 'vue';\nimport { sortBy, sumBy } from 'lodash';\n\ntype Sticky = 'horizontal' | 'vertical' | 'both';\ntype Data = any;\n\ntype InitialState = {\n  sortDirection: 'asc' | 'desc' | null;\n  sortColumn: string | null;\n};\n\nexport type ColumnDefinition<T = Data> = {\n  // Column Header Label\n  name: string;\n  // Unique ID\n  id: string;\n  // Key or function to access data from the row\n  accessor: string | ((row: T) => string);\n  // Slot ID for custom rendering the cell\n  Cell?: string;\n  // Slot ID for custom rendering a header\n  Header?: string;\n  // Is the column sortable\n  isSortable?: boolean;\n  // Extra classes to supply to the column. E.g. min width\n  className?: string;\n  // Left or right aligned content. E.g. Numbers should be right aligned\n  align?: 'left' | 'right';\n  // Should the column width grow to fit available space?\n  noGrow?: boolean;\n  // Set to true to hide the column\n  hidden?: boolean;\n  // Accessor for sorting purposes\n  sortKey?: string | ((row: T) => unknown);\n\n  width?: number;\n};\n\nexport default defineComponent({\n  name: 'BalTable',\n\n  emits: ['loadMore'],\n\n  props: {\n    columns: {\n      type: Object as PropType<ColumnDefinition[]>,\n      required: true\n    },\n    data: {\n      type: Object as PropType<Data[]>\n    },\n    isLoading: {\n      type: Boolean,\n      default: () => false\n    },\n    isLoadingMore: {\n      type: Boolean,\n      default: false\n    },\n    skeletonClass: {\n      type: String\n    },\n    onRowClick: {\n      type: Function as PropType<(data: Data) => void>\n    },\n    sticky: {\n      type: String as PropType<Sticky>\n    },\n    isPaginated: {\n      type: Boolean,\n      default: false\n    },\n    noResultsLabel: {\n      type: String\n    },\n    link: {\n      type: Object,\n      default: null\n    },\n    initialState: {\n      type: Object as PropType<InitialState>,\n      default: () => ({\n        sortColumn: null,\n        sortDirection: null\n      })\n    }\n  },\n  setup(props) {\n    const stickyHeaderRef = ref();\n    const tableRef = ref<HTMLElement>();\n    const isColumnStuck = ref(false);\n    const tableData = ref(props.data);\n    const currentSortDirection = ref<InitialState['sortDirection']>(\n      props.initialState.sortDirection\n    );\n    const currentSortColumn = ref<InitialState['sortColumn']>(\n      props.initialState.sortColumn\n    );\n    const headerRef = ref<HTMLElement>();\n    const bodyRef = ref<HTMLElement>();\n\n    // for loading and no results\n    const placeholderBlockWidth = computed(() => sumBy(props.columns, 'width'));\n\n    const setHeaderRef = (columnIndex: number) => (el: HTMLElement) => {\n      if (el && columnIndex === 0) {\n        stickyHeaderRef.value = el;\n      }\n    };\n\n    // Need a method for horizontal stickiness as we need to\n    // check whether the table item belongs in the first column\n    const getHorizontalStickyClass = (index: number) => {\n      if (index !== 0) return '';\n      if (props.sticky === 'horizontal' || props.sticky === 'both') {\n        return 'horizontalSticky';\n      }\n      return '';\n    };\n\n    const handleRowClick = (data: Data) => {\n      if (props.link?.to) return;\n      props.onRowClick && props.onRowClick(data);\n    };\n\n    const handleSort = (columnId: string | null, updateDirection = true) => {\n      const column = props.columns.find(column => column.id === columnId);\n      if (!column?.sortKey) return;\n      if (columnId !== currentSortColumn.value)\n        currentSortDirection.value = null;\n\n      currentSortColumn.value = columnId;\n\n      if (updateDirection) {\n        if (currentSortDirection.value === null) {\n          currentSortDirection.value = 'desc';\n        } else if (currentSortDirection.value === 'desc') {\n          currentSortDirection.value = 'asc';\n        } else {\n          currentSortDirection.value = null;\n        }\n      }\n\n      const sortedData = sortBy(\n        (props.data as any).value || props.data,\n        column.sortKey\n      );\n      if (currentSortDirection.value === 'asc') {\n        tableData.value = sortedData;\n        return;\n      } else if (currentSortDirection.value === 'desc') {\n        tableData.value = sortedData.reverse();\n        return;\n      }\n      tableData.value = props.data;\n    };\n\n    onMounted(() => {\n      if (bodyRef.value) {\n        bodyRef.value.onscroll = () => {\n          if (bodyRef.value) {\n            const offsetRatio =\n              bodyRef.value.offsetWidth /\n              stickyHeaderRef.value.offsetWidth /\n              10;\n            isColumnStuck.value = !!(\n              stickyHeaderRef.value.offsetLeft >\n              stickyHeaderRef.value.offsetWidth * offsetRatio\n            );\n          }\n        };\n        bodyRef.value.addEventListener('scroll', () => {\n          if (bodyRef.value && headerRef.value) {\n            headerRef.value.scrollLeft = bodyRef.value.scrollLeft;\n          }\n        });\n      }\n    });\n\n    const filteredColumns = computed(() =>\n      props.columns.filter(column => !column.hidden)\n    );\n\n    watch(\n      () => props.data,\n      newData => {\n        if (currentSortColumn.value && currentSortDirection.value !== null) {\n          handleSort(currentSortColumn.value, false);\n          return;\n        }\n        tableData.value = newData;\n      }\n    );\n\n    return {\n      //refs\n      tableRef,\n      headerRef,\n      bodyRef,\n\n      // methods\n      setHeaderRef,\n      getHorizontalStickyClass,\n      handleSort,\n      handleRowClick,\n\n      //data\n      isColumnStuck,\n      tableData,\n      currentSortColumn,\n      currentSortDirection,\n      placeholderBlockWidth,\n\n      // computed\n      filteredColumns\n    };\n  }\n});\n</script>\n\n<style>\n.horizontalSticky {\n  @apply z-10;\n  position: sticky;\n  left: 0;\n}\n\n.horizontalSticky::after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 30px;\n  transform: translateX(100%);\n  transition: box-shadow 0.3s;\n  content: '';\n  pointer-events: none;\n}\n\n.isSticky::after {\n  box-shadow: inset 10px 0 8px -8px rgb(0 0 0 / 15%);\n}\n\n.rowBg > td {\n  @apply bg-white;\n}\n\n.rowBg:hover > td {\n  @apply bg-gray-50;\n}\n\n.bal-table-pagination-btn {\n  @apply flex items-center justify-center h-16;\n  @apply text-gray-500 font-medium hover:text-gray-800;\n  @apply border-t rounded-b-lg;\n  @apply hover:bg-gray-50 cursor-pointer;\n}\n</style>\n","\nimport {\n  defineComponent,\n  onMounted,\n  PropType,\n  ref,\n  watch,\n  computed\n} from 'vue';\nimport { sortBy, sumBy } from 'lodash';\n\ntype Sticky = 'horizontal' | 'vertical' | 'both';\ntype Data = any;\n\ntype InitialState = {\n  sortDirection: 'asc' | 'desc' | null;\n  sortColumn: string | null;\n};\n\nexport type ColumnDefinition<T = Data> = {\n  // Column Header Label\n  name: string;\n  // Unique ID\n  id: string;\n  // Key or function to access data from the row\n  accessor: string | ((row: T) => string);\n  // Slot ID for custom rendering the cell\n  Cell?: string;\n  // Slot ID for custom rendering a header\n  Header?: string;\n  // Is the column sortable\n  isSortable?: boolean;\n  // Extra classes to supply to the column. E.g. min width\n  className?: string;\n  // Left or right aligned content. E.g. Numbers should be right aligned\n  align?: 'left' | 'right';\n  // Should the column width grow to fit available space?\n  noGrow?: boolean;\n  // Set to true to hide the column\n  hidden?: boolean;\n  // Accessor for sorting purposes\n  sortKey?: string | ((row: T) => unknown);\n\n  width?: number;\n};\n\nexport default defineComponent({\n  name: 'BalTable',\n\n  emits: ['loadMore'],\n\n  props: {\n    columns: {\n      type: Object as PropType<ColumnDefinition[]>,\n      required: true\n    },\n    data: {\n      type: Object as PropType<Data[]>\n    },\n    isLoading: {\n      type: Boolean,\n      default: () => false\n    },\n    isLoadingMore: {\n      type: Boolean,\n      default: false\n    },\n    skeletonClass: {\n      type: String\n    },\n    onRowClick: {\n      type: Function as PropType<(data: Data) => void>\n    },\n    sticky: {\n      type: String as PropType<Sticky>\n    },\n    isPaginated: {\n      type: Boolean,\n      default: false\n    },\n    noResultsLabel: {\n      type: String\n    },\n    link: {\n      type: Object,\n      default: null\n    },\n    initialState: {\n      type: Object as PropType<InitialState>,\n      default: () => ({\n        sortColumn: null,\n        sortDirection: null\n      })\n    }\n  },\n  setup(props) {\n    const stickyHeaderRef = ref();\n    const tableRef = ref<HTMLElement>();\n    const isColumnStuck = ref(false);\n    const tableData = ref(props.data);\n    const currentSortDirection = ref<InitialState['sortDirection']>(\n      props.initialState.sortDirection\n    );\n    const currentSortColumn = ref<InitialState['sortColumn']>(\n      props.initialState.sortColumn\n    );\n    const headerRef = ref<HTMLElement>();\n    const bodyRef = ref<HTMLElement>();\n\n    // for loading and no results\n    const placeholderBlockWidth = computed(() => sumBy(props.columns, 'width'));\n\n    const setHeaderRef = (columnIndex: number) => (el: HTMLElement) => {\n      if (el && columnIndex === 0) {\n        stickyHeaderRef.value = el;\n      }\n    };\n\n    // Need a method for horizontal stickiness as we need to\n    // check whether the table item belongs in the first column\n    const getHorizontalStickyClass = (index: number) => {\n      if (index !== 0) return '';\n      if (props.sticky === 'horizontal' || props.sticky === 'both') {\n        return 'horizontalSticky';\n      }\n      return '';\n    };\n\n    const handleRowClick = (data: Data) => {\n      if (props.link?.to) return;\n      props.onRowClick && props.onRowClick(data);\n    };\n\n    const handleSort = (columnId: string | null, updateDirection = true) => {\n      const column = props.columns.find(column => column.id === columnId);\n      if (!column?.sortKey) return;\n      if (columnId !== currentSortColumn.value)\n        currentSortDirection.value = null;\n\n      currentSortColumn.value = columnId;\n\n      if (updateDirection) {\n        if (currentSortDirection.value === null) {\n          currentSortDirection.value = 'desc';\n        } else if (currentSortDirection.value === 'desc') {\n          currentSortDirection.value = 'asc';\n        } else {\n          currentSortDirection.value = null;\n        }\n      }\n\n      const sortedData = sortBy(\n        (props.data as any).value || props.data,\n        column.sortKey\n      );\n      if (currentSortDirection.value === 'asc') {\n        tableData.value = sortedData;\n        return;\n      } else if (currentSortDirection.value === 'desc') {\n        tableData.value = sortedData.reverse();\n        return;\n      }\n      tableData.value = props.data;\n    };\n\n    onMounted(() => {\n      if (bodyRef.value) {\n        bodyRef.value.onscroll = () => {\n          if (bodyRef.value) {\n            const offsetRatio =\n              bodyRef.value.offsetWidth /\n              stickyHeaderRef.value.offsetWidth /\n              10;\n            isColumnStuck.value = !!(\n              stickyHeaderRef.value.offsetLeft >\n              stickyHeaderRef.value.offsetWidth * offsetRatio\n            );\n          }\n        };\n        bodyRef.value.addEventListener('scroll', () => {\n          if (bodyRef.value && headerRef.value) {\n            headerRef.value.scrollLeft = bodyRef.value.scrollLeft;\n          }\n        });\n      }\n    });\n\n    const filteredColumns = computed(() =>\n      props.columns.filter(column => !column.hidden)\n    );\n\n    watch(\n      () => props.data,\n      newData => {\n        if (currentSortColumn.value && currentSortDirection.value !== null) {\n          handleSort(currentSortColumn.value, false);\n          return;\n        }\n        tableData.value = newData;\n      }\n    );\n\n    return {\n      //refs\n      tableRef,\n      headerRef,\n      bodyRef,\n\n      // methods\n      setHeaderRef,\n      getHorizontalStickyClass,\n      handleSort,\n      handleRowClick,\n\n      //data\n      isColumnStuck,\n      tableData,\n      currentSortColumn,\n      currentSortDirection,\n      placeholderBlockWidth,\n\n      // computed\n      filteredColumns\n    };\n  }\n});\n","import { render } from \"./BalTable.vue?vue&type=template&id=6670e7e2\"\nimport script from \"./BalTable.vue?vue&type=script&lang=ts\"\nexport * from \"./BalTable.vue?vue&type=script&lang=ts\"\n\nimport \"./BalTable.vue?vue&type=style&index=0&id=6670e7e2&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AppNav.vue?vue&type=style&index=0&id=4ca7be18&scoped=true&lang=css\"","<template>\n  <form\n    :action=\"action\"\n    :method=\"method\"\n    v-bind=\"$attrs\"\n    @submit.prevent=\"$emit('onSubmit')\"\n  >\n    <slot />\n  </form>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue';\n\nfunction useFormValidations() {\n  const errors = ref([] as Array<string>);\n  const validatable = ref([] as Array<any>);\n\n  function handleInputErrors(_errors: Array<string>) {\n    if (_errors && _errors.length > 0) {\n      errors.value.push(..._errors);\n    }\n  }\n\n  function validateInput(input) {\n    input.validate(input.$props.modelValue);\n    handleInputErrors(input.errors);\n  }\n\n  function findValidatable(children): void {\n    children.forEach(child => {\n      if (\n        child.component &&\n        typeof child.component.proxy.validate === 'function'\n      ) {\n        validatable.value.push(child.component.proxy);\n      }\n      if (Array.isArray(child.children)) {\n        findValidatable(child.children);\n      }\n    });\n  }\n\n  function validate(this: any) {\n    errors.value = [];\n    validatable.value = [];\n\n    findValidatable(this.$.subTree.children);\n    validatable.value.forEach(input => validateInput(input));\n\n    if (errors.value.length > 0) return false;\n    return true;\n  }\n\n  return {\n    errors,\n    validate,\n    validateInput\n  };\n}\n\nexport default defineComponent({\n  name: 'BalForm',\n\n  emits: ['onSubmit'],\n\n  props: {\n    action: { type: String, default: '' },\n    method: { type: String, default: 'post' }\n  },\n\n  setup() {\n    const { errors, validate, validateInput } = useFormValidations();\n    return { errors, validate, validateInput };\n  }\n});\n</script>\n","\nimport { defineComponent, ref } from 'vue';\n\nfunction useFormValidations() {\n  const errors = ref([] as Array<string>);\n  const validatable = ref([] as Array<any>);\n\n  function handleInputErrors(_errors: Array<string>) {\n    if (_errors && _errors.length > 0) {\n      errors.value.push(..._errors);\n    }\n  }\n\n  function validateInput(input) {\n    input.validate(input.$props.modelValue);\n    handleInputErrors(input.errors);\n  }\n\n  function findValidatable(children): void {\n    children.forEach(child => {\n      if (\n        child.component &&\n        typeof child.component.proxy.validate === 'function'\n      ) {\n        validatable.value.push(child.component.proxy);\n      }\n      if (Array.isArray(child.children)) {\n        findValidatable(child.children);\n      }\n    });\n  }\n\n  function validate(this: any) {\n    errors.value = [];\n    validatable.value = [];\n\n    findValidatable(this.$.subTree.children);\n    validatable.value.forEach(input => validateInput(input));\n\n    if (errors.value.length > 0) return false;\n    return true;\n  }\n\n  return {\n    errors,\n    validate,\n    validateInput\n  };\n}\n\nexport default defineComponent({\n  name: 'BalForm',\n\n  emits: ['onSubmit'],\n\n  props: {\n    action: { type: String, default: '' },\n    method: { type: String, default: 'post' }\n  },\n\n  setup() {\n    const { errors, validate, validateInput } = useFormValidations();\n    return { errors, validate, validateInput };\n  }\n});\n","import { render } from \"./BalForm.vue?vue&type=template&id=05630db0\"\nimport script from \"./BalForm.vue?vue&type=script&lang=ts\"\nexport * from \"./BalForm.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <a :class=\"[classes]\" v-bind=\"attrs_\">\n    <slot />\n  </a>\n</template>\n\n<script>\nimport { defineComponent, computed } from 'vue';\n\nexport default defineComponent({\n  name: 'BalLink',\n\n  props: {\n    external: {\n      type: Boolean,\n      default: false\n    },\n    noStyle: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  setup(props, { attrs }) {\n    const attrs_ = computed(() => {\n      let attrs_ = attrs;\n\n      if (props.external) {\n        attrs_ = {\n          ...attrs_,\n          target: '_blank',\n          rel: 'noopener noreferrer'\n        };\n      }\n\n      return attrs_;\n    });\n\n    const classes = computed(() => {\n      return {\n        'text-blue-500 hover:underline': !props.noStyle\n      };\n    });\n\n    return { attrs_, classes };\n  }\n});\n</script>\n","import { render } from \"./BalLink.vue?vue&type=template&id=5ebfa8ba\"\nimport script from \"./BalLink.vue?vue&type=script&lang=js\"\nexport * from \"./BalLink.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { lsGet, lsSet } from '@/lib/utils';\nimport i18n from '@/plugins/i18n';\nimport { LiquiditySelection } from '@/lib/utils/balancer/helpers/sor/sorManager';\nimport { APP } from '@/constants/app';\n\nexport enum TradeInterface {\n  GNOSIS = 'gnosis',\n  BALANCER = 'balancer'\n}\n\nexport interface AppState {\n  loading: boolean;\n  modalOpen: boolean;\n  darkMode: boolean;\n  locale: string;\n  slippage: string;\n  tradeLiquidity: LiquiditySelection;\n  tradeInterface: TradeInterface;\n  transactionDeadline: number;\n}\n\nconst state: AppState = {\n  loading: true,\n  modalOpen: false,\n  darkMode: true,\n  locale: 'en-US',\n  slippage: '0.01',\n  tradeLiquidity: LiquiditySelection.Best,\n  transactionDeadline: 20, // 20 minutes\n  tradeInterface: APP.IsGnosisIntegration\n    ? TradeInterface.GNOSIS\n    : TradeInterface.BALANCER\n};\n\nconst actions = {\n  init: async ({ commit, dispatch }) => {\n    try {\n      // Set defaults from localStorage\n      commit('setLocale', lsGet('locale', 'en-US'));\n      commit('setDarkMode', false);\n      commit('setSlippage', lsGet('slippage', '0.01'));\n      commit(\n        'setTradeLiquidity',\n        lsGet('tradeLiquidity', LiquiditySelection.Best)\n      );\n\n      // Fetch init data\n      await dispatch('registry/get', null, { root: true });\n      await dispatch('market/loadPrices', [], { root: true });\n      await dispatch('market/getGasPrice', [], { root: true });\n\n      // Fetch initial trade tokens\n      dispatch('trade/init', null, { root: true });\n\n      commit('setLoading', false);\n    } catch (error) {\n      console.error('Failed to initialize app', error);\n    }\n  }\n};\n\nconst mutations = {\n  setLoading(state: AppState, val: AppState['loading']) {\n    state.loading = val;\n  },\n\n  toggleModal(state: AppState) {\n    state.modalOpen = !state.modalOpen;\n  },\n\n  setLocale(state: AppState, locale: AppState['locale']) {\n    state.locale = locale;\n    lsSet('locale', locale);\n    i18n.global.locale = locale;\n  },\n\n  setSlippage(state: AppState, slippage: AppState['slippage']) {\n    state.slippage = slippage;\n    lsSet('slippage', slippage);\n  },\n\n  setDarkMode(state: AppState, val: AppState['darkMode']) {\n    state.darkMode = val;\n    lsSet('darkMode', state.darkMode);\n    if (state.darkMode) {\n      document.body.classList.add('dark');\n    } else {\n      document.body.classList.remove('dark');\n    }\n  },\n\n  setTradeLiquidity(state: AppState, tradeLiquidity: LiquiditySelection) {\n    state.tradeLiquidity = tradeLiquidity;\n    lsSet('tradeLiquidity', state.tradeLiquidity);\n  },\n\n  setTradeInterface(\n    state: AppState,\n    tradeInterface: AppState['tradeInterface']\n  ) {\n    if (APP.IsGnosisIntegration) {\n      state.tradeInterface = tradeInterface;\n    }\n  },\n\n  setTransactionDeadline(\n    state: AppState,\n    transactionDeadline: AppState['transactionDeadline']\n  ) {\n    state.transactionDeadline = transactionDeadline;\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalBtn.vue?vue&type=style&index=0&id=a7dbccb0&scoped=true&lang=css\"","<template>\n  <div :class=\"['bal-alert', classes]\">\n    <div :class=\"['bal-alert-container', containerClasses]\">\n      <div :class=\"['bal-alert-icon', iconClasses]\">\n        <BalIcon name=\"alert-circle\" :size=\"iconSize\" />\n      </div>\n      <div :class=\"['bal-alert-content', contentClasses]\">\n        <div class=\"\">\n          <h5 :class=\"['bal-alert-title', titleClasses, textSizeClass]\">\n            <slot name=\"title\">\n              {{ title }}\n            </slot>\n          </h5>\n          <p\n            v-if=\"$slots.default || description\"\n            :class=\"['bal-alert-description', descriptionColor, textSizeClass]\"\n          >\n            <slot>\n              {{ description }}\n            </slot>\n          </p>\n        </div>\n        <div v-if=\"actionLabel\" :class=\"[actionClasses]\">\n          <BalBtn :color=\"btnColor\" size=\"xs\" @click=\"$emit('actionClick')\">\n            {{ actionLabel }}\n          </BalBtn>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType } from 'vue';\nimport BalIcon from '../BalIcon/BalIcon.vue';\nimport BalBtn from '../BalBtn/BalBtn.vue';\n\ntype AlertType = 'warning' | 'error' | 'info';\n\nexport default defineComponent({\n  name: 'BalAlert',\n\n  components: {\n    BalIcon,\n    BalBtn\n  },\n\n  emits: ['actionClick'],\n\n  props: {\n    type: { type: String as PropType<AlertType>, default: 'info' },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val)\n    },\n    title: { type: String, default: 'A title message' },\n    description: { type: String },\n    actionLabel: { type: String },\n    raised: { type: Boolean, default: false },\n    block: { type: Boolean, default: false }\n  },\n\n  setup(props, { slots }) {\n    const bgColorClass = computed(() => {\n      switch (props.type) {\n        case 'warning':\n          return 'bg-yellow-50 text-black';\n        case 'error':\n          return 'bg-red-50 text-black';\n        default:\n          return 'bg-black text-white';\n      }\n    });\n\n    const paddingClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'p-1';\n        default:\n          return 'p-2';\n      }\n    });\n\n    const textSizeClass = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'text-xs';\n        case 'lg':\n          return 'text-base';\n        default:\n          return 'text-sm';\n      }\n    });\n\n    const classes = computed(() => {\n      return {\n        [bgColorClass.value]: true,\n        [paddingClasses.value]: true,\n        'shadow-sm': props.raised,\n        'w-full': props.block\n      };\n    });\n\n    const containerClasses = computed(() => ({\n      'items-center': !props.description && !slots.default\n    }));\n\n    const contentClasses = computed(() => ({\n      'items-center': !props.description && !slots.default,\n      'flex-col': !!props.description || slots.default\n    }));\n\n    const iconSizeClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'w-5 h-5';\n        case 'lg':\n          return 'w-7 h-7';\n        default:\n          return 'w-6 h-6';\n      }\n    });\n\n    const iconColorClasses = computed(() => {\n      switch (props.type) {\n        case 'warning':\n          return 'text-yellow-500 bg-yellow-500 bg-opacity-10';\n        case 'error':\n          return 'text-red-500 bg-red-500 bg-opacity-10';\n        default:\n          return 'text-white bg-white bg-opacity-20';\n      }\n    });\n\n    const iconClasses = computed(() => {\n      return {\n        [iconSizeClasses.value]: true,\n        [iconColorClasses.value]: true\n      };\n    });\n\n    const titleClasses = computed(() => ({\n      'font-bold': !!props.description || slots.default\n    }));\n\n    const descriptionColor = computed(() => {\n      if (props.type === 'info') return 'text-white text-opacity-70';\n      return 'text-black text-opacity-70';\n    });\n\n    const iconSize = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'sm';\n        default:\n          return 'md';\n      }\n    });\n\n    const btnColor = computed(() => {\n      switch (props.type) {\n        case 'warning':\n          return 'yellow';\n        case 'error':\n          return 'red';\n        default:\n          return 'white';\n      }\n    });\n\n    const actionClasses = computed(() => ({\n      'pl-4': !props.description && !slots.default,\n      'mt-1': !!props.description || slots.default\n    }));\n\n    return {\n      classes,\n      containerClasses,\n      contentClasses,\n      iconClasses,\n      iconSize,\n      titleClasses,\n      textSizeClass,\n      descriptionColor,\n      btnColor,\n      actionClasses\n    };\n  }\n});\n</script>\n\n<style>\n.bal-alert {\n  @apply inline-block rounded-lg font-medium;\n}\n\n.bal-alert-container {\n  @apply flex;\n}\n\n.bal-alert-content {\n  @apply flex;\n}\n\n.bal-alert-icon {\n  @apply rounded-full flex items-center justify-center mr-2;\n}\n</style>\n","\nimport { computed, defineComponent, PropType } from 'vue';\nimport BalIcon from '../BalIcon/BalIcon.vue';\nimport BalBtn from '../BalBtn/BalBtn.vue';\n\ntype AlertType = 'warning' | 'error' | 'info';\n\nexport default defineComponent({\n  name: 'BalAlert',\n\n  components: {\n    BalIcon,\n    BalBtn\n  },\n\n  emits: ['actionClick'],\n\n  props: {\n    type: { type: String as PropType<AlertType>, default: 'info' },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val)\n    },\n    title: { type: String, default: 'A title message' },\n    description: { type: String },\n    actionLabel: { type: String },\n    raised: { type: Boolean, default: false },\n    block: { type: Boolean, default: false }\n  },\n\n  setup(props, { slots }) {\n    const bgColorClass = computed(() => {\n      switch (props.type) {\n        case 'warning':\n          return 'bg-yellow-50 text-black';\n        case 'error':\n          return 'bg-red-50 text-black';\n        default:\n          return 'bg-black text-white';\n      }\n    });\n\n    const paddingClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'p-1';\n        default:\n          return 'p-2';\n      }\n    });\n\n    const textSizeClass = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'text-xs';\n        case 'lg':\n          return 'text-base';\n        default:\n          return 'text-sm';\n      }\n    });\n\n    const classes = computed(() => {\n      return {\n        [bgColorClass.value]: true,\n        [paddingClasses.value]: true,\n        'shadow-sm': props.raised,\n        'w-full': props.block\n      };\n    });\n\n    const containerClasses = computed(() => ({\n      'items-center': !props.description && !slots.default\n    }));\n\n    const contentClasses = computed(() => ({\n      'items-center': !props.description && !slots.default,\n      'flex-col': !!props.description || slots.default\n    }));\n\n    const iconSizeClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'w-5 h-5';\n        case 'lg':\n          return 'w-7 h-7';\n        default:\n          return 'w-6 h-6';\n      }\n    });\n\n    const iconColorClasses = computed(() => {\n      switch (props.type) {\n        case 'warning':\n          return 'text-yellow-500 bg-yellow-500 bg-opacity-10';\n        case 'error':\n          return 'text-red-500 bg-red-500 bg-opacity-10';\n        default:\n          return 'text-white bg-white bg-opacity-20';\n      }\n    });\n\n    const iconClasses = computed(() => {\n      return {\n        [iconSizeClasses.value]: true,\n        [iconColorClasses.value]: true\n      };\n    });\n\n    const titleClasses = computed(() => ({\n      'font-bold': !!props.description || slots.default\n    }));\n\n    const descriptionColor = computed(() => {\n      if (props.type === 'info') return 'text-white text-opacity-70';\n      return 'text-black text-opacity-70';\n    });\n\n    const iconSize = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'sm';\n        default:\n          return 'md';\n      }\n    });\n\n    const btnColor = computed(() => {\n      switch (props.type) {\n        case 'warning':\n          return 'yellow';\n        case 'error':\n          return 'red';\n        default:\n          return 'white';\n      }\n    });\n\n    const actionClasses = computed(() => ({\n      'pl-4': !props.description && !slots.default,\n      'mt-1': !!props.description || slots.default\n    }));\n\n    return {\n      classes,\n      containerClasses,\n      contentClasses,\n      iconClasses,\n      iconSize,\n      titleClasses,\n      textSizeClass,\n      descriptionColor,\n      btnColor,\n      actionClasses\n    };\n  }\n});\n","import { render } from \"./BalAlert.vue?vue&type=template&id=946232c0\"\nimport script from \"./BalAlert.vue?vue&type=script&lang=ts\"\nexport * from \"./BalAlert.vue?vue&type=script&lang=ts\"\n\nimport \"./BalAlert.vue?vue&type=style&index=0&id=946232c0&lang=css\"\nscript.render = render\n\nexport default script","var map = {\n\t\"./default.svg\": \"4419\",\n\t\"./fortmatic.svg\": \"f786\",\n\t\"./frame.svg\": \"3438\",\n\t\"./imtoken.svg\": \"5bc1\",\n\t\"./metamask.svg\": \"3ed1\",\n\t\"./portis.svg\": \"d25c\",\n\t\"./status.svg\": \"3ac9\",\n\t\"./trustwallet.svg\": \"edeb\",\n\t\"./walletconnect.svg\": \"ffed\",\n\t\"./walletlink.svg\": \"2683\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"b1ea\";","import { Token, TokenMap } from '@/types';\nimport { getAddress } from '@ethersproject/address';\nimport { keyBy, orderBy, uniqBy } from 'lodash';\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport useAccountBalances from './useAccountBalances';\nimport useTokenStore from './useTokensStore';\n\ntype TokenRequest = {\n  query?: string;\n  queryAddress?: string;\n};\n\nexport default function useTokens(request?: TokenRequest) {\n  const store = useStore();\n  const prices = computed(() => store.state.market.prices);\n  const { allTokens: _allTokens } = useTokenStore();\n  const { balances } = useAccountBalances();\n\n  const tokensList = computed(() => {\n    const _tokens = uniqBy<Token>(\n      orderBy(\n        // populate token data into list of tokens\n        Object.values(_allTokens.value).map(token => {\n          const balance =\n            (balances.value || {})[token.address.toLowerCase()]?.balance || '0';\n          const price = prices.value[token.address.toLowerCase()]?.price || 0;\n          const value = balance * price;\n          const price24HChange =\n            prices.value[token.address.toLowerCase()]?.price24HChange || 0;\n          const value24HChange = (value / 100) * price24HChange;\n          return {\n            ...token,\n            address: getAddress(token.address), // Enforce that we use checksummed addresses\n            value,\n            price,\n            price24HChange,\n            balance,\n            value24HChange\n          };\n        }),\n        ['value', 'balance'],\n        ['desc', 'desc']\n      ),\n      'address'\n    );\n\n    if (request?.queryAddress) {\n      const queryAddressLC = request?.queryAddress?.toLowerCase();\n\n      return _tokens.filter(\n        token => token.address?.toLowerCase() === queryAddressLC\n      );\n    }\n\n    // search functionality, this can be better\n    if (request?.query) {\n      const queryLC = request?.query?.toLowerCase();\n\n      return _tokens.filter(\n        token =>\n          token.name.toLowerCase().includes(queryLC) ||\n          token.symbol.toLowerCase().includes(queryLC)\n      );\n    }\n\n    return _tokens;\n  });\n\n  const tokens = computed(() => keyBy(tokensList.value, 'address') as TokenMap);\n\n  return { tokens };\n}\n","module.exports = __webpack_public_path__ + \"img/tokens.56ddd52f.svg\";","<template>\n  <div class=\"inline-flex items-start\">\n    <input\n      type=\"radio\"\n      :value=\"value\"\n      :checked=\"modelValue === value\"\n      :name=\"name\"\n      @change=\"onChange(value)\"\n      :class=\"['bal-radio-input', inputClasses]\"\n      :disabled=\"disabled\"\n    />\n    <label\n      v-if=\"$slots.label || label\"\n      :for=\"name\"\n      :class=\"['bal-radio-label', labelClasses]\"\n      @click.prevent=\"onChange(value)\"\n    >\n      <slot name=\"label\">\n        {{ label }}\n      </slot>\n    </label>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue';\n\nexport default defineComponent({\n  name: 'BalRadio',\n\n  emits: ['update:modelValue'],\n\n  props: {\n    name: { type: String, required: true },\n    value: { type: [String, Number], required: true },\n    modelValue: { type: [String, Number], default: '' },\n    label: { type: String, default: '' },\n    disabled: { type: Boolean, default: false },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val)\n    },\n    color: {\n      type: String,\n      default: 'blue',\n      validator: (val: string): boolean => ['blue'].includes(val)\n    }\n  },\n\n  setup(props, { emit }) {\n    function onChange(value) {\n      if (!props.disabled) emit('update:modelValue', value);\n    }\n\n    const sizeClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'w-3 h-3';\n        case 'lg':\n          return 'w-6 h-6';\n        default:\n          return 'w-4 h-4';\n      }\n    });\n\n    const textSizeClass = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'leading-none text-sm';\n        case 'lg':\n          return 'leading-none text-lg';\n        default:\n          return 'leading-none text-base';\n      }\n    });\n\n    const colorClass = computed(() => {\n      if (props.disabled) return 'text-gray-500';\n      return `text-${props.color}-500`;\n    });\n\n    const cursrorClass = computed(() => {\n      if (props.disabled) return 'cursor-not-allowed';\n      return 'cursor-pointer';\n    });\n\n    const inputClasses = computed(() => {\n      return {\n        [sizeClasses.value]: true,\n        [colorClass.value]: true,\n        [cursrorClass.value]: true\n      };\n    });\n\n    const labelClasses = computed(() => {\n      return {\n        [textSizeClass.value]: true,\n        [cursrorClass.value]: true\n      };\n    });\n\n    return {\n      onChange,\n      inputClasses,\n      labelClasses\n    };\n  }\n});\n</script>\n\n<style>\n.bal-radio-input {\n  @apply bg-white rounded-full m-0;\n  @apply border border-gray-200;\n  transition: all ease 0.25s;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  -webkit-print-color-adjust: exact;\n  color-adjust: exact;\n  display: inline-block;\n  vertical-align: middle;\n  background-origin: border-box;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.bal-radio-input:checked {\n  background-image: url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e\");\n  border-color: transparent;\n  background-color: currentColor;\n  background-size: 100% 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.bal-radio-label {\n  @apply ml-2 flex-1;\n}\n</style>\n","\nimport { defineComponent, computed } from 'vue';\n\nexport default defineComponent({\n  name: 'BalRadio',\n\n  emits: ['update:modelValue'],\n\n  props: {\n    name: { type: String, required: true },\n    value: { type: [String, Number], required: true },\n    modelValue: { type: [String, Number], default: '' },\n    label: { type: String, default: '' },\n    disabled: { type: Boolean, default: false },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val)\n    },\n    color: {\n      type: String,\n      default: 'blue',\n      validator: (val: string): boolean => ['blue'].includes(val)\n    }\n  },\n\n  setup(props, { emit }) {\n    function onChange(value) {\n      if (!props.disabled) emit('update:modelValue', value);\n    }\n\n    const sizeClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'w-3 h-3';\n        case 'lg':\n          return 'w-6 h-6';\n        default:\n          return 'w-4 h-4';\n      }\n    });\n\n    const textSizeClass = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'leading-none text-sm';\n        case 'lg':\n          return 'leading-none text-lg';\n        default:\n          return 'leading-none text-base';\n      }\n    });\n\n    const colorClass = computed(() => {\n      if (props.disabled) return 'text-gray-500';\n      return `text-${props.color}-500`;\n    });\n\n    const cursrorClass = computed(() => {\n      if (props.disabled) return 'cursor-not-allowed';\n      return 'cursor-pointer';\n    });\n\n    const inputClasses = computed(() => {\n      return {\n        [sizeClasses.value]: true,\n        [colorClass.value]: true,\n        [cursrorClass.value]: true\n      };\n    });\n\n    const labelClasses = computed(() => {\n      return {\n        [textSizeClass.value]: true,\n        [cursrorClass.value]: true\n      };\n    });\n\n    return {\n      onChange,\n      inputClasses,\n      labelClasses\n    };\n  }\n});\n","import { render } from \"./BalRadio.vue?vue&type=template&id=58b18876\"\nimport script from \"./BalRadio.vue?vue&type=script&lang=ts\"\nexport * from \"./BalRadio.vue?vue&type=script&lang=ts\"\n\nimport \"./BalRadio.vue?vue&type=style&index=0&id=58b18876&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalCheckbox.vue?vue&type=style&index=0&id=3fa34342&lang=css\"","import { JsonRpcProvider, AlchemyProvider } from '@ethersproject/providers';\nimport configs from '@/lib/config';\n\nconst providers = {};\n\nexport default function getProvider(network: string) {\n  const url: string = configs[network]?.rpc;\n  if (!providers[network]) providers[network] = new JsonRpcProvider(url);\n  return providers[network];\n}\n\nexport function getLoggingProvider(network: string) {\n  const alchemyKey = 'cQGZUiTLRCFsQS7kbRxPJK4eH4fTTu88';\n  return new AlchemyProvider(network, alchemyKey);\n}\n","export const TOKENS = {\n  Popular: {\n    Symbols: ['WBTC', 'DAI', 'USDC', 'HEDG', 'AAVE', 'WETH']\n  },\n  AddressMap: {\n    ETH: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE',\n    WETH: '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2',\n    HEDG: '0x9A323539d87eeA58eD6833920CD55d1Db6a1C2A3'\n  },\n  Prices: {\n    ChainMap: {\n      '42': {\n        '0xdfcea9088c8a88a76ff74892c1457c17dfeef9c1':\n          '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\n        '0x1c8e3bcb3378a443cc591f154c5ce0ebb4da9648':\n          '0x2260fac5e5542a773aa44fbcfedf7c193bc2c599',\n        '0x41286bb1d3e870f3f750eb7e1c25d7e48c8a1ac7':\n          '0x9A323539d87eeA58eD6833920CD55d1Db6a1C2A3',\n        '0x8f4bebf498cc624a0797fe64114a6ff169eee078':\n          '0xbc396689893d065f41bc2c6ecbee5e0085233447',\n        '0xaf9ac3235be96ed496db7969f60d354fe5e426b0':\n          '0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2',\n        '0xc2569dd7d0fd715b054fbf16e75b001e5c0c1115':\n          '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\n        '0x04df6e4121c27713ed22341e7c7df330f56f289b':\n          '0x6b175474e89094c44da98b954eedeac495271d0f'\n      }\n    }\n  }\n};\n\nexport const DEFAULT_TOKEN_DECIMALS = 18;\n","import { Web3Provider, TransactionResponse } from '@ethersproject/providers';\nimport { BigNumber } from '@ethersproject/bignumber';\nimport { MaxUint256 } from '@ethersproject/constants';\nimport { multicall, Multicaller } from '@/lib/utils/balancer/contract';\nimport { sendTransaction } from '@/lib/utils/balancer/web3';\nimport { TokenList, TokenInfo } from '@/types/TokenList';\nimport { flatten, set } from 'lodash';\nimport getProvider from '@/lib/utils/provider';\nimport { APP } from '@/constants/app';\nimport { default as abi } from '@/lib/abi/ERC20.json';\n\nexport async function getBalances(\n  network: string,\n  provider: any,\n  account: string,\n  tokens: string[]\n): Promise<Record<string, BigNumber>> {\n  try {\n    const balances: [BigNumber][] = await multicall(\n      network,\n      provider,\n      abi,\n      tokens.map(token => [token, 'balanceOf', [account]])\n    );\n    return Object.fromEntries(\n      tokens.map((token, i) => [token.toLowerCase(), balances[i][0]])\n    );\n  } catch (e) {\n    console.log(e);\n  }\n  return {};\n}\n\nexport async function getAllowances(\n  network: string,\n  provider: any,\n  src: string,\n  dst: string,\n  tokens: string[]\n): Promise<Record<string, BigNumber>> {\n  try {\n    const allowances: [BigNumber][] = await multicall(\n      network,\n      provider,\n      abi,\n      tokens.map(token => [token, 'allowance', [src, dst]])\n    );\n    return Object.fromEntries(\n      tokens.map((token, i) => [token.toLowerCase(), allowances[i][0]])\n    );\n  } catch (e) {\n    console.log(e);\n  }\n  return {};\n}\n\nexport async function getOnchainTokensMeta(\n  network: string,\n  provider: any,\n  tokens: string[]\n): Promise<Record<string, any>> {\n  try {\n    const multi = new Multicaller(network, provider, abi);\n    const tokensMetadata = {};\n    tokens.forEach(token => {\n      set(tokensMetadata, `${token}.address`, token);\n      set(tokensMetadata, `${token}.chainId`, parseInt(network));\n      set(\n        tokensMetadata,\n        `${token}.logoURI`,\n        `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/${token}/logo.png`\n      );\n      multi.call(`${token}.name`, token, 'name');\n      multi.call(`${token}.symbol`, token, 'symbol');\n      multi.call(`${token}.decimals`, token, 'decimals');\n    });\n    return await multi.execute(tokensMetadata);\n  } catch (e) {\n    console.log(e);\n  }\n  return {};\n}\n\n// Try to find tokens metadata in tokenlists first then check onchain if that fails.\nexport async function getTokensMeta(\n  tokenAddresses: string[],\n  tokenLists: TokenList[]\n): Promise<Record<string, TokenInfo>> {\n  const allTokensLists = Object.values(tokenLists)\n    .map((list: any) => list.tokens)\n    .filter(Boolean);\n  const allTokens = flatten(allTokensLists);\n\n  const meta = {};\n  tokenAddresses.forEach(async address => {\n    const tokenMeta = allTokens.find(token => token.address == address);\n    meta[address] = tokenMeta;\n  });\n  const unknownAddresses = Object.keys(meta).filter(address => !meta[address]);\n\n  try {\n    const onchainMeta = await getOnchainTokensMeta(\n      APP.Network,\n      getProvider(APP.Network),\n      unknownAddresses\n    );\n    Object.keys(onchainMeta).forEach(address => {\n      meta[address] = onchainMeta[address];\n    });\n  } catch (error) {\n    console.error(error);\n  }\n\n  return meta;\n}\n\nexport async function approveTokens(\n  web3: Web3Provider,\n  spender: string,\n  tokens: string[]\n): Promise<TransactionResponse[]> {\n  return await Promise.all(\n    tokens.map(token =>\n      sendTransaction(web3, token, abi, 'approve', [\n        spender,\n        MaxUint256.toString()\n      ])\n    )\n  );\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AppNavToggle.vue?vue&type=style&index=0&id=5bd1ee6e&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TradeRoute.vue?vue&type=style&index=0&id=3e2ffd1a&scoped=true&lang=css\"","<template>\n  <component\n    :is=\"tag\"\n    :class=\"['bal-btn', btnClasses]\"\n    :disabled=\"disabled || loading\"\n  >\n    <div v-if=\"loading\" class=\"flex items-center justify-center\">\n      <BalLoadingIcon :size=\"size\" :color=\"iconColor\" />\n      <span v-if=\"loadingLabel\" class=\"ml-2\">\n        {{ loadingLabel }}\n      </span>\n    </div>\n    <div v-else class=\"content\">\n      <span v-if=\"label\">\n        {{ label }}\n      </span>\n      <slot v-else />\n    </div>\n  </component>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue';\nimport BalLoadingIcon from '../BalLoadingIcon/BalLoadingIcon.vue';\n\nexport default defineComponent({\n  name: 'BalBtn',\n\n  components: {\n    BalLoadingIcon\n  },\n\n  props: {\n    tag: {\n      type: String,\n      default: 'button',\n      validator: (val: string): boolean =>\n        ['button', 'a', 'div', 'router-link'].includes(val)\n    },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean =>\n        ['xs', 'sm', 'md', 'lg'].includes(val)\n    },\n    color: {\n      type: String,\n      default: 'primary',\n      validator: (val: string): boolean =>\n        [\n          'primary',\n          'gradient',\n          'gradient-reverse',\n          'gradient-pink-yellow',\n          'gray',\n          'red',\n          'white',\n          'blue'\n        ].includes(val)\n    },\n    label: { type: String, default: '' },\n    block: { type: Boolean, default: false },\n    circle: { type: Boolean, default: false },\n    outline: { type: Boolean, default: false },\n    flat: { type: Boolean, default: false },\n    rounded: { type: Boolean, default: false },\n    loading: { type: Boolean, default: false },\n    loadingLabel: { type: String, default: 'loading...' },\n    disabled: { type: Boolean, default: false }\n  },\n\n  setup(props) {\n    const sizeClasses = computed(() => {\n      switch (props.size) {\n        case 'xs':\n          return 'px-2 h-6 text-xs';\n        case 'sm':\n          return 'px-3 h-9 text-base';\n        case 'lg':\n          return 'px-5 h-18 text-lg md:text-2xl';\n        default:\n          return 'px-4 h-12 text-base';\n      }\n    });\n\n    const circleSizeClasses = computed(() => {\n      switch (props.size) {\n        case 'xs':\n          return 'w-6 h-6 text-sm';\n        case 'sm':\n          return 'w-9 h-9 text-lg';\n        case 'md':\n          return 'w-10 h-10 text-lg';\n        case 'lg':\n          return 'w-16 h-16 text-2xl';\n        default:\n          return 'w-10 h-10 text-base';\n      }\n    });\n\n    const bgGradientClasses = computed(() => {\n      if (props.outline) return 'bg-transparent';\n\n      let fromColor = 'blue';\n      let toColor = 'pink';\n\n      if (props.color === 'gradient-reverse') {\n        fromColor = 'pink';\n        toColor = 'blue';\n      } else if (props.color === 'gradient-pink-yellow') {\n        fromColor = 'pink';\n        toColor = 'yellow';\n      }\n\n      if (props.disabled) {\n        return `bg-gray-300 text-white`;\n      }\n      if (props.loading) {\n        return `bg-gradient-to-tr from-${fromColor}-50 to-${toColor}-50`;\n      }\n      return `\n        bg-gradient-to-tr from-${fromColor}-500 to-${toColor}-500\n        hover:from-${fromColor}-600 hover:to-${toColor}-600\n      `;\n    });\n\n    const bgFlatClasses = computed(() => {\n      return `\n        bg-${props.color}-50 hover:bg-${props.color}-100\n        dark:hover:bg-${props.color}-dark-800\n      `;\n    });\n\n    const bgColorClasses = computed(() => {\n      if (props.color.includes('gradient')) return bgGradientClasses.value;\n      else if (props.outline) return 'bg-transparent';\n      else if (props.flat) return bgFlatClasses.value;\n      else if (props.color === 'white') return 'bg-white';\n      else {\n        if (props.disabled) {\n          return `bg-gray-300 text-white`;\n        }\n        if (props.loading) {\n          return `bg-${props.color}-400 dark:bg-${props.color}-dark-400`;\n        }\n\n        return `\n          bg-${props.color}-500 hover:bg-${props.color}-600\n          dark:bg-${props.color}-dark-500 dark:hover:bg-${props.color}-dark-600\n        `;\n      }\n    });\n\n    const borderClasses = computed(() => {\n      if (props.outline) return `border border-${props.color}-200`;\n      return 'border-none';\n    });\n\n    const textColorClasses = computed(() => {\n      if (props.color === 'white') {\n        if (props.outline) return 'text-white';\n        else return 'text-black';\n      }\n      if (props.outline || props.flat) return `text-${props.color}-500`;\n      return 'text-white';\n    });\n\n    const displayClasses = computed(() => {\n      if (props.circle) return 'flex justify-center items-center';\n      if (props.block) return 'block w-full';\n      return 'inline-block';\n    });\n\n    const shapeClasses = computed(() => {\n      if (props.circle || props.rounded) return 'rounded-full';\n      return 'rounded-lg';\n    });\n\n    const cursorClasses = computed(() => {\n      if (props.disabled || props.loading) return 'cursor-not-allowed';\n      return 'cursor-pointer';\n    });\n\n    const shadowClasses = computed(() => {\n      if (props.flat || props.disabled || props.loading) return '';\n      if (props.size === 'sm') return 'shadow-sm hover:shadow-none';\n      return 'shadow hover:shadow-none';\n    });\n\n    const btnClasses = computed(() => {\n      return {\n        [sizeClasses.value]: !props.circle,\n        [circleSizeClasses.value]: props.circle,\n        [bgColorClasses.value]: true,\n        [textColorClasses.value]: true,\n        [borderClasses.value]: true,\n        [displayClasses.value]: true,\n        [shapeClasses.value]: true,\n        [shadowClasses.value]: true,\n        [cursorClasses.value]: true\n      };\n    });\n\n    const iconColor = computed(() => {\n      if (props.outline) return props.color;\n      return 'white';\n    });\n\n    return {\n      btnClasses,\n      iconColor\n    };\n  }\n});\n</script>\n\n<style scoped>\n.bal-btn {\n  @apply font-medium overflow-hidden;\n  transition: all 0.2s ease;\n  text-decoration: none !important;\n  line-height: 0;\n}\n\n.bal-btn:focus,\n.bal-btn:active {\n  outline: none !important;\n}\n\n.content {\n  @apply flex justify-center items-center w-full h-full;\n}\n</style>\n","\nimport { defineComponent, computed } from 'vue';\nimport BalLoadingIcon from '../BalLoadingIcon/BalLoadingIcon.vue';\n\nexport default defineComponent({\n  name: 'BalBtn',\n\n  components: {\n    BalLoadingIcon\n  },\n\n  props: {\n    tag: {\n      type: String,\n      default: 'button',\n      validator: (val: string): boolean =>\n        ['button', 'a', 'div', 'router-link'].includes(val)\n    },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean =>\n        ['xs', 'sm', 'md', 'lg'].includes(val)\n    },\n    color: {\n      type: String,\n      default: 'primary',\n      validator: (val: string): boolean =>\n        [\n          'primary',\n          'gradient',\n          'gradient-reverse',\n          'gradient-pink-yellow',\n          'gray',\n          'red',\n          'white',\n          'blue'\n        ].includes(val)\n    },\n    label: { type: String, default: '' },\n    block: { type: Boolean, default: false },\n    circle: { type: Boolean, default: false },\n    outline: { type: Boolean, default: false },\n    flat: { type: Boolean, default: false },\n    rounded: { type: Boolean, default: false },\n    loading: { type: Boolean, default: false },\n    loadingLabel: { type: String, default: 'loading...' },\n    disabled: { type: Boolean, default: false }\n  },\n\n  setup(props) {\n    const sizeClasses = computed(() => {\n      switch (props.size) {\n        case 'xs':\n          return 'px-2 h-6 text-xs';\n        case 'sm':\n          return 'px-3 h-9 text-base';\n        case 'lg':\n          return 'px-5 h-18 text-lg md:text-2xl';\n        default:\n          return 'px-4 h-12 text-base';\n      }\n    });\n\n    const circleSizeClasses = computed(() => {\n      switch (props.size) {\n        case 'xs':\n          return 'w-6 h-6 text-sm';\n        case 'sm':\n          return 'w-9 h-9 text-lg';\n        case 'md':\n          return 'w-10 h-10 text-lg';\n        case 'lg':\n          return 'w-16 h-16 text-2xl';\n        default:\n          return 'w-10 h-10 text-base';\n      }\n    });\n\n    const bgGradientClasses = computed(() => {\n      if (props.outline) return 'bg-transparent';\n\n      let fromColor = 'blue';\n      let toColor = 'pink';\n\n      if (props.color === 'gradient-reverse') {\n        fromColor = 'pink';\n        toColor = 'blue';\n      } else if (props.color === 'gradient-pink-yellow') {\n        fromColor = 'pink';\n        toColor = 'yellow';\n      }\n\n      if (props.disabled) {\n        return `bg-gray-300 text-white`;\n      }\n      if (props.loading) {\n        return `bg-gradient-to-tr from-${fromColor}-50 to-${toColor}-50`;\n      }\n      return `\n        bg-gradient-to-tr from-${fromColor}-500 to-${toColor}-500\n        hover:from-${fromColor}-600 hover:to-${toColor}-600\n      `;\n    });\n\n    const bgFlatClasses = computed(() => {\n      return `\n        bg-${props.color}-50 hover:bg-${props.color}-100\n        dark:hover:bg-${props.color}-dark-800\n      `;\n    });\n\n    const bgColorClasses = computed(() => {\n      if (props.color.includes('gradient')) return bgGradientClasses.value;\n      else if (props.outline) return 'bg-transparent';\n      else if (props.flat) return bgFlatClasses.value;\n      else if (props.color === 'white') return 'bg-white';\n      else {\n        if (props.disabled) {\n          return `bg-gray-300 text-white`;\n        }\n        if (props.loading) {\n          return `bg-${props.color}-400 dark:bg-${props.color}-dark-400`;\n        }\n\n        return `\n          bg-${props.color}-500 hover:bg-${props.color}-600\n          dark:bg-${props.color}-dark-500 dark:hover:bg-${props.color}-dark-600\n        `;\n      }\n    });\n\n    const borderClasses = computed(() => {\n      if (props.outline) return `border border-${props.color}-200`;\n      return 'border-none';\n    });\n\n    const textColorClasses = computed(() => {\n      if (props.color === 'white') {\n        if (props.outline) return 'text-white';\n        else return 'text-black';\n      }\n      if (props.outline || props.flat) return `text-${props.color}-500`;\n      return 'text-white';\n    });\n\n    const displayClasses = computed(() => {\n      if (props.circle) return 'flex justify-center items-center';\n      if (props.block) return 'block w-full';\n      return 'inline-block';\n    });\n\n    const shapeClasses = computed(() => {\n      if (props.circle || props.rounded) return 'rounded-full';\n      return 'rounded-lg';\n    });\n\n    const cursorClasses = computed(() => {\n      if (props.disabled || props.loading) return 'cursor-not-allowed';\n      return 'cursor-pointer';\n    });\n\n    const shadowClasses = computed(() => {\n      if (props.flat || props.disabled || props.loading) return '';\n      if (props.size === 'sm') return 'shadow-sm hover:shadow-none';\n      return 'shadow hover:shadow-none';\n    });\n\n    const btnClasses = computed(() => {\n      return {\n        [sizeClasses.value]: !props.circle,\n        [circleSizeClasses.value]: props.circle,\n        [bgColorClasses.value]: true,\n        [textColorClasses.value]: true,\n        [borderClasses.value]: true,\n        [displayClasses.value]: true,\n        [shapeClasses.value]: true,\n        [shadowClasses.value]: true,\n        [cursorClasses.value]: true\n      };\n    });\n\n    const iconColor = computed(() => {\n      if (props.outline) return props.color;\n      return 'white';\n    });\n\n    return {\n      btnClasses,\n      iconColor\n    };\n  }\n});\n","import { render } from \"./BalBtn.vue?vue&type=template&id=a7dbccb0&scoped=true\"\nimport script from \"./BalBtn.vue?vue&type=script&lang=ts\"\nexport * from \"./BalBtn.vue?vue&type=script&lang=ts\"\n\nimport \"./BalBtn.vue?vue&type=style&index=0&id=a7dbccb0&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-a7dbccb0\"\n\nexport default script","<template>\n  <div id=\"modal\" />\n  <div id=\"app\">\n    <AppNav />\n    <AppHero v-if=\"isHomePage\" />\n    <div class=\"pb-12\">\n      <router-view :key=\"$route.path\" class=\"flex-auto\" />\n    </div>\n    <VueQueryDevTools />\n    <WalletSelectModal\n      :isVisible=\"isWalletSelectVisible\"\n      @close=\"toggleWalletSelectModal\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onBeforeMount, computed } from 'vue';\nimport { VueQueryDevTools } from 'vue-query/devtools';\nimport { useStore } from 'vuex';\nimport BigNumber from 'bignumber.js';\nimport { useRoute } from 'vue-router';\n\nimport useWeb3Watchers from '@/composables/useWeb3Watchers';\nimport AppNav from '@/components/navs/AppNav/AppNav.vue';\nimport AppHero from '@/components/heros/AppHero.vue';\nimport WalletSelectModal from '@/components/web3/WalletSelectModal.vue';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport RpcProviderService from '@/services/rpc-provider/rpc-provider.service';\nimport { DEFAULT_TOKEN_DECIMALS } from './constants/tokens';\n\nBigNumber.config({ DECIMAL_PLACES: DEFAULT_TOKEN_DECIMALS });\n\nexport default defineComponent({\n  components: {\n    AppNav,\n    AppHero,\n    VueQueryDevTools,\n    WalletSelectModal\n  },\n\n  setup() {\n    // COMPOSABLES\n    useWeb3Watchers();\n    const { isWalletSelectVisible, toggleWalletSelectModal } = useVueWeb3();\n    const store = useStore();\n    const route = useRoute();\n\n    // SERVICES\n    const providerService = new RpcProviderService();\n\n    // COMPUTED\n    const isHomePage = computed(() => route.path === '/');\n\n    // METHODS\n\n    const setBlockNumber = (blockNumber: number) =>\n      store.commit('web3/setBlockNumber', blockNumber);\n\n    // CALLBACKS\n    onBeforeMount(() => {\n      store.dispatch('app/init');\n      providerService.initBlockListener(setBlockNumber);\n    });\n\n    return {\n      // computed\n      isWalletSelectVisible,\n      isHomePage,\n      // methods\n      toggleWalletSelectModal\n    };\n  }\n});\n</script>\n<style>\n.VueQueryDevtoolsPanel + button {\n  @apply text-black bg-gray-100 p-2 rounded text-sm;\n}\n</style>\n","import useVueWeb3 from '@/services/web3/useVueWeb3';\nimport { useQuery } from 'vue-query';\nimport { getAllowances } from '@/lib/utils/balancer/tokens';\nimport getProvider from '@/lib/utils/provider';\nimport { computed, reactive, Ref, ref } from 'vue';\nimport { ETHER } from '@/constants/tokenlists';\nimport { isAddress } from 'web3-utils';\nimport QUERY_KEYS from '@/constants/queryKeys';\nimport useTokens from './useTokens';\n\ntype UseAccountPayload = {\n  tokens?: Ref<string[]>;\n  dstList?: Ref<string[]>;\n};\n\nconst dstAllowanceMap = ref({});\n\n// THE CONTENTS OF THIS WILL BE REPLACED/ALTERED WITH THE REGISTRY REFACTOR\nexport default function useAllowances(payload?: UseAccountPayload) {\n  const { userNetworkConfig, account } = useVueWeb3();\n  const { tokens: allTokens } = useTokens();\n  const provider = getProvider(String(userNetworkConfig.value?.chainId));\n  // filter out ether and any bad addresses\n  const tokens = computed(() =>\n    (payload?.tokens?.value || Object.keys(allTokens.value)).filter(\n      t => t !== ETHER.address && isAddress(t)\n    )\n  );\n  const dstList = computed(() => [\n    ...(payload?.dstList?.value || []),\n    userNetworkConfig.value?.addresses.vault\n  ]);\n\n  const isQueryEnabled = computed(\n    () => account.value != '' && tokens.value.length > 0\n  );\n  const {\n    data: allowances,\n    isLoading,\n    isFetching,\n    refetch: refetchAllowances\n  } = useQuery(\n    QUERY_KEYS.Account.Allowances(userNetworkConfig, account, dstList, tokens),\n    () =>\n      Promise.all(\n        dstList.value.map(async dst =>\n          getAllowances(\n            String(userNetworkConfig.value?.chainId),\n            provider,\n            account.value,\n            dst,\n            tokens.value\n          )\n        )\n      ),\n    reactive({\n      enabled: isQueryEnabled,\n      onSuccess: allowances => {\n        allowances.forEach((allowance, i) => {\n          dstAllowanceMap.value[dstList.value[i]] = allowance;\n        });\n      }\n    })\n  );\n\n  const isLoadingOrFetching = computed(\n    () => isLoading.value || isFetching.value\n  );\n\n  const getRequiredAllowances = query => {\n    const tokens = query.tokens;\n    const amounts = query.amounts;\n    const dst = query.dst || userNetworkConfig.value?.addresses.vault;\n\n    const requiredAllowances = tokens.filter((token, index) => {\n      const amount = amounts[index];\n      if (parseFloat(amount) == 0) return false;\n      if (!dstAllowanceMap.value) return false;\n      if (!dstAllowanceMap.value[dst]) return true;\n      if (!dstAllowanceMap.value[dst][token.toLowerCase()]) return true;\n      return dstAllowanceMap.value[dst][token.toLowerCase()].lt(amount);\n    });\n\n    return requiredAllowances;\n  };\n\n  return {\n    allowances,\n    getRequiredAllowances,\n    isLoading: isLoadingOrFetching,\n    refetchAllowances\n  };\n}\n","import Notify from 'bnc-notify';\n\nexport const bnNotifySymbol = Symbol();\n\ninterface Options {\n  dappId: string;\n  networkId: number;\n  desktopPosition:\n    | 'bottomLeft'\n    | 'bottomRight'\n    | 'topLeft'\n    | 'topRight'\n    | undefined;\n}\n\nexport const defaultOptions: Options = {\n  dappId: process.env.VUE_APP_BLOCKNATIVE_DAPP_ID || '',\n  networkId: Number(process.env.VUE_APP_NETWORK) || 1,\n  desktopPosition: 'bottomLeft'\n};\n\nexport default {\n  install: app => {\n    const notifyInstance = Notify(defaultOptions);\n\n    // Make plugin available in options API\n    app.config.globalProperties.$bnNotify = notifyInstance || {};\n\n    // Make plugin available in composition API\n    app.provide(bnNotifySymbol, notifyInstance);\n  }\n};\n","import { computed } from 'vue';\nimport { useStore } from 'vuex';\n\nimport getProvider from '@/lib/utils/provider';\nimport { NetworkId } from '@/constants/network';\nimport { isAddress } from '@ethersproject/address';\nimport ConfigService from '@/services/config/config.service';\n\nexport default function useWeb3() {\n  const store = useStore();\n\n  const account = computed(() => store.state.web3.account);\n  const profile = computed(() => store.state.web3.profile);\n  const blockNumber = computed(() => store.state.web3.blockNumber);\n  const loading = computed(() => store.state.web3.loading);\n\n  const configService = new ConfigService();\n\n  // App Network vars (static)\n  const appNetwork = {\n    key: configService.env.NETWORK,\n    id: Number(configService.env.NETWORK) as NetworkId,\n    name: configService.network.shortName,\n    networkName: configService.network.network,\n    nativeAsset: configService.network.nativeAsset,\n    supportsV1: isAddress(configService.network.addresses.exchangeProxy)\n  };\n\n  // User network vars (dynamic)\n  const userNetwork = computed(() => {\n    return {\n      key: store.state.web3.config.key,\n      id: store.state.web3.config.chainId,\n      name: store.state.web3.config.shortName\n    };\n  });\n\n  const userProvider = computed(() => {\n    return getProvider(userNetwork.value.key);\n  });\n\n  const isMainnet = computed(() => appNetwork.id === 1);\n\n  const unsupportedNetwork = computed(() => {\n    return store.state.web3.config.unknown;\n  });\n\n  const networkMismatch = computed(() => {\n    return (\n      unsupportedNetwork.value ||\n      userNetwork.value.key !== process.env.VUE_APP_NETWORK\n    );\n  });\n\n  const explorerBaseURL = configService.network.explorer;\n\n  // assumes etherscan.io\n  const explorer = {\n    txLink: (txHash: string) => `${explorerBaseURL}/tx/${txHash}`,\n    addressLink: (address: string) => `${explorerBaseURL}/address/${address}`,\n    tokenLink: (address: string) => `${explorerBaseURL}/token/${address}`\n  };\n\n  function shortenLabel(str, segLength = 4) {\n    const firstSegment = str.substring(0, segLength + 2);\n    const lastSegment = str.substring(str.length, str.length - segLength);\n    return `${firstSegment}...${lastSegment}`;\n  }\n\n  return {\n    explorer,\n    appNetwork,\n    userNetwork,\n    userProvider,\n    account,\n    profile,\n    loading,\n    blockNumber,\n    isMainnet,\n    unsupportedNetwork,\n    networkMismatch,\n    shortenLabel\n  };\n}\n","import { computed, inject } from 'vue';\nimport Notify from 'bnc-notify';\nimport { bnNotifySymbol } from '@/plugins/blocknative';\nimport useWeb3 from './useWeb3';\n\nconst SUPPORTED_NETWORKS = [1, 42];\n\nexport default function useBlocknative() {\n  const { appNetwork } = useWeb3();\n\n  const notify = inject(bnNotifySymbol) as ReturnType<typeof Notify>;\n  if (!notify) throw new Error('Blocknative Notify missing!');\n\n  const supportsBlocknative = computed(() => {\n    return SUPPORTED_NETWORKS.includes(appNetwork.id);\n  });\n\n  return {\n    notify,\n    supportsBlocknative\n  };\n}\n","import useVueWeb3 from '@/services/web3/useVueWeb3';\nimport { watch } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { useStore } from 'vuex';\nimport useAccountBalances from './useAccountBalances';\nimport useAllowances from './useAllowances';\nimport useBlocknative from './useBlocknative';\n\nexport default function useWeb3Watchers() {\n  // COMPOSABLES\n  const store = useStore();\n  const { t } = useI18n();\n  const { notify } = useBlocknative();\n  const {\n    appNetworkConfig,\n    userNetworkConfig,\n    account,\n    isMismatchedNetwork,\n    isUnsupportedNetwork\n  } = useVueWeb3();\n  const { refetchAllowances } = useAllowances();\n  const { refetchBalances } = useAccountBalances();\n\n  // Watch for user account change:\n  // -> Unsubscribe Blocknative from old account if exits\n  // -> Listen to new account for transactions and update balances\n  watch(\n    () => account.value,\n    (newAccount, oldAccount) => {\n      if (oldAccount) notify.unsubscribe(oldAccount);\n      if (!newAccount) return;\n\n      const { emitter } = notify.account(newAccount);\n      emitter.on('txConfirmed', () => {\n        refetchBalances.value();\n        refetchAllowances.value();\n        return false;\n      });\n    }\n  );\n\n  // Watch for user network switch\n  // -> Display alert message if unsupported or not the same as app network.\n  watch(\n    () => userNetworkConfig.value?.name,\n    () => {\n      if (isUnsupportedNetwork.value) {\n        const localeKey = userNetworkConfig.value?.name\n          ? 'unavailableOnNetworkWithName'\n          : 'unavailableOnNetwork';\n        store.commit('alerts/setCurrent', {\n          label: t(localeKey, [\n            userNetworkConfig.value?.name,\n            appNetworkConfig.name\n          ]),\n          type: 'error',\n          persistant: true\n        });\n      } else if (isMismatchedNetwork.value) {\n        store.commit('alerts/setCurrent', {\n          label: t('networkMismatch', [appNetworkConfig.name]),\n          type: 'error',\n          persistant: true\n        });\n      } else {\n        store.commit('alerts/setCurrent', null);\n      }\n    }\n  );\n}\n","<template>\n  <AppNavAlert v-if=\"alert\" :alert=\"alert\" />\n  <nav\n    id=\"app-nav\"\n    ref=\"appNav\"\n    class=\"h-20 px-4 lg:px-6 bg-white sticky top-0\"\n  >\n    <div class=\"h-full flex items-center justify-between\">\n      <div class=\"w-1/3 flex items-center\">\n        <router-link\n          :to=\"{ name: 'home' }\"\n          @click=\"trackGoal(Goals.ClickNavLogo)\"\n        >\n          <AppIcon v-if=\"['xs', 'sm', 'md'].includes(bp)\" />\n          <AppLogo v-else />\n        </router-link>\n        <AppNavNetworkSelect />\n      </div>\n\n      <div class=\"flex-1 md:w-1/3 flex justify-center\">\n        <AppNavToggle />\n      </div>\n\n      <div class=\"w-1/3 flex justify-end\">\n        <AppNavActions />\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nimport { computed, defineComponent, onMounted, onUnmounted, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport useBreakpoints from '@/composables/useBreakpoints';\nimport AppLogo from '@/components/images/AppLogo.vue';\nimport AppIcon from '@/components/images/AppIcon.vue';\nimport AppNavAlert from './AppNavAlert.vue';\nimport AppNavToggle from './AppNavToggle.vue';\nimport AppNavActions from './AppNavActions.vue';\nimport AppNavNetworkSelect from './AppNavNetworkSelect.vue';\nimport useFathom from '@/composables/useFathom';\n\nexport default defineComponent({\n  components: {\n    AppLogo,\n    AppIcon,\n    AppNavAlert,\n    AppNavToggle,\n    AppNavActions,\n    AppNavNetworkSelect\n  },\n\n  setup() {\n    // COMPOSABLES\n    const store = useStore();\n    const { bp } = useBreakpoints();\n    const { trackGoal, Goals } = useFathom();\n\n    // DATA\n    const appNav = ref(null);\n\n    // COMPUTED\n    const alert = computed(() => store.state.alerts.current);\n\n    // METHODS\n    function handleScroll() {\n      if (window.scrollY === 0) {\n        appNav.value.classList.remove('shadow-lg');\n      } else {\n        appNav.value.classList.add('shadow-lg');\n      }\n    }\n\n    // CALLBACKS\n    onMounted(() => {\n      window.addEventListener('scroll', handleScroll);\n    });\n\n    onUnmounted(() => {\n      window.removeEventListener('scroll', handleScroll);\n    });\n\n    return {\n      // data\n      appNav,\n      // computed\n      bp,\n      alert,\n      // methods\n      trackGoal,\n      Goals\n    };\n  }\n});\n</script>\n\n<style scoped>\n#app-nav {\n  @apply w-full;\n  @apply bg-white dark:bg-gray-900;\n  @apply border-b border-transparent dark:border-gray-700;\n  transition: all 0.2s ease-in-out;\n  z-index: 99999999;\n}\n</style>\n","import { computed, onMounted, onUnmounted, ref } from 'vue';\n\nexport default function useBreakpoints() {\n  const windowWidth = ref(window.innerWidth);\n\n  const onWidthChange = () => (windowWidth.value = window.innerWidth);\n  onMounted(() => window.addEventListener('resize', onWidthChange));\n  onUnmounted(() => window.removeEventListener('resize', onWidthChange));\n\n  const bp = computed(() => {\n    if (windowWidth.value < 440) return 'xs';\n    if (windowWidth.value < 640) return 'sm';\n    if (windowWidth.value < 748) return 'md';\n    if (windowWidth.value < 1024) return 'lg';\n    if (windowWidth.value < 1280) return 'xl';\n    return '2xl';\n  });\n\n  const width = computed(() => windowWidth.value);\n\n  const upToLargeBreakpoint = computed(() =>\n    ['xs', 'sm', 'md', 'lg'].includes(bp.value)\n  );\n\n  return { width, bp, upToLargeBreakpoint };\n}\n","<template>\n  <div class=\"flex items-center\">\n    <AppIcon />\n    <!--<span class=\"mr-1 font-secondary text-xl font-semibold\">\n      Balancer\n    </span>-->\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport AppIcon from './AppIcon.vue';\n\nexport default defineComponent({\n  name: 'AppLogo',\n\n  components: {\n    AppIcon\n  }\n});\n</script>\n","<template>\n  <img\n    v-if=\"darkMode\"\n    src=\"~@/assets/images/logo-dark.png\"\n    width=\"30\"\n    class=\"mr-2\"\n  />\n  <img v-else src=\"~@/assets/images/logo-light.png\" width=\"30\" class=\"mr-2\" />\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent } from 'vue';\nimport { useStore } from 'vuex';\n\nexport default defineComponent({\n  name: 'AppIcon',\n\n  setup() {\n    const store = useStore();\n\n    return {\n      darkMode: computed(() => store.state.app.darkMode)\n    };\n  }\n});\n</script>\n","\nimport { computed, defineComponent } from 'vue';\nimport { useStore } from 'vuex';\n\nexport default defineComponent({\n  name: 'AppIcon',\n\n  setup() {\n    const store = useStore();\n\n    return {\n      darkMode: computed(() => store.state.app.darkMode)\n    };\n  }\n});\n","import { render } from \"./AppIcon.vue?vue&type=template&id=7fa3e142\"\nimport script from \"./AppIcon.vue?vue&type=script&lang=ts\"\nexport * from \"./AppIcon.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from 'vue';\nimport AppIcon from './AppIcon.vue';\n\nexport default defineComponent({\n  name: 'AppLogo',\n\n  components: {\n    AppIcon\n  }\n});\n","import { render } from \"./AppLogo.vue?vue&type=template&id=45be0789\"\nimport script from \"./AppLogo.vue?vue&type=script&lang=ts\"\nexport * from \"./AppLogo.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div :class=\"['app-nav-alert', classes]\">\n    <div class=\"w-8\" />\n    <div class=\"flex-1 text-center flex items-center justify-center\">\n      <BalIcon :name=\"iconName\" class=\"mr-4\" />\n      <span>{{ alert.label }}</span>\n    </div>\n    <div v-if=\"!alert.persistant\" class=\"w-8\">\n      <BalIcon name=\"x\" class=\"cursor-pointer\" @click=\"handleClose\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType } from 'vue';\nimport { Alert } from '@/store/modules/alerts';\nimport { useStore } from 'vuex';\n\nexport default defineComponent({\n  name: 'NavAlert',\n\n  props: {\n    alert: { type: Object as PropType<Alert>, required: true }\n  },\n\n  setup(props) {\n    const store = useStore();\n\n    const colorClass = computed(() => {\n      switch (props.alert.type) {\n        case 'error':\n          return 'bg-red-500 text-white';\n        default:\n          return 'bg-black text-white';\n      }\n    });\n\n    const iconName = computed(() => {\n      switch (props.alert.type) {\n        case 'error':\n          return 'alert-triangle';\n        default:\n          return 'info';\n      }\n    });\n\n    const classes = computed(() => {\n      return {\n        [colorClass.value]: true\n      };\n    });\n\n    function handleClose() {\n      store.commit('alerts/setCurrent', null);\n    }\n\n    return { classes, iconName, handleClose };\n  }\n});\n</script>\n\n<style>\n.app-nav-alert {\n  @apply flex items-center justify-between py-4 px-6;\n}\n</style>\n","\nimport { computed, defineComponent, PropType } from 'vue';\nimport { Alert } from '@/store/modules/alerts';\nimport { useStore } from 'vuex';\n\nexport default defineComponent({\n  name: 'NavAlert',\n\n  props: {\n    alert: { type: Object as PropType<Alert>, required: true }\n  },\n\n  setup(props) {\n    const store = useStore();\n\n    const colorClass = computed(() => {\n      switch (props.alert.type) {\n        case 'error':\n          return 'bg-red-500 text-white';\n        default:\n          return 'bg-black text-white';\n      }\n    });\n\n    const iconName = computed(() => {\n      switch (props.alert.type) {\n        case 'error':\n          return 'alert-triangle';\n        default:\n          return 'info';\n      }\n    });\n\n    const classes = computed(() => {\n      return {\n        [colorClass.value]: true\n      };\n    });\n\n    function handleClose() {\n      store.commit('alerts/setCurrent', null);\n    }\n\n    return { classes, iconName, handleClose };\n  }\n});\n","import { render } from \"./AppNavAlert.vue?vue&type=template&id=69d1ff81\"\nimport script from \"./AppNavAlert.vue?vue&type=script&lang=ts\"\nexport * from \"./AppNavAlert.vue?vue&type=script&lang=ts\"\n\nimport \"./AppNavAlert.vue?vue&type=style&index=0&id=69d1ff81&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"app-nav-toggle\">\n    <router-link\n      :to=\"{ name: 'home' }\"\n      :class=\"[\n        'toggle-link pl-6 pr-4 border-l rounded-l-full',\n        { [activeClasses]: !isTradePage }\n      ]\"\n      @click=\"trackGoal(Goals.ClickNavInvest)\"\n    >\n      {{ $t('invest') }}\n    </router-link>\n    <router-link\n      :to=\"{ name: 'trade' }\"\n      :class=\"[\n        'toggle-link pl-4 pr-6 border-r rounded-r-full',\n        { [activeClasses]: isTradePage }\n      ]\"\n      @click=\"trackGoal(Goals.ClickNavTrade)\"\n    >\n      {{ $t('trade') }}\n    </router-link>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport useFathom from '@/composables/useFathom';\nimport { computed, defineComponent } from 'vue';\nimport { useRoute } from 'vue-router';\n\nexport default defineComponent({\n  name: 'AppNavToggle',\n\n  setup() {\n    const route = useRoute();\n    const activeClasses = 'bg-black border-black text-white';\n    const isTradePage = computed(() => route.name === 'trade');\n    const { trackGoal, Goals } = useFathom();\n\n    return {\n      isTradePage,\n      activeClasses,\n      trackGoal,\n      Goals\n    };\n  }\n});\n</script>\n\n<style scoped>\n.app-nav-toggle {\n  @apply h-10 flex items-center font-medium;\n}\n\n.toggle-link {\n  @apply h-full flex items-center shadow border-t border-b;\n}\n</style>\n","\nimport useFathom from '@/composables/useFathom';\nimport { computed, defineComponent } from 'vue';\nimport { useRoute } from 'vue-router';\n\nexport default defineComponent({\n  name: 'AppNavToggle',\n\n  setup() {\n    const route = useRoute();\n    const activeClasses = 'bg-black border-black text-white';\n    const isTradePage = computed(() => route.name === 'trade');\n    const { trackGoal, Goals } = useFathom();\n\n    return {\n      isTradePage,\n      activeClasses,\n      trackGoal,\n      Goals\n    };\n  }\n});\n","import { render } from \"./AppNavToggle.vue?vue&type=template&id=5bd1ee6e&scoped=true\"\nimport script from \"./AppNavToggle.vue?vue&type=script&lang=ts\"\nexport * from \"./AppNavToggle.vue?vue&type=script&lang=ts\"\n\nimport \"./AppNavToggle.vue?vue&type=style&index=0&id=5bd1ee6e&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-5bd1ee6e\"\n\nexport default script","<template>\n  <div>\n    <div v-if=\"account\" class=\"flex items-center\">\n      <AppNavClaimBtn v-if=\"liquidityMiningSupported\" />\n      <AppNavAccountBtn />\n    </div>\n    <BalBtn\n      v-else\n      color=\"gray\"\n      outline\n      rounded\n      :size=\"['xs', 'sm', 'md', 'lg'].includes(bp) ? 'md' : 'sm'\"\n      :circle=\"['xs', 'sm', 'md', 'lg'].includes(bp)\"\n      @click=\"toggleWalletSelectModal\"\n    >\n      <span class=\"hidden lg:inline-block\" v-text=\"$t('connectWallet')\" />\n      <BalIcon name=\"log-out\" size=\"sm\" class=\"lg:hidden\" />\n    </BalBtn>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue';\n\nimport { EXTERNAL_LINKS } from '@/constants/links';\n\nimport useFathom from '@/composables/useFathom';\nimport useBreakpoints from '@/composables/useBreakpoints';\nimport useNumbers from '@/composables/useNumbers';\n\nimport AppNavAccountBtn from './AppNavAccountBtn.vue';\nimport AppNavClaimBtn from './AppNavClaimBtn.vue';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\nexport default defineComponent({\n  name: 'AppNavActions',\n\n  components: {\n    AppNavAccountBtn,\n    AppNavClaimBtn\n  },\n\n  setup() {\n    // COMPOSABLES\n    const { bp } = useBreakpoints();\n    const { fNum } = useNumbers();\n    const { trackGoal, Goals } = useFathom();\n    const {\n      connectWallet,\n      account,\n      toggleWalletSelectModal,\n      isMainnet,\n      isPolygon\n    } = useVueWeb3();\n\n    // COMPUTED\n    const liquidityMiningSupported = computed(\n      () => isMainnet.value || isPolygon.value\n    );\n\n    // METHODS\n    function onClickConnect() {\n      trackGoal(Goals.ClickNavConnectWallet);\n    }\n\n    return {\n      // computed\n      liquidityMiningSupported,\n      account,\n      bp,\n      // methods\n      fNum,\n      onClickConnect,\n      connectWallet,\n      toggleWalletSelectModal,\n      // constants\n      EXTERNAL_LINKS\n    };\n  }\n});\n</script>\n","export const EXTERNAL_LINKS = {\n  Balancer: {\n    Home: 'https://hedgetrade.com',\n    BalForGas:\n      'https://docs.balancer.finance/core-concepts/bal-balancer-governance-token/bal-for-gas',\n    Claim: (account: string) => `https://claim.balancer.finance/#/${account}`,\n    PoolsV1Dashboard: 'https://pools.balancer.exchange/#/dashboard',\n    PoolsV1Explore: 'https://pools.balancer.exchange/#/explore'\n  },\n  Gauntlet: {\n    Home: 'https://gauntlet.network'\n  },\n  Ethereum: {\n    Wallets: 'https://ethereum.org/en/wallets'\n  }\n};\n","<template>\n  <BalPopover no-pad>\n    <template v-slot:activator>\n      <BalBtn\n        class=\"text-base\"\n        :class=\"{ btn: upToLargeBreakpoint }\"\n        :loading=\"isLoadingProfile\"\n        :loading-label=\"upToLargeBreakpoint ? '' : $t('connecting')\"\n        color=\"gray\"\n        :outline=\"!upToLargeBreakpoint\"\n        rounded\n        :size=\"upToLargeBreakpoint ? 'md' : 'sm'\"\n        :circle=\"upToLargeBreakpoint\"\n      >\n        <Avatar :address=\"account\" :profile=\"profile\" :size=\"avatarSize\" />\n        <span\n          v-if=\"profile.ens\"\n          v-text=\"profile.ens\"\n          class=\"pl-2 hidden lg:inline-block\"\n        />\n        <span\n          v-else\n          v-text=\"_shorten(account)\"\n          class=\"pl-2 hidden lg:inline-block eth-address\"\n        />\n        <BalIcon\n          name=\"chevron-down\"\n          size=\"sm\"\n          class=\"pl-1 hidden lg:inline-block\"\n        />\n      </BalBtn>\n    </template>\n    <AppNavSettings />\n  </BalPopover>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent } from 'vue';\nimport useBreakpoints from '@/composables/useBreakpoints';\nimport AppNavSettings from './AppNavSettings.vue';\nimport Avatar from '@/components/images/Avatar.vue';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\nexport default defineComponent({\n  name: 'AppNavAccountBtn',\n\n  components: {\n    AppNavSettings,\n    Avatar\n  },\n\n  setup() {\n    const { bp, upToLargeBreakpoint } = useBreakpoints();\n    const { isLoadingProfile, profile, account } = useVueWeb3();\n\n    const avatarSize = computed(() => {\n      if (bp.value === 'sm') {\n        return 35;\n      } else if (['md', 'lg'].includes(bp.value)) {\n        return 40;\n      } else {\n        return 20;\n      }\n    });\n\n    return {\n      bp,\n      account,\n      profile,\n      avatarSize,\n      upToLargeBreakpoint,\n      isLoadingProfile,\n      console\n    };\n  }\n});\n</script>\n","<template>\n  <div>\n    <div class=\"p-4 border-b\">\n      <h5 v-text=\"$t('account')\" />\n      <div class=\"flex mt-1 justify-between\">\n        <div class=\"flex\">\n          <div class=\"relative\">\n            <Avatar :address=\"account\" size=\"44\" />\n            <div class=\"connector-icon-wrapper\">\n              <img\n                :src=\"connectorLogo\"\n                class=\"p-0.5 w-5 h-5 absolute bottom-0 right-0 flex items-center justify-center bg-white rounded-full\"\n              />\n            </div>\n          </div>\n          <div class=\"ml-2\">\n            <div class=\"address flex items-baseline\">\n              <div v-text=\"_shorten(account)\" />\n              <div class=\"ml-3 flex\">\n                <BalTooltip>\n                  <template v-slot:activator>\n                    <BalBtn\n                      circle\n                      color=\"white\"\n                      size=\"xs\"\n                      @click=\"copyAddress\"\n                      class=\"mr-2\"\n                    >\n                      <BalIcon v-if=\"copiedAddress\" name=\"check\" size=\"xs\" />\n                      <BalIcon v-else name=\"clipboard\" size=\"xs\" />\n                    </BalBtn>\n                  </template>\n                  <div\n                    v-text=\"copiedAddress ? $t('copied') : $t('copyAddress')\"\n                    class=\"w-20 text-center\"\n                  />\n                </BalTooltip>\n                <BalBtn\n                  circle\n                  color=\"white\"\n                  size=\"xs\"\n                  tag=\"a\"\n                  :href=\"explorer.addressLink(account)\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  <BalIcon name=\"external-link\" size=\"xs\" />\n                </BalBtn>\n              </div>\n            </div>\n            <div class=\"text-sm\">{{ connectorName }}</div>\n          </div>\n        </div>\n        <div class=\"flex items-center\">\n          <BalBtn circle color=\"white\" size=\"xs\" @click=\"disconnectWallet\">\n            <BalIcon class=\"text-red-500\" name=\"x\" size=\"sm\" />\n          </BalBtn>\n        </div>\n      </div>\n    </div>\n    <div class=\"hidden px-4\">\n      <span v-text=\"$t('language')\" class=\"font-medium mb-2\" />\n      <div class=\"flex mt-1\">\n        <div\n          v-for=\"(locale, localeKey) in locales\"\n          :key=\"localeKey\"\n          class=\"option w-16 mr-2 py-1 text-center border rounded-xl cursor-pointer\"\n          :class=\"{ active: appLocale === localeKey }\"\n          @click=\"setLocale(localeKey)\"\n        >\n          {{ locale }}\n        </div>\n      </div>\n    </div>\n    <div class=\"hidden px-4 mt-4\">\n      <span v-text=\"$t('theme')\" class=\"font-medium mb-2\" />\n      <div class=\"flex mt-1\">\n        <div\n          class=\"option w-16 mr-2 py-1.5 flex items-center justify-center border rounded-xl cursor-pointer\"\n          :class=\"{ active: !appDarkMode }\"\n          @click=\"setDarkMode(false)\"\n        >\n          <BalIcon name=\"sun\" size=\"sm\" />\n        </div>\n        <div\n          class=\"option w-16 mr-2 py-1.5 flex items-center justify-center border rounded-xl cursor-pointer\"\n          :class=\"{ active: appDarkMode }\"\n          @click=\"setDarkMode(true)\"\n        >\n          <BalIcon name=\"moon\" size=\"sm\" />\n        </div>\n      </div>\n    </div>\n    <div class=\"px-4 mt-4\">\n      <div class=\"flex items-baseline\">\n        <span v-text=\"$t('slippageTolerance')\" class=\"font-medium mb-2\" />\n        <BalTooltip>\n          <template v-slot:activator>\n            <BalIcon name=\"info\" size=\"xs\" class=\"ml-1 text-gray-400 -mb-px\" />\n          </template>\n          <div v-html=\"$t('marketConditionsWarning')\" class=\"w-52\" />\n        </BalTooltip>\n      </div>\n      <AppSlippageForm class=\"mt-1\" />\n    </div>\n    <div v-if=\"!hideLiquidity\" class=\"px-4 mt-6\">\n      <div class=\"flex items-baseline\">\n        <span v-text=\"$t('tradeLiquidity')\" class=\"font-medium mb-2\" />\n        <BalTooltip>\n          <template v-slot:activator>\n            <BalIcon name=\"info\" size=\"xs\" class=\"ml-1 text-gray-400 -mb-px\" />\n          </template>\n          <div v-text=\"$t('whichPools')\" class=\"w-52\" />\n        </BalTooltip>\n      </div>\n      <BalBtnGroup\n        :options=\"tradeLiquidityOptions\"\n        v-model=\"appTradeLiquidity\"\n        @update:modelValue=\"setTradeLiquidity\"\n      />\n    </div>\n    <div v-if=\"APP.IsGnosisIntegration\" class=\"px-4 mt-6\">\n      <div class=\"flex items-baseline\">\n        <span v-text=\"'Trade interface'\" class=\"font-medium mb-2\" />\n      </div>\n      <BalBtnGroup\n        :options=\"tradeInterfaceOptions\"\n        v-model=\"appTradeInterface\"\n        @update:modelValue=\"setTradeInterface\"\n      />\n      <div class=\"flex mt-1\"></div>\n    </div>\n    <div class=\"network mt-4 p-4 text-sm border-t rounded-b-xl\">\n      <div v-text=\"$t('network')\" />\n      <div class=\"flex items-baseline\">\n        <div\n          :class=\"['w-2 h-2 mr-1 bg-green-400 rounded-full', networkColorClass]\"\n        ></div>\n        {{ networkName }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, computed, toRefs } from 'vue';\nimport { useStore } from 'vuex';\nimport { getConnectorName, getConnectorLogo } from '@/plugins/authOptions';\nimport AppSlippageForm from '@/components/forms/AppSlippageForm.vue';\nimport Avatar from '@/components/images/Avatar.vue';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\nimport { APP } from '@/constants/app';\nimport {\n  tradeLiquidityOptions,\n  tradeInterfaceOptions\n} from '@/constants/options';\nimport { TradeInterface } from '@/store/modules/app';\n\nconst locales = {\n  'en-US': 'English',\n  'zh-CN': '中文',\n  'es-ES': 'Español',\n  'it-IT': 'Italiano',\n  'fr-FR': 'Français',\n  'pt-PT': 'Português',\n  'ru-RU': 'Россия',\n  'ko-KO': '한국어',\n  'ja-JP': '日本語',\n  'tr-TR': 'Türk'\n};\n\nexport default defineComponent({\n  components: {\n    AppSlippageForm,\n    Avatar\n  },\n\n  setup() {\n    // COMPOSABLES\n    const store = useStore();\n    const { explorerLinks } = useVueWeb3();\n    const {\n      account,\n      chainId,\n      disconnectWallet,\n      connector,\n      isV1Supported,\n      userNetworkConfig\n    } = useVueWeb3();\n\n    // DATA\n    const data = reactive({\n      locales,\n      tradeLiquidityOptions,\n      tradeInterfaceOptions,\n      copiedAddress: false\n    });\n\n    // COMPUTED\n    const networkColorClass = computed(\n      () => `network-${userNetworkConfig.value.shortName}`\n    );\n    const networkName = computed(() => userNetworkConfig.value.name);\n    const appLocale = computed(() => store.state.app.locale);\n    const appDarkMode = computed(() => store.state.app.darkMode);\n    const appTradeLiquidity = computed(() => store.state.app.tradeLiquidity);\n    const appTradeInterface = computed(() => store.state.app.tradeInterface);\n    const hideLiquidity = computed(() => !isV1Supported);\n    const connectorName = computed(() => getConnectorName(connector.value.id));\n\n    const connectorLogo = computed(() => getConnectorLogo(connector.value.id));\n\n    // METHODS\n    const setDarkMode = val => store.commit('app/setDarkMode', val);\n    const setLocale = locale => store.commit('app/setLocale', locale);\n\n    const setTradeLiquidity = tradeLiquidity =>\n      store.commit('app/setTradeLiquidity', tradeLiquidity);\n    const setTradeInterface = tradeInterface =>\n      store.commit('app/setTradeInterface', tradeInterface);\n\n    function copyAddress() {\n      navigator.clipboard.writeText(account.value);\n      data.copiedAddress = true;\n\n      setTimeout(() => {\n        data.copiedAddress = false;\n      }, 2 * 1000);\n    }\n\n    return {\n      // data\n      ...toRefs(data),\n      // constants\n      APP,\n      TradeInterface,\n      // computed\n      account,\n      appTradeLiquidity,\n      chainId,\n      appTradeInterface,\n      networkName,\n      networkColorClass,\n      appLocale,\n      appDarkMode,\n      connectorName,\n      connectorLogo,\n      hideLiquidity,\n      // methods\n      disconnectWallet,\n      setDarkMode,\n      setLocale,\n      setTradeLiquidity,\n      setTradeInterface,\n      copyAddress,\n      explorer: explorerLinks\n    };\n  }\n});\n</script>\n\n<style scoped>\n.address {\n  @apply text-blue-500;\n  font-variant-ligatures: no-contextual;\n}\n\n.option:hover {\n  @apply text-blue-500 border-blue-500;\n}\n\n.option.active {\n  @apply text-blue-500 border-blue-500;\n}\n\n.slippage-input {\n  @apply bg-white;\n}\n\n.slippage-input.active {\n  @apply text-blue-500 border-blue-500;\n}\n\n.network-kovan {\n  background: #9064ff;\n}\n\n.network-ropsten {\n  background: #ff4a8d;\n}\n\n.network-rinkeby {\n  background: #f6c343;\n}\n\n.network-goerli {\n  background: #3099f2;\n}\n</style>\n","import connectors from '@/constants/connectors.json';\n\nimport defaultLogo from '@/assets/images/connectors/default.svg';\nimport fortmaticLogo from '@/assets/images/connectors/fortmatic.svg';\nimport frameLogo from '@/assets/images/connectors/frame.svg';\nimport imtokenLogo from '@/assets/images/connectors/imtoken.svg';\nimport metamaskLogo from '@/assets/images/connectors/metamask.svg';\nimport portisLogo from '@/assets/images/connectors/portis.svg';\nimport statusLogo from '@/assets/images/connectors/status.svg';\nimport trustwalletLogo from '@/assets/images/connectors/trustwallet.svg';\nimport walletconnectLogo from '@/assets/images/connectors/walletconnect.svg';\nimport walletlinkLogo from '@/assets/images/connectors/walletlink.svg';\nimport i18n from './i18n';\n\nconst options: any = { connectors: [] };\n\nObject.entries(connectors).forEach((connector: any) => {\n  options.connectors.push({\n    key: connector[0],\n    options: connector[1].options\n  });\n});\n\nexport function getConnectorName(connectorId: string): string {\n  if (connectorId === 'injected') {\n    const provider = window.ethereum as any;\n    if (provider.isMetaMask) {\n      return 'MetaMask';\n    }\n    if (provider.isImToken) {\n      return 'imToken';\n    }\n    if (provider.isStatus) {\n      return 'Status';\n    }\n    if (provider.isTrust) {\n      return 'Trust Wallet';\n    }\n    if (provider.isFrame) {\n      return 'Frame';\n    }\n    return i18n.global.t('browserWallet');\n  }\n  if (connectorId === 'fortmatic') {\n    return 'Fortmatic';\n  }\n  if (connectorId === 'portis') {\n    return 'Portis';\n  }\n  if (connectorId === 'walletconnect') {\n    return 'WalletConnect';\n  }\n  if (connectorId === 'walletlink') {\n    return `Coinbase ${i18n.global.t('wallet')}`;\n  }\n  return i18n.global.t('unknown');\n}\n\nexport function getConnectorLogo(connectorId: string): string {\n  if (connectorId === 'injected') {\n    const provider = window.ethereum as any;\n    if (provider.isMetaMask) {\n      return metamaskLogo;\n    }\n    if (provider.isImToken) {\n      return imtokenLogo;\n    }\n    if (provider.isStatus) {\n      return statusLogo;\n    }\n    if (provider.isTrust) {\n      return trustwalletLogo;\n    }\n    if (provider.isFrame) {\n      return frameLogo;\n    }\n    return defaultLogo;\n  }\n  if (connectorId === 'fortmatic') {\n    return fortmaticLogo;\n  }\n  if (connectorId === 'portis') {\n    return portisLogo;\n  }\n  if (connectorId === 'walletconnect') {\n    return walletconnectLogo;\n  }\n  if (connectorId === 'walletlink') {\n    return walletlinkLogo;\n  }\n  return defaultLogo;\n}\n\nexport default options;\n","<template>\n  <div class=\"flex\">\n    <BalBtnGroup\n      :options=\"options\"\n      v-model=\"fixedSlippage\"\n      @update:modelValue=\"onFixedInput\"\n    />\n    <div\n      class=\"flex items-center px-1 border rounded-lg shadow-inner\"\n      :class=\"{ 'border border-blue-500 text-blue-500': !isFixedSlippage }\"\n    >\n      <input\n        class=\"w-8 text-right\"\n        v-model=\"customSlippage\"\n        placeholder=\"0.1\"\n        type=\"number\"\n        step=\"any\"\n        min=\"0\"\n        @update:modelValue=\"onCustomInput\"\n      />\n      <div class=\"px-2\">\n        %\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport useNumbers from '@/composables/useNumbers';\n\nconst FIXED_OPTIONS = ['0.005', '0.01', '0.02'];\n\nexport default defineComponent({\n  name: 'AppSlipageForm',\n\n  setup() {\n    // COMPOSABLES\n    const store = useStore();\n    const { fNum } = useNumbers();\n\n    // DATA\n    const fixedSlippage = ref('');\n    const customSlippage = ref('');\n    const options = FIXED_OPTIONS.map(option => {\n      return {\n        label: fNum(option, null, { format: '0.0%' }),\n        value: option\n      };\n    });\n\n    // COMPUTED\n    const appSlippage = computed(() => store.state.app.slippage);\n    const isFixedSlippage = computed(() => {\n      return FIXED_OPTIONS.includes(appSlippage.value);\n    });\n\n    // METHODS\n    function setAppSlippage(slippage: string): void {\n      store.commit('app/setSlippage', slippage);\n    }\n\n    function onFixedInput(val: string): void {\n      customSlippage.value = '';\n      setAppSlippage(val);\n    }\n\n    function onCustomInput(val: string): void {\n      val = (Number(val) / 100).toString();\n\n      if (FIXED_OPTIONS.includes(val)) {\n        fixedSlippage.value = val;\n        customSlippage.value = '';\n      } else {\n        fixedSlippage.value = '';\n      }\n      setAppSlippage(val);\n    }\n\n    // WATCHERS\n    watch(\n      appSlippage,\n      newSlippage => {\n        if (isFixedSlippage.value) {\n          fixedSlippage.value = newSlippage;\n          customSlippage.value = '';\n        } else {\n          customSlippage.value = (Number(newSlippage) * 100).toString();\n          fixedSlippage.value = '';\n        }\n      },\n      { immediate: true }\n    );\n\n    return {\n      // data\n      fixedSlippage,\n      customSlippage,\n      options,\n      // computed\n      isFixedSlippage,\n      // methods\n      onFixedInput,\n      onCustomInput\n    };\n  }\n});\n</script>\n","\nimport { defineComponent, ref, computed, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport useNumbers from '@/composables/useNumbers';\n\nconst FIXED_OPTIONS = ['0.005', '0.01', '0.02'];\n\nexport default defineComponent({\n  name: 'AppSlipageForm',\n\n  setup() {\n    // COMPOSABLES\n    const store = useStore();\n    const { fNum } = useNumbers();\n\n    // DATA\n    const fixedSlippage = ref('');\n    const customSlippage = ref('');\n    const options = FIXED_OPTIONS.map(option => {\n      return {\n        label: fNum(option, null, { format: '0.0%' }),\n        value: option\n      };\n    });\n\n    // COMPUTED\n    const appSlippage = computed(() => store.state.app.slippage);\n    const isFixedSlippage = computed(() => {\n      return FIXED_OPTIONS.includes(appSlippage.value);\n    });\n\n    // METHODS\n    function setAppSlippage(slippage: string): void {\n      store.commit('app/setSlippage', slippage);\n    }\n\n    function onFixedInput(val: string): void {\n      customSlippage.value = '';\n      setAppSlippage(val);\n    }\n\n    function onCustomInput(val: string): void {\n      val = (Number(val) / 100).toString();\n\n      if (FIXED_OPTIONS.includes(val)) {\n        fixedSlippage.value = val;\n        customSlippage.value = '';\n      } else {\n        fixedSlippage.value = '';\n      }\n      setAppSlippage(val);\n    }\n\n    // WATCHERS\n    watch(\n      appSlippage,\n      newSlippage => {\n        if (isFixedSlippage.value) {\n          fixedSlippage.value = newSlippage;\n          customSlippage.value = '';\n        } else {\n          customSlippage.value = (Number(newSlippage) * 100).toString();\n          fixedSlippage.value = '';\n        }\n      },\n      { immediate: true }\n    );\n\n    return {\n      // data\n      fixedSlippage,\n      customSlippage,\n      options,\n      // computed\n      isFixedSlippage,\n      // methods\n      onFixedInput,\n      onCustomInput\n    };\n  }\n});\n","import { render } from \"./AppSlippageForm.vue?vue&type=template&id=31f13513\"\nimport script from \"./AppSlippageForm.vue?vue&type=script&lang=ts\"\nexport * from \"./AppSlippageForm.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { LiquiditySelection } from '@/lib/utils/balancer/helpers/sor/sorManager';\nimport { TradeInterface } from '@/store/modules/app';\n\nexport const tradeLiquidityOptions = Object.values(LiquiditySelection)\n  .filter(v => typeof v === 'string')\n  .map(option => ({\n    label: option,\n    value: option\n  }));\n\nexport const tradeInterfaceOptions = Object.values(TradeInterface)\n  .filter(v => typeof v === 'string')\n  .map(option => ({\n    label: option,\n    value: option\n  }));\n","import { render } from \"./AppNavSettings.vue?vue&type=template&id=680a5a03&scoped=true\"\nimport script from \"./AppNavSettings.vue?vue&type=script&lang=js\"\nexport * from \"./AppNavSettings.vue?vue&type=script&lang=js\"\n\nimport \"./AppNavSettings.vue?vue&type=style&index=0&id=680a5a03&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-680a5a03\"\n\nexport default script","\nimport { computed, defineComponent } from 'vue';\nimport useBreakpoints from '@/composables/useBreakpoints';\nimport AppNavSettings from './AppNavSettings.vue';\nimport Avatar from '@/components/images/Avatar.vue';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\nexport default defineComponent({\n  name: 'AppNavAccountBtn',\n\n  components: {\n    AppNavSettings,\n    Avatar\n  },\n\n  setup() {\n    const { bp, upToLargeBreakpoint } = useBreakpoints();\n    const { isLoadingProfile, profile, account } = useVueWeb3();\n\n    const avatarSize = computed(() => {\n      if (bp.value === 'sm') {\n        return 35;\n      } else if (['md', 'lg'].includes(bp.value)) {\n        return 40;\n      } else {\n        return 20;\n      }\n    });\n\n    return {\n      bp,\n      account,\n      profile,\n      avatarSize,\n      upToLargeBreakpoint,\n      isLoadingProfile,\n      console\n    };\n  }\n});\n","import { render } from \"./AppNavAccountBtn.vue?vue&type=template&id=1a02babd\"\nimport script from \"./AppNavAccountBtn.vue?vue&type=script&lang=ts\"\nexport * from \"./AppNavAccountBtn.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <BalPopover no-pad>\n    <template v-slot:activator>\n      <BalBtn\n        color=\"gradient-pink-yellow\"\n        rounded\n        class=\"mr-2 text-base\"\n        :size=\"upToLargeBreakpoint ? 'md' : 'sm'\"\n        :circle=\"upToLargeBreakpoint\"\n      >\n        <StarsIcon\n          class=\"stars-icon\"\n          v-if=\"upToLargeBreakpoint ? !userClaimsLoading : true\"\n        />\n        <BalLoadingIcon size=\"sm\" color=\"white\" v-if=\"userClaimsLoading\" />\n        <span class=\"hidden lg:block\" v-else>{{\n          fNum(totalRewards, totalRewards > 0 ? 'token_fixed' : 'token')\n        }}</span>\n      </BalBtn>\n    </template>\n    <div class=\"divide-y w-72\" v-if=\"userClaims != null\">\n      <div class=\"p-3\">\n        <h5 class=\"text-lg mb-3\">{{ $t('liquidityMining') }}</h5>\n        <div class=\"text-sm text-gray-600 mb-1\" v-if=\"isPolygon\">\n          {{ $t('airdropExplainer') }}\n        </div>\n        <BalAlert\n          v-if=\"shouldShowClaimFreezeWarning & isMainnet\"\n          title=\"Too many claims\"\n          :description=\"$t('claimFreezeWarning')\"\n          type=\"warning\"\n          size=\"sm\"\n          class=\"mb-3\"\n        />\n        <div v-if=\"isMainnet\" class=\"text-sm text-gray-600 mb-1\">\n          {{ $t('availableToClaim') }}\n        </div>\n        <div v-if=\"isMainnet\" class=\"flex justify-between items-center mb-2\">\n          <div class=\"text-lg font-bold\">\n            {{\n              fNum(\n                userClaims.availableToClaim,\n                userClaims.availableToClaim > 0 ? 'token_fixed' : 'token'\n              )\n            }}\n            BAL\n          </div>\n          <div>\n            {{\n              availableToClaimInUSD != null\n                ? fNum(availableToClaimInUSD, 'usd')\n                : '-'\n            }}\n          </div>\n        </div>\n        <BalBtn\n          v-if=\"isMainnet\"\n          color=\"gradient\"\n          size=\"md\"\n          block\n          class=\"mb-1\"\n          :loading=\"isClaiming\"\n          :loading-label=\"$t('claiming')\"\n          @click=\"claimAvailableRewards\"\n          :disabled=\"userClaims.availableToClaim == 0\"\n          >{{ $t('claim') }} BAL</BalBtn\n        >\n      </div>\n      <div class=\"p-3\" v-if=\"currentRewards != null\">\n        <div class=\"text-sm text-gray-600 mb-1\">\n          {{ $t('pendingEstimate') }}\n        </div>\n        <div class=\"flex justify-between items-center mb-2\">\n          <div class=\"text-lg font-bold\">\n            {{\n              fNum(currentRewards, currentRewards > 0 ? 'token_fixed' : 'token')\n            }}\n            BAL\n          </div>\n          <div>\n            {{\n              currentRewardsInUSD != null\n                ? fNum(currentRewardsInUSD, 'usd')\n                : '-'\n            }}\n          </div>\n        </div>\n      </div>\n      <div class=\"p-3 text-sm\" v-else-if=\"totalRewards == 0\">\n        {{ $t('liquidityProviderCopy') }}\n      </div>\n    </div>\n  </BalPopover>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, ref, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport { differenceInSeconds } from 'date-fns';\nimport { useIntervalFn } from '@vueuse/core';\n\nimport useNumbers from '@/composables/useNumbers';\nimport useNotify from '@/composables/useNotify';\nimport useUserClaimsQuery from '@/composables/queries/useUserClaimsQuery';\nimport useBreakpoints from '@/composables/useBreakpoints';\n\nimport { getOriginalAddress } from '@/services/coingecko';\n\nimport { TOKENS } from '@/constants/tokens';\nimport { bnum } from '@/lib/utils';\nimport { claimRewards } from '@/services/claim';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport { NetworkId } from '@/constants/network';\n\nexport default defineComponent({\n  name: 'AppNavClaimBtn',\n\n  setup() {\n    // DATA\n    const isClaiming = ref(false);\n    const rewardsEstimateSinceTimestamp = ref('0');\n\n    // COMPOSABLES\n    const { upToLargeBreakpoint } = useBreakpoints();\n    const store = useStore();\n    const userClaimsQuery = useUserClaimsQuery();\n    const { fNum } = useNumbers();\n    const {\n      appNetworkConfig,\n      account,\n      getProvider,\n      isMainnet,\n      isPolygon\n    } = useVueWeb3();\n    const { txListener } = useNotify();\n\n    const balPrice = computed(\n      () =>\n        store.state.market.prices[\n          getOriginalAddress(appNetworkConfig.chainId, TOKENS.AddressMap.HEDG)\n        ]?.price\n    );\n\n    // COMPUTED\n    const userClaims = computed(() =>\n      userClaimsQuery.isSuccess.value ? userClaimsQuery.data?.value : null\n    );\n\n    const userClaimsLoading = computed(\n      () => userClaimsQuery.isLoading.value || userClaimsQuery.isIdle.value\n    );\n\n    // having multiple unclaimed weeks may cause the browser to freeze (> 5)\n    const shouldShowClaimFreezeWarning = computed(() =>\n      userClaims.value != null\n        ? userClaims.value.pendingClaims.length > 5\n        : false\n    );\n\n    const availableToClaimInUSD = computed(() =>\n      balPrice.value != null && userClaims.value != null\n        ? bnum(userClaims.value?.availableToClaim)\n            .times(balPrice.value)\n            .toString()\n        : null\n    );\n\n    const currentRewards = computed(() =>\n      userClaims.value != null &&\n      userClaims.value.currentRewardsEstimate != null\n        ? bnum(userClaims.value.currentRewardsEstimate.rewards)\n            .plus(rewardsEstimateSinceTimestamp.value)\n            .toString()\n        : null\n    );\n\n    const currentRewardsInUSD = computed(() =>\n      balPrice.value != null && currentRewards.value != null\n        ? bnum(currentRewards.value)\n            .times(balPrice.value)\n            .toString()\n        : null\n    );\n\n    const totalRewards = computed(() =>\n      userClaims.value != null\n        ? bnum(userClaims.value.totalRewards)\n            .plus(rewardsEstimateSinceTimestamp.value)\n            .toString()\n        : null\n    );\n\n    useIntervalFn(async () => {\n      if (userClaims.value != null && userClaims.value.currentRewardsEstimate) {\n        const diffInSeconds = differenceInSeconds(\n          new Date(),\n          new Date(userClaims.value.currentRewardsEstimate.timestamp)\n        );\n        rewardsEstimateSinceTimestamp.value = bnum(diffInSeconds)\n          .times(userClaims.value.currentRewardsEstimate.velocity)\n          .toString();\n      }\n    }, 1000);\n\n    watch(account, () => {\n      rewardsEstimateSinceTimestamp.value = '0';\n    });\n\n    // METHODS\n    async function claimAvailableRewards() {\n      if (userClaims.value != null) {\n        isClaiming.value = true;\n        try {\n          const tx = await claimRewards(\n            appNetworkConfig.chainId as NetworkId,\n            getProvider(),\n            account.value,\n            userClaims.value.pendingClaims,\n            userClaims.value.pendingClaimsReports\n          );\n          txListener(tx.hash);\n\n          await tx.wait();\n          isClaiming.value = false;\n          userClaimsQuery.refetch.value();\n        } catch (e) {\n          console.log(e);\n          isClaiming.value = false;\n        }\n      }\n    }\n\n    return {\n      // data\n      isClaiming,\n\n      // computed\n      isMainnet,\n      isPolygon,\n      userClaims,\n      availableToClaimInUSD,\n      currentRewards,\n      currentRewardsInUSD,\n      totalRewards,\n      upToLargeBreakpoint,\n      userClaimsLoading,\n      shouldShowClaimFreezeWarning,\n\n      // methods\n      fNum,\n      claimAvailableRewards\n    };\n  }\n});\n</script>\n<style scoped>\n.stars-icon + * {\n  @apply ml-1;\n}\n</style>\n","import useVueWeb3 from '@/services/web3/useVueWeb3';\nimport { TransactionEventCode, TransactionData } from 'bnc-notify';\nimport castArray from 'lodash/castArray';\nimport mapValues from 'lodash/mapValues';\n\nimport useBlocknative from './useBlocknative';\n\ntype TxCallback = (txData: TransactionData) => void;\n\nexport default function useNotify() {\n  const { explorerLinks } = useVueWeb3();\n  const { notify, supportsBlocknative } = useBlocknative();\n\n  function txListener(\n    txHash: string | string[],\n    callbacks?: {\n      onTxConfirmed?: TxCallback;\n      onTxCancel?: TxCallback;\n      onTxFailed?: TxCallback;\n    },\n    strategy: 'all' | 'async' = 'all'\n  ) {\n    const txs = castArray(txHash);\n\n    const eventsMap: Partial<Record<\n      TransactionEventCode,\n      TxCallback | undefined\n    >> = {\n      txConfirmed: callbacks?.onTxConfirmed,\n      txCancel: callbacks?.onTxCancel,\n      txFailed: callbacks?.onTxFailed\n    };\n\n    // init event counters\n    const processedEventsCounter: Partial<Record<\n      TransactionEventCode,\n      number\n    >> = mapValues(eventsMap, () => 0);\n\n    txs.forEach(txHash => {\n      const { emitter } = notify.hash(txHash);\n\n      const defaultNotificationParams = {\n        link: explorerLinks.txLink(txHash)\n      };\n\n      // apply notification defaults to all types\n      emitter.on('all', () => {\n        return defaultNotificationParams;\n      });\n\n      // register to events that have a callback\n      Object.entries(eventsMap)\n        .filter(([, txCallback]) => txCallback != null)\n        .forEach(([eventName, txCallback]) => {\n          emitter.on(\n            eventName as TransactionEventCode,\n            (txData: TransactionData) => {\n              processedEventsCounter[eventName]++;\n\n              // 'all' strategy will fire the callback after all txs were processed\n              // 'async' strategy will fire the callback every time tx is processed\n              if (\n                txCallback != null &&\n                (strategy === 'all'\n                  ? processedEventsCounter[eventName] === txs.length\n                  : true)\n              ) {\n                txCallback(txData);\n              }\n\n              return defaultNotificationParams;\n            }\n          );\n        });\n    });\n  }\n\n  return { txListener, supportsBlocknative };\n}\n","import { parseUnits } from '@ethersproject/units';\nimport { TransactionResponse, Web3Provider } from '@ethersproject/providers';\nimport { toWei, soliditySha3 } from 'web3-utils';\nimport axios from 'axios';\n\nimport { NetworkId } from '@/constants/network';\n\nimport { Claim } from '@/types';\n\nimport { ipfsGet } from '@/lib/utils/balancer/ipfs';\nimport { call, sendTransaction } from '@/lib/utils/balancer/web3';\nimport { bnum } from '@/lib/utils';\nimport { loadTree } from '@/lib/utils/merkle';\nimport configs from '@/lib/config';\nimport { getOriginalAddress } from '@/services/coingecko';\nimport { TOKENS } from '@/constants/tokens';\n\nimport merkleRedeemAbi from '@/lib/abi/MerkleRedeem.json';\n\nconst gateway = process.env.VUE_APP_IPFS_NODE || 'ipfs.io';\n\ntype Snapshot = Record<number, string>;\n\n// @ts-ignore\nexport const constants: Record<NetworkId, Record<string, string>> = {\n  1: {\n    merkleRedeem: '0x6d19b2bF3A36A61530909Ae65445a906D98A2Fa8',\n    snapshot: 'balancer-team-bucket.storage.fleek.co/balancer-claim/snapshot'\n  },\n  42: {\n    merkleRedeem: '0x3bc73D276EEE8cA9424Ecb922375A0357c1833B3',\n    snapshot:\n      'balancer-team-bucket.storage.fleek.co/balancer-claim-kovan/snapshot'\n  }\n};\n\nexport async function getSnapshot(network: NetworkId) {\n  if (constants[network]?.snapshot) {\n    return (await ipfsGet(gateway, constants[network].snapshot, 'ipns')) || {};\n  }\n  return {};\n}\n\ntype ClaimStatus = boolean;\n\nexport async function getClaimStatus(\n  network: NetworkId,\n  provider: Web3Provider,\n  ids: number,\n  account: string\n): Promise<ClaimStatus[]> {\n  return await call(provider, merkleRedeemAbi, [\n    constants[network].merkleRedeem,\n    'claimStatus',\n    [account, 1, ids]\n  ]);\n}\n\nexport type Report = Record<string, any>;\n\nexport async function getReports(snapshot: Snapshot, weeks: number[]) {\n  const reports = await Promise.all<Report>(\n    weeks.map(week => ipfsGet(gateway, snapshot[week]))\n  );\n  return Object.fromEntries(reports.map((report, i) => [weeks[i], report]));\n}\n\nexport async function getPendingClaims(\n  network: NetworkId,\n  provider: Web3Provider,\n  account: string\n): Promise<{ claims: Claim[]; reports: Report }> {\n  if (!constants[network]) {\n    return {\n      claims: [],\n      reports: {}\n    };\n  }\n  const snapshot = await getSnapshot(network);\n\n  const claimStatus = await getClaimStatus(\n    network,\n    provider,\n    Object.keys(snapshot).length,\n    account\n  );\n\n  const pendingWeeks = claimStatus\n    .map((status, i) => [i + 1, status])\n    .filter(([, status]) => !status)\n    .map(([i]) => i) as number[];\n\n  const pendingWeeksReports = await getReports(snapshot, pendingWeeks);\n\n  return {\n    claims: Object.entries(pendingWeeksReports)\n      .filter((report: Report) => report[1][account])\n      .map((report: Report) => {\n        return {\n          id: report[0],\n          amount: report[1][account],\n          amountDenorm: parseUnits(report[1][account], 18)\n        };\n      }),\n    reports: pendingWeeksReports\n  };\n}\n\ntype CurrentRewardsEstimateResponse = {\n  success: boolean;\n  result: {\n    current_timestamp: string;\n    'liquidity-providers': Array<{\n      snapshot_timestamp: string;\n      address: string;\n      token_address: string;\n      chain_id: number;\n      current_estimate: string;\n      velocity: string;\n      week: number;\n    }>;\n  };\n};\n\nexport type CurrentRewardsEstimate = {\n  rewards: string;\n  velocity: string;\n  timestamp: string;\n} | null;\n\nexport async function getCurrentRewardsEstimate(\n  network: NetworkId,\n  account: string\n): Promise<CurrentRewardsEstimate> {\n  try {\n    const response = await axios.get<CurrentRewardsEstimateResponse>(\n      `https://api.balancer.finance/liquidity-mining/v1/liquidity-provider-multitoken/${account}`\n    );\n    if (response.data.success) {\n      const liquidityProviders = response.data.result[\n        'liquidity-providers'\n      ].filter(\n        incentive =>\n          incentive.token_address ==\n          getOriginalAddress(network, TOKENS.AddressMap.HEDG).toLowerCase()\n      );\n      const rewards = liquidityProviders\n        .reduce(\n          (total, { current_estimate }) => total.plus(current_estimate),\n          bnum(0)\n        )\n        .toString();\n      const velocity =\n        liquidityProviders\n          .find(liquidityProvider => Number(liquidityProvider.velocity) > 0)\n          ?.velocity.toString() ?? '0';\n\n      if (Array.isArray(liquidityProviders)) {\n        return {\n          rewards,\n          velocity,\n          timestamp: response.data.result.current_timestamp\n        };\n      }\n    }\n  } catch (e) {\n    console.log('[Claim] Current Rewards Estimate Error', e);\n  }\n  return null;\n}\n\nexport async function claimRewards(\n  network: NetworkId,\n  provider: Web3Provider,\n  account: string,\n  pendingClaims: Claim[],\n  reports: Report\n): Promise<TransactionResponse> {\n  try {\n    const claims = pendingClaims.map(week => {\n      const claimBalance = week.amount;\n      const merkleTree = loadTree(reports[week.id]);\n\n      const proof = merkleTree.getHexProof(\n        soliditySha3(account, toWei(claimBalance))\n      );\n      return [parseInt(week.id), toWei(claimBalance), proof];\n    });\n\n    return sendTransaction(\n      provider,\n      configs[network].addresses.merkleRedeem,\n      merkleRedeemAbi,\n      'claimWeeks',\n      [account, claims]\n    );\n  } catch (e) {\n    console.log('[Claim] Claim Rewards Error:', e);\n    return Promise.reject(e);\n  }\n}\n","import { computed, reactive } from 'vue';\nimport { useQuery } from 'vue-query';\nimport { UseQueryOptions } from 'react-query/types';\n\nimport { bnum } from '@/lib/utils';\n\nimport QUERY_KEYS from '@/constants/queryKeys';\n\nimport {\n  getPendingClaims,\n  getCurrentRewardsEstimate,\n  Report,\n  CurrentRewardsEstimate\n} from '@/services/claim';\n\nimport { Claim } from '@/types';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport { NetworkId } from '@/constants/network';\n\ntype UserClaimsQueryResponse = {\n  pendingClaims: Claim[];\n  pendingClaimsReports: Report;\n  availableToClaim: string;\n  currentRewardsEstimate: CurrentRewardsEstimate;\n  totalRewards: string;\n};\n\nexport default function useUserClaimsQuery(\n  options: UseQueryOptions<UserClaimsQueryResponse> = {}\n) {\n  // COMPOSABLES\n  const {\n    account,\n    isWalletReady,\n    appNetworkConfig,\n    getProvider\n  } = useVueWeb3();\n\n  // DATA\n  const queryKey = reactive(QUERY_KEYS.Claims.All(account));\n\n  // COMPUTED\n  const isQueryEnabled = computed(\n    () => isWalletReady.value && account.value != null\n  );\n\n  // METHODS\n  const queryFn = async () => {\n    const [pendingClaims, currentRewardsEstimate] = await Promise.all([\n      getPendingClaims(\n        appNetworkConfig.chainId as NetworkId,\n        getProvider(),\n        account.value\n      ),\n      getCurrentRewardsEstimate(\n        appNetworkConfig.chainId as NetworkId,\n        account.value\n      )\n    ]);\n\n    const availableToClaim = pendingClaims.claims\n      .map(claim => parseFloat(claim.amount))\n      .reduce((total, amount) => total.plus(amount), bnum(0));\n\n    const totalRewards =\n      currentRewardsEstimate != null\n        ? availableToClaim.plus(currentRewardsEstimate.rewards)\n        : availableToClaim;\n\n    return {\n      pendingClaims: pendingClaims.claims,\n      pendingClaimsReports: pendingClaims.reports,\n      availableToClaim: availableToClaim.toString(),\n      totalRewards: totalRewards.toString(),\n      currentRewardsEstimate\n    };\n  };\n\n  const queryOptions = reactive({\n    enabled: isQueryEnabled,\n    refetchOnMount: false,\n    refetchOnWindowFocus: false,\n    ...options\n  });\n\n  return useQuery<UserClaimsQueryResponse>(queryKey, queryFn, queryOptions);\n}\n","\nimport { computed, defineComponent, ref, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport { differenceInSeconds } from 'date-fns';\nimport { useIntervalFn } from '@vueuse/core';\n\nimport useNumbers from '@/composables/useNumbers';\nimport useNotify from '@/composables/useNotify';\nimport useUserClaimsQuery from '@/composables/queries/useUserClaimsQuery';\nimport useBreakpoints from '@/composables/useBreakpoints';\n\nimport { getOriginalAddress } from '@/services/coingecko';\n\nimport { TOKENS } from '@/constants/tokens';\nimport { bnum } from '@/lib/utils';\nimport { claimRewards } from '@/services/claim';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport { NetworkId } from '@/constants/network';\n\nexport default defineComponent({\n  name: 'AppNavClaimBtn',\n\n  setup() {\n    // DATA\n    const isClaiming = ref(false);\n    const rewardsEstimateSinceTimestamp = ref('0');\n\n    // COMPOSABLES\n    const { upToLargeBreakpoint } = useBreakpoints();\n    const store = useStore();\n    const userClaimsQuery = useUserClaimsQuery();\n    const { fNum } = useNumbers();\n    const {\n      appNetworkConfig,\n      account,\n      getProvider,\n      isMainnet,\n      isPolygon\n    } = useVueWeb3();\n    const { txListener } = useNotify();\n\n    const balPrice = computed(\n      () =>\n        store.state.market.prices[\n          getOriginalAddress(appNetworkConfig.chainId, TOKENS.AddressMap.HEDG)\n        ]?.price\n    );\n\n    // COMPUTED\n    const userClaims = computed(() =>\n      userClaimsQuery.isSuccess.value ? userClaimsQuery.data?.value : null\n    );\n\n    const userClaimsLoading = computed(\n      () => userClaimsQuery.isLoading.value || userClaimsQuery.isIdle.value\n    );\n\n    // having multiple unclaimed weeks may cause the browser to freeze (> 5)\n    const shouldShowClaimFreezeWarning = computed(() =>\n      userClaims.value != null\n        ? userClaims.value.pendingClaims.length > 5\n        : false\n    );\n\n    const availableToClaimInUSD = computed(() =>\n      balPrice.value != null && userClaims.value != null\n        ? bnum(userClaims.value?.availableToClaim)\n            .times(balPrice.value)\n            .toString()\n        : null\n    );\n\n    const currentRewards = computed(() =>\n      userClaims.value != null &&\n      userClaims.value.currentRewardsEstimate != null\n        ? bnum(userClaims.value.currentRewardsEstimate.rewards)\n            .plus(rewardsEstimateSinceTimestamp.value)\n            .toString()\n        : null\n    );\n\n    const currentRewardsInUSD = computed(() =>\n      balPrice.value != null && currentRewards.value != null\n        ? bnum(currentRewards.value)\n            .times(balPrice.value)\n            .toString()\n        : null\n    );\n\n    const totalRewards = computed(() =>\n      userClaims.value != null\n        ? bnum(userClaims.value.totalRewards)\n            .plus(rewardsEstimateSinceTimestamp.value)\n            .toString()\n        : null\n    );\n\n    useIntervalFn(async () => {\n      if (userClaims.value != null && userClaims.value.currentRewardsEstimate) {\n        const diffInSeconds = differenceInSeconds(\n          new Date(),\n          new Date(userClaims.value.currentRewardsEstimate.timestamp)\n        );\n        rewardsEstimateSinceTimestamp.value = bnum(diffInSeconds)\n          .times(userClaims.value.currentRewardsEstimate.velocity)\n          .toString();\n      }\n    }, 1000);\n\n    watch(account, () => {\n      rewardsEstimateSinceTimestamp.value = '0';\n    });\n\n    // METHODS\n    async function claimAvailableRewards() {\n      if (userClaims.value != null) {\n        isClaiming.value = true;\n        try {\n          const tx = await claimRewards(\n            appNetworkConfig.chainId as NetworkId,\n            getProvider(),\n            account.value,\n            userClaims.value.pendingClaims,\n            userClaims.value.pendingClaimsReports\n          );\n          txListener(tx.hash);\n\n          await tx.wait();\n          isClaiming.value = false;\n          userClaimsQuery.refetch.value();\n        } catch (e) {\n          console.log(e);\n          isClaiming.value = false;\n        }\n      }\n    }\n\n    return {\n      // data\n      isClaiming,\n\n      // computed\n      isMainnet,\n      isPolygon,\n      userClaims,\n      availableToClaimInUSD,\n      currentRewards,\n      currentRewardsInUSD,\n      totalRewards,\n      upToLargeBreakpoint,\n      userClaimsLoading,\n      shouldShowClaimFreezeWarning,\n\n      // methods\n      fNum,\n      claimAvailableRewards\n    };\n  }\n});\n","import { render } from \"./AppNavClaimBtn.vue?vue&type=template&id=7e13fe66&scoped=true\"\nimport script from \"./AppNavClaimBtn.vue?vue&type=script&lang=ts\"\nexport * from \"./AppNavClaimBtn.vue?vue&type=script&lang=ts\"\n\nimport \"./AppNavClaimBtn.vue?vue&type=style&index=0&id=7e13fe66&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-7e13fe66\"\n\nexport default script","\nimport { defineComponent, computed } from 'vue';\n\nimport { EXTERNAL_LINKS } from '@/constants/links';\n\nimport useFathom from '@/composables/useFathom';\nimport useBreakpoints from '@/composables/useBreakpoints';\nimport useNumbers from '@/composables/useNumbers';\n\nimport AppNavAccountBtn from './AppNavAccountBtn.vue';\nimport AppNavClaimBtn from './AppNavClaimBtn.vue';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\nexport default defineComponent({\n  name: 'AppNavActions',\n\n  components: {\n    AppNavAccountBtn,\n    AppNavClaimBtn\n  },\n\n  setup() {\n    // COMPOSABLES\n    const { bp } = useBreakpoints();\n    const { fNum } = useNumbers();\n    const { trackGoal, Goals } = useFathom();\n    const {\n      connectWallet,\n      account,\n      toggleWalletSelectModal,\n      isMainnet,\n      isPolygon\n    } = useVueWeb3();\n\n    // COMPUTED\n    const liquidityMiningSupported = computed(\n      () => isMainnet.value || isPolygon.value\n    );\n\n    // METHODS\n    function onClickConnect() {\n      trackGoal(Goals.ClickNavConnectWallet);\n    }\n\n    return {\n      // computed\n      liquidityMiningSupported,\n      account,\n      bp,\n      // methods\n      fNum,\n      onClickConnect,\n      connectWallet,\n      toggleWalletSelectModal,\n      // constants\n      EXTERNAL_LINKS\n    };\n  }\n});\n","import { render } from \"./AppNavActions.vue?vue&type=template&id=33d81afc\"\nimport script from \"./AppNavActions.vue?vue&type=script&lang=ts\"\nexport * from \"./AppNavActions.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <BalPopover align=\"left\" no-pad>\n    <template v-slot:activator>\n      <BalBtn\n        color=\"gray\"\n        outline\n        rounded\n        :size=\"upToLargeBreakpoint ? 'md' : 'sm'\"\n        :circle=\"upToLargeBreakpoint\"\n        class=\"ml-4\"\n      >\n        <img\n          :src=\"iconSrc(activeNetwork)\"\n          :alt=\"activeNetwork.name\"\n          class=\"w-5 h-5 rounded-full shadow-sm\"\n        />\n        <span class=\"hidden lg:block ml-2\">\n          {{ activeNetwork.name }}\n        </span>\n      </BalBtn>\n    </template>\n    <div class=\"flex flex-col w-44\">\n      <div class=\"p-3 border-b whitespace-nowrap text-gray-500 font-medium\">\n        Select a network\n      </div>\n      <a\n        v-for=\"network in networks\"\n        :key=\"network.id\"\n        :href=\"appUrl(network)\"\n        class=\"flex items-center justify-between p-3 cursor-pointer hover:bg-gray-50 rounded\"\n        @click=\"redirectTo(network)\"\n      >\n        <div class=\"flex items-center\">\n          <img\n            :src=\"iconSrc(network)\"\n            :alt=\"network.name\"\n            class=\"w-5 h-5 rounded-full mr-2\"\n          />\n          <span class=\"ml-1 text-black font-medium\">\n            {{ network.name }}\n          </span>\n        </div>\n        <BalIcon v-if=\"isActive(network)\" name=\"check\" class=\"text-blue-500\" />\n      </a>\n    </div>\n  </BalPopover>\n</template>\n\n<script lang=\"ts\">\nimport useBreakpoints from '@/composables/useBreakpoints';\nimport ConfigService from '@/services/config/config.service';\nimport { defineComponent } from 'vue';\n\ninterface Network {\n  id: string;\n  name: string;\n  subdomain: string;\n  key: string;\n}\n\nexport default defineComponent({\n  name: 'AppNavNetworkSelect',\n\n  setup() {\n    // SERVICES\n    const configService = new ConfigService();\n\n    // COMPOSABLES\n    const { upToLargeBreakpoint } = useBreakpoints();\n\n    // DATA\n    const networks = [\n      {\n        id: 'ethereum',\n        name: 'Ethereum',\n        subdomain: 'app',\n        key: '1'\n      },\n      {\n        id: 'polygon',\n        name: 'Polygon',\n        subdomain: 'polygon',\n        key: '137'\n      }\n    ];\n\n    const appNetworkSupported = networks\n      .map(network => network.key)\n      .includes(configService.network.key);\n\n    const activeNetwork = networks.find(network => {\n      if (!appNetworkSupported && network.id === 'ethereum') return true;\n      return isActive(network);\n    });\n\n    // METHODS\n    function iconSrc(network: Network): string {\n      return require(`@/assets/images/icons/networks/${network.id}.svg`);\n    }\n\n    function appUrl(network: Network): string {\n      return `https://${network.subdomain}.balancer.fi`;\n    }\n\n    function isActive(network: Network): boolean {\n      if (!appNetworkSupported && network.id === 'ethereum') return true;\n      return configService.network.key === network.key;\n    }\n\n    return {\n      // computed\n      upToLargeBreakpoint,\n      // data\n      networks,\n      activeNetwork,\n      // methods\n      isActive,\n      appUrl,\n      iconSrc\n    };\n  }\n});\n</script>\n","\nimport useBreakpoints from '@/composables/useBreakpoints';\nimport ConfigService from '@/services/config/config.service';\nimport { defineComponent } from 'vue';\n\ninterface Network {\n  id: string;\n  name: string;\n  subdomain: string;\n  key: string;\n}\n\nexport default defineComponent({\n  name: 'AppNavNetworkSelect',\n\n  setup() {\n    // SERVICES\n    const configService = new ConfigService();\n\n    // COMPOSABLES\n    const { upToLargeBreakpoint } = useBreakpoints();\n\n    // DATA\n    const networks = [\n      {\n        id: 'ethereum',\n        name: 'Ethereum',\n        subdomain: 'app',\n        key: '1'\n      },\n      {\n        id: 'polygon',\n        name: 'Polygon',\n        subdomain: 'polygon',\n        key: '137'\n      }\n    ];\n\n    const appNetworkSupported = networks\n      .map(network => network.key)\n      .includes(configService.network.key);\n\n    const activeNetwork = networks.find(network => {\n      if (!appNetworkSupported && network.id === 'ethereum') return true;\n      return isActive(network);\n    });\n\n    // METHODS\n    function iconSrc(network: Network): string {\n      return require(`@/assets/images/icons/networks/${network.id}.svg`);\n    }\n\n    function appUrl(network: Network): string {\n      return `https://${network.subdomain}.balancer.fi`;\n    }\n\n    function isActive(network: Network): boolean {\n      if (!appNetworkSupported && network.id === 'ethereum') return true;\n      return configService.network.key === network.key;\n    }\n\n    return {\n      // computed\n      upToLargeBreakpoint,\n      // data\n      networks,\n      activeNetwork,\n      // methods\n      isActive,\n      appUrl,\n      iconSrc\n    };\n  }\n});\n","import { render } from \"./AppNavNetworkSelect.vue?vue&type=template&id=c317c79e\"\nimport script from \"./AppNavNetworkSelect.vue?vue&type=script&lang=ts\"\nexport * from \"./AppNavNetworkSelect.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { render } from \"./AppNav.vue?vue&type=template&id=4ca7be18&scoped=true\"\nimport script from \"./AppNav.vue?vue&type=script&lang=js\"\nexport * from \"./AppNav.vue?vue&type=script&lang=js\"\n\nimport \"./AppNav.vue?vue&type=style&index=0&id=4ca7be18&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-4ca7be18\"\n\nexport default script","<template>\n  <div :class=\"['app-hero', classes]\">\n    <div class=\"w-full max-w-2xl mx-auto\">\n      <template v-if=\"isWalletReady\">\n        <h1\n          v-text=\"$t('myInvestments')\"\n          class=\"text-base font-medium text-white opacity-90 font-body mb-2\"\n        />\n        <BalLoadingBlock\n          v-if=\"isLoadingUserPools\"\n          class=\"h-10 w-40 mx-auto\"\n          white\n        />\n        <span v-else class=\"text-3xl font-bold text-white\">\n          {{ fNum(totalInvestedAmount, 'usd', { forcePreset: true }) }}\n        </span>\n      </template>\n      <template v-else>\n        <h1\n          v-text=\"$t('ammPlatform')\"\n          class=\"text-white text-center text-4xl md:text-5xl pb-2\"\n        />\n        <div class=\"flex justify-center mt-4\">\n          <BalBtn color=\"white\" class=\"mr-3\" @click=\"onClickConnect\">\n            {{ $t('connectWallet') }}\n          </BalBtn>\n          <BalBtn\n            tag=\"a\"\n            :href=\"EXTERNAL_LINKS.Balancer.Home\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            color=\"white\"\n            outline\n            @click=\"trackGoal(Goals.ClickHeroLearnMore)\"\n          >\n            {{ $t('learnMore') }}\n            <BalIcon name=\"external-link\" size=\"sm\" class=\"ml-2\" />\n          </BalBtn>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent } from 'vue';\n\nimport useNumbers from '@/composables/useNumbers';\nimport usePools from '@/composables/pools/usePools';\n\nimport { EXTERNAL_LINKS } from '@/constants/links';\nimport useFathom from '@/composables/useFathom';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\nexport default defineComponent({\n  name: 'AppHero',\n\n  setup() {\n    // COMPOSABLES\n    const { fNum } = useNumbers();\n    const { isWalletReady, toggleWalletSelectModal } = useVueWeb3();\n    const { trackGoal, Goals } = useFathom();\n    const { totalInvestedAmount, isLoadingUserPools } = usePools();\n\n    const classes = computed(() => ({\n      ['h-72']: !isWalletReady.value,\n      ['h-40']: isWalletReady.value\n    }));\n\n    function onClickConnect() {\n      toggleWalletSelectModal(true);\n      trackGoal(Goals.ClickHeroConnectWallet);\n    }\n\n    return {\n      // data\n      totalInvestedAmount,\n      isLoadingUserPools,\n      Goals,\n\n      // computed\n      isWalletReady,\n      classes,\n\n      // methods\n      toggleWalletSelectModal,\n      fNum,\n      onClickConnect,\n      trackGoal,\n      // constants\n      EXTERNAL_LINKS\n    };\n  }\n});\n</script>\n\n<style>\n.app-hero {\n  @apply bg-cover bg-center flex items-center justify-center text-center px-4;\n  transition: all 0.3s ease-in-out;\n  background-image: url('/images/backgrounds/bg-header.png');\n}\n</style>\n","export const POOLS = {\n  Pagination: {\n    PerPage: 10\n  },\n  DelegateOwner: '0xba1ba1ba1ba1ba1ba1ba1ba1ba1ba1ba1ba1ba1b',\n  ZeroAddress: '0x0000000000000000000000000000000000000000',\n  DynamicFees: {\n    Gauntlet: [\n      '0x8339e311265a025fd5792db800daa8eda4264e2c000200000000000000000029',\n      '0x45910faff3cbf990fdb204682e93055506682d1700020000000000000000000d',\n      '0xfa22ec1c02f121083bf04fbbcaad019f490d7a3000020000000000000000002a',\n      '0xa660ba113f9aabaeb4bcd28a4a1705f4997d5432000200000000000000000022',\n      '0xea8886a24b6e01fba88a9e98d794e8d1f29ed863000200000000000000000010',\n      '0x0b09dea16768f0799065c475be02919503cb2a3500020000000000000000001a',\n      '0xde148e6cc3f6047eed6e97238d341a2b8589e19e000200000000000000000017',\n      '0x5d563ca1e2daaae3402c36097b934630ab53702c000200000000000000000024',\n      '0x9f1f16b025f703ee985b58ced48daf93dad2f7ef00020000000000000000001e',\n      '0x3ebf48cd7586d7a4521ce59e53d9a907ebf1480f000200000000000000000028',\n      '0xefaa1604e82e1b3af8430b90192c1b9e8197e377000200000000000000000021',\n      '0x9c08c7a7a89cfd671c79eacdc6f07c1996277ed5000200000000000000000025',\n      '0xe99481dc77691d8e2456e5f3f61c1810adfc1503000200000000000000000018',\n      '0xec60a5fef79a92c741cb74fdd6bfc340c0279b01000200000000000000000015',\n      '0x231e687c9961d3a27e6e266ac5c433ce4f8253e4000200000000000000000023',\n      '0x80be0c303d8ad2a280878b50a39b1ee8e54dbd2200020000000000000000000f',\n      '0x5aa90c7362ea46b3cbfbd7f01ea5ca69c98fef1c000200000000000000000020',\n      '0xa6f548df93de924d73be7d25dc02554c6bd66db500020000000000000000000e',\n      '0x96646936b91d6b9d7d0c47c496afbf3d6ec7b6f8000200000000000000000019',\n      '0x186084ff790c65088ba694df11758fae4943ee9e000200000000000000000013',\n      '0x4626d81b3a1711beb79f4cecff2413886d461677000200000000000000000011',\n      '0x072f14b85add63488ddad88f855fda4a99d6ac9b000200000000000000000027',\n      '0xaac98ee71d4f8a156b6abaa6844cdb7789d086ce00020000000000000000001b',\n      '0x7eb878107af0440f9e776f999ce053d277c8aca8000200000000000000000012',\n      '0x16faf9f73748013155b7bc116a3008b57332d1e600020000000000000000001c',\n      '0x6ae82385f76e3742f89cb46343b169f6ee49de1b000200000000000000000016',\n      '0x8a92c3afabab59101b4e2426c82a7ddbb66b545000020000000000000000001f',\n      '0x5c6ee304399dbdb9c8ef030ab642b10820db8f56000200000000000000000014',\n      '0xf4c0dd9b82da36c07605df83c8a416f11724d88b000200000000000000000026',\n      '0x3e5fa9518ea95c3e533eb377c001702a9aacaa32000200000000000000000052',\n      '0xf8a0623ab66f985effc1c69d05f1af4badb01b0000020000000000000000001d',\n      '0x021c343c6180f03ce9e48fae3ff432309b9af19900020000000000000000000b'\n    ]\n  },\n  BlockList: [''],\n  Stable: {\n    AllowList: [\n      '0x6641a8c1d33bd3dec8dd85e69c63cafb5bf363880002000000000000000000e1'\n    ]\n  },\n  Factories: {\n    '0xa5bf2ddf098bb0ef6d120c98217dd6b141c74ee0': 'oracleWeightedPool',\n    '0x8e9aa87e45e92bad84d5f8dd1bff34fb92637de9': 'weightedPool',\n    '0xc66ba2b6595d3613ccab350c886ace23866ede24': 'stablePool',\n    '0x751dfdace1ad995ff13c927f6f761c6604532c79': 'stablePool' // Kovan\n  }\n};\n","import axios from 'axios';\nimport { jsonToGraphQLQuery } from 'json-to-graphql-query';\nimport ConfigService from '@/services/config/config.service';\n\nexport default class Client {\n  url: string;\n\n  constructor(private readonly configService = new ConfigService()) {\n    this.url = configService.network.subgraph;\n  }\n\n  public async get(query) {\n    try {\n      const payload = this.toPayload(query);\n      const {\n        data: { data }\n      } = await axios.post(this.url, payload);\n      return data;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  public toPayload(query) {\n    return JSON.stringify({ query: jsonToGraphQLQuery({ query }) });\n  }\n}\n","import { POOLS } from '@/constants/pools';\nimport { merge } from 'lodash';\nimport { configService } from '@/services/config/config.service';\n\nconst defaultArgs = {\n  first: 1000,\n  orderBy: 'totalLiquidity',\n  orderDirection: 'desc',\n  where: {\n    totalShares_gt: 0.01,\n    id_not_in: POOLS.BlockList\n  }\n};\n\nif (!configService.env.ENABLE_STABLE_POOLS) {\n  defaultArgs.where['poolType_not'] = 'Stable';\n}\n\nconst defaultAttrs = {\n  id: true,\n  poolType: true,\n  swapFee: true,\n  tokensList: true,\n  totalLiquidity: true,\n  totalSwapVolume: true,\n  totalSwapFee: true,\n  totalShares: true,\n  owner: true,\n  factory: true,\n  amp: true,\n  tokens: {\n    address: true,\n    balance: true,\n    weight: true\n  }\n};\n\nexport default (args = {}, attrs = {}) => ({\n  pools: {\n    __args: merge({}, defaultArgs, args),\n    ...merge({}, defaultAttrs, attrs)\n  }\n});\n","import { Pool } from '@/services/balancer/subgraph/types';\nimport { Prices } from '@/services/coingecko';\n\nexport function getPoolLiquidity(pool: Pool, prices: Prices) {\n  if (pool.poolType == 'Weighted') {\n    const totalWeight = pool.tokens.reduce(\n      (total, token) => total + parseFloat(token.weight),\n      0\n    );\n    let sumWeight = 0;\n    let sumValue = 0;\n\n    for (let i = 0; i < pool.tokens.length; i++) {\n      const token = pool.tokens[i];\n      if (!prices[token.address]) {\n        continue;\n      }\n      const price = prices[token.address].price;\n      const balance = parseFloat(pool.tokens[i].balance);\n\n      const value = balance * price;\n      const weight = token.weight ? parseFloat(token.weight) : 0;\n      sumValue = sumValue + value;\n      sumWeight = sumWeight + weight;\n    }\n    if (sumWeight > 0) {\n      const liquidity = (sumValue / sumWeight) * totalWeight;\n      return liquidity.toString();\n    } else {\n      return '0';\n    }\n  }\n  // TODO [improvement]: if price is missing, compute spot price based on balances and amp factor\n  if (pool.poolType == 'Stable') {\n    let sumBalance = 0;\n    let sumValue = 0;\n\n    for (let i = 0; i < pool.tokens.length; i++) {\n      const token = pool.tokens[i];\n      // if a token's price is unkown, ignore it\n      // it will be computed at the next step\n      if (!prices[token.address]) {\n        continue;\n      }\n      const price = prices[token.address].price;\n      const balance = parseFloat(pool.tokens[i].balance);\n\n      const value = balance * price;\n      sumValue = sumValue + value;\n      sumBalance = sumBalance + balance;\n    }\n    // if at least the partial value of the pool is known\n    // then compute the rest of the value\n    if (sumBalance > 0) {\n      // assume relative spot price = 1\n      const avgPrice = sumValue / sumBalance;\n      for (let i = 0; i < pool.tokens.length; i++) {\n        const token = pool.tokens[i];\n        // if a token's price is known, skip it\n        // it has been taken into account in the prev step\n        if (prices[token.address]) {\n          continue;\n        }\n        const balance = parseFloat(pool.tokens[i].balance);\n\n        const value = balance * avgPrice;\n        sumValue = sumValue + value;\n        sumBalance = sumBalance + balance;\n      }\n      return sumValue.toString();\n    } else {\n      return '0';\n    }\n  }\n  return '0';\n}\n","export function toUtcTime(date: Date) {\n  return Date.UTC(\n    date.getUTCFullYear(),\n    date.getUTCMonth(),\n    date.getUTCDate(),\n    date.getUTCHours(),\n    date.getUTCMinutes(),\n    date.getUTCSeconds()\n  );\n}\n","import { differenceInWeeks } from 'date-fns';\n\nimport { bnum } from '@/lib/utils';\nimport { toUtcTime } from '@/lib/utils/date';\n\nimport { NetworkId } from '@/constants/network';\n\nimport ConfigService from '@/services/config/config.service';\n\nimport { Prices } from '@/services/coingecko';\n\nimport MultiTokenLiquidityMining from './MultiTokenLiquidityMining.json';\n\ntype PoolId = string;\n\ntype LiquidityMiningTokenRewards = {\n  tokenAddress: string;\n  amount: number;\n};\n\ntype LiquidityMiningPools = Record<PoolId, LiquidityMiningTokenRewards[]>;\n\ntype LiquidityMiningWeek = Array<{\n  chainId: NetworkId;\n  pools: LiquidityMiningPools;\n}>;\n\n// Liquidity mining started on June 1, 2020 00:00 UTC\nconst liquidityMiningStartTime = Date.UTC(2020, 5, 1, 0, 0);\n\nfunction getCurrentLiquidityMiningWeek() {\n  return differenceInWeeks(toUtcTime(new Date()), liquidityMiningStartTime) + 1;\n}\n\nfunction getWeek(miningWeek: number) {\n  return `week_${miningWeek}`;\n}\n\nexport function computeAPYForPool(\n  rewards: number,\n  tokenPrice: number | null | undefined,\n  totalLiquidity: string\n) {\n  // Guard against null price\n  return tokenPrice != null\n    ? bnum(rewards)\n        .div(7)\n        .times(tokenPrice)\n        .times(365)\n        .div(totalLiquidity)\n        .toString()\n    : '0';\n}\n\nexport function computeTotalAPYForPool(\n  tokenRewards: LiquidityMiningTokenRewards[],\n  prices: Prices,\n  totalLiquidity: string\n) {\n  return tokenRewards\n    .reduce(\n      (totalRewards, { amount, tokenAddress }) =>\n        totalRewards.plus(\n          computeAPYForPool(\n            amount,\n            prices[tokenAddress.toLowerCase()]?.price,\n            totalLiquidity\n          )\n        ),\n      bnum(0)\n    )\n    .toString();\n}\n\nexport function getLiquidityMiningRewards(\n  week: number | 'current' = 'current'\n) {\n  const configService: ConfigService = new ConfigService();\n\n  const miningWeek =\n    week === 'current' ? getCurrentLiquidityMiningWeek() : week;\n\n  const miningRewards: LiquidityMiningPools = {};\n\n  const liquidityMiningWeek = MultiTokenLiquidityMining[\n    getWeek(miningWeek)\n  ] as LiquidityMiningWeek;\n\n  if (liquidityMiningWeek) {\n    Object.assign(\n      miningRewards,\n      liquidityMiningWeek.find(\n        pool => pool.chainId === Number(configService.env.NETWORK)\n      )?.pools\n    );\n  }\n\n  return miningRewards;\n}\n\nexport const currentLiquidityMiningRewards = getLiquidityMiningRewards();\n","import Service from '../../service';\nimport queryBuilder from './query';\nimport { getPoolLiquidity } from '@/lib/utils/balancer/price';\nimport { bnum } from '@/lib/utils';\nimport {\n  Pool,\n  QueryBuilder,\n  TimeTravelPeriod,\n  DecoratedPool\n} from '../../types';\nimport { Prices } from '@/services/coingecko';\nimport { getAddress } from '@ethersproject/address';\nimport {\n  currentLiquidityMiningRewards,\n  computeTotalAPYForPool\n} from '@/lib/utils/liquidityMining';\nimport { NetworkId } from '@/constants/network';\nimport ConfigService from '@/services/config/config.service';\n\nconst IS_LIQUIDITY_MINING_ENABLED = true;\n\nexport default class Pools {\n  service: Service;\n  query: QueryBuilder;\n  networkId: NetworkId;\n\n  constructor(\n    service: Service,\n    query: QueryBuilder = queryBuilder,\n    private readonly configService = new ConfigService()\n  ) {\n    this.service = service;\n    this.query = query;\n    this.networkId = Number(configService.env.NETWORK) as NetworkId;\n  }\n\n  public async get(args = {}, attrs = {}): Promise<Pool[]> {\n    const query = this.query(args, attrs);\n    const data = await this.service.client.get(query);\n    return data.pools;\n  }\n\n  public async getDecorated(\n    period: TimeTravelPeriod,\n    prices: Prices,\n    args = {},\n    attrs = {}\n  ): Promise<DecoratedPool[]> {\n    // Get current pools\n    const currentPoolsQuery = this.query(args, attrs);\n    const [{ pools: currentPools }, blockNumber] = await Promise.all([\n      this.service.client.get(currentPoolsQuery),\n      this.timeTravelBlock(period)\n    ]);\n\n    // Get past state of current pools\n    const block = { number: blockNumber };\n    const isCurrentPool = { id_in: currentPools.map(pool => pool.id) };\n    const pastPoolsQuery = this.query({ where: isCurrentPool, block }, attrs);\n    const { pools: pastPools } = await this.service.client.get(pastPoolsQuery);\n\n    return this.serialize(currentPools, pastPools, period, prices);\n  }\n\n  private serialize(\n    pools: Pool[],\n    pastPools: Pool[],\n    period: TimeTravelPeriod,\n    prices: Prices\n  ): DecoratedPool[] {\n    return pools.map(pool => {\n      pool.address = this.extractAddress(pool.id);\n      pool.tokenAddresses = pool.tokensList.map(t => getAddress(t));\n      pool.totalLiquidity = getPoolLiquidity(pool, prices);\n      const pastPool = pastPools.find(p => p.id === pool.id);\n      const volume = this.calcVolume(pool, pastPool);\n      const poolAPY = this.calcAPY(pool, pastPool);\n      const fees = this.calcFees(pool, pastPool);\n      const {\n        hasLiquidityMiningRewards,\n        liquidityMiningAPY\n      } = this.calcLiquidityMiningAPY(pool, prices);\n      const totalAPY = this.calcTotalAPY(poolAPY, liquidityMiningAPY);\n\n      return {\n        ...pool,\n        hasLiquidityMiningRewards,\n        dynamic: {\n          period,\n          volume,\n          fees,\n          apy: {\n            pool: poolAPY,\n            liquidityMining: liquidityMiningAPY,\n            total: totalAPY\n          }\n        }\n      };\n    });\n  }\n\n  private calcVolume(pool: Pool, pastPool: Pool | undefined): string {\n    if (!pastPool) return pool.totalSwapVolume;\n\n    return bnum(pool.totalSwapVolume)\n      .minus(pastPool.totalSwapVolume)\n      .toString();\n  }\n\n  private calcAPY(pool: Pool, pastPool?: Pool) {\n    if (!pastPool)\n      return bnum(pool.totalSwapFee)\n        .dividedBy(pool.totalLiquidity)\n        .multipliedBy(365)\n        .toString();\n\n    const swapFees = bnum(pool.totalSwapFee).minus(pastPool.totalSwapFee);\n    return swapFees\n      .dividedBy(pool.totalLiquidity)\n      .multipliedBy(365)\n      .toString();\n  }\n\n  private calcLiquidityMiningAPY(pool: Pool, prices: Prices) {\n    let liquidityMiningAPY = '0';\n\n    const liquidityMiningRewards = currentLiquidityMiningRewards[pool.id];\n\n    const hasLiquidityMiningRewards = IS_LIQUIDITY_MINING_ENABLED\n      ? !!liquidityMiningRewards\n      : false;\n\n    if (hasLiquidityMiningRewards) {\n      liquidityMiningAPY = computeTotalAPYForPool(\n        liquidityMiningRewards,\n        prices,\n        pool.totalLiquidity\n      );\n    }\n\n    return {\n      hasLiquidityMiningRewards,\n      liquidityMiningAPY\n    };\n  }\n\n  private calcTotalAPY(poolAPY: string, liquidityMiningAPY: string) {\n    return bnum(poolAPY)\n      .plus(liquidityMiningAPY)\n      .toString();\n  }\n\n  private calcFees(pool: Pool, pastPool: Pool | undefined): string {\n    if (!pastPool) return pool.totalSwapFee;\n\n    return bnum(pool.totalSwapFee)\n      .minus(pastPool.totalSwapFee)\n      .toString();\n  }\n\n  private async timeTravelBlock(period: TimeTravelPeriod): Promise<number> {\n    const currentBlock = await this.service.rpcProviderService.getBlockNumber();\n    const dayInSecs = 24 * 60 * 60;\n    const blocksInDay = Math.round(dayInSecs / this.service.blockTime);\n\n    switch (period) {\n      case '24h':\n        return currentBlock - blocksInDay;\n      default:\n        return currentBlock - blocksInDay;\n    }\n  }\n\n  private extractAddress(poolId: string): string {\n    return getAddress(poolId.slice(0, 42));\n  }\n}\n","import { merge } from 'lodash';\n\nconst defaultArgs = {\n  first: 1000,\n  where: {\n    balance_gt: 0\n  }\n};\n\nconst defaultAttrs = {\n  poolId: {\n    id: true\n  },\n  balance: true\n};\n\nexport default (args = {}, attrs = {}) => ({\n  poolShares: {\n    __args: merge({}, defaultArgs, args),\n    ...merge({}, defaultAttrs, attrs)\n  }\n});\n","import Service from '../../service';\nimport poolQueryBuilder from './query';\nimport { PoolShare, QueryBuilder } from '../../types';\n\nexport default class PoolShares {\n  service: Service;\n  query: QueryBuilder;\n\n  constructor(service: Service, query: QueryBuilder = poolQueryBuilder) {\n    this.service = service;\n    this.query = query;\n  }\n\n  public async get(args = {}, attrs = {}): Promise<PoolShare[]> {\n    const query = this.query(args, attrs);\n    const data = await this.service.client.get(query);\n    return data.poolShares;\n  }\n}\n","import { merge } from 'lodash';\n\nconst defaultArgs = {\n  first: 100,\n  orderBy: 'timestamp',\n  orderDirection: 'desc'\n};\n\nconst defaultAttrs = {\n  amounts: true,\n  timestamp: true,\n  tx: true,\n  type: true\n};\n\nexport default (args = {}, attrs = {}) => ({\n  joinExits: {\n    __args: merge({}, defaultArgs, args),\n    ...merge({}, defaultAttrs, attrs)\n  }\n});\n","import Service from '../../service';\nimport queryBuilder from './query';\nimport { PoolActivity, QueryBuilder } from '../../types';\n\nexport default class PoolActivities {\n  service: Service;\n  query: QueryBuilder;\n\n  constructor(service: Service, query: QueryBuilder = queryBuilder) {\n    this.service = service;\n    this.query = query;\n  }\n\n  public async get(args = {}, attrs = {}): Promise<PoolActivity[]> {\n    const query = this.query(args, attrs);\n    const { joinExits } = await this.service.client.get(query);\n    return this.serializeActivity(joinExits);\n  }\n\n  serializeActivity(poolActivities: PoolActivity[]) {\n    return poolActivities.map(poolActivity => ({\n      ...poolActivity,\n      timestamp: poolActivity.timestamp * 1000\n    }));\n  }\n}\n","import { merge } from 'lodash';\n\nconst defaultAttrs = {\n  pool: {\n    id: true\n  },\n  timestamp: true,\n  amounts: true,\n  totalShares: true,\n  swapVolume: true,\n  swapFees: true\n};\n\nexport default (args = {}, attrs = {}) => ({\n  poolSnapshot: {\n    __args: args,\n    ...merge({}, defaultAttrs, attrs)\n  }\n});\n","import Service from '../../service';\nimport poolQueryBuilder from './query';\nimport { PoolSnapshots, PoolSnapshot, QueryBuilder } from '../../types';\n\nconst DAY = 60 * 60 * 24;\n\nexport default class PoolShares {\n  service: Service;\n  query: QueryBuilder;\n\n  constructor(service: Service, query: QueryBuilder = poolQueryBuilder) {\n    this.service = service;\n    this.query = query;\n  }\n\n  public async get(\n    poolId: string,\n    days: number,\n    args = {},\n    attrs = {}\n  ): Promise<PoolSnapshots> {\n    const currentTimestamp = Math.ceil(Date.now() / 1000);\n    const dayTimestamp = currentTimestamp - (currentTimestamp % DAY);\n    const timestamps: number[] = [];\n    for (let i = 0; i < days; i++) {\n      timestamps.push(dayTimestamp - i * DAY);\n    }\n    attrs = { ...attrs, __aliasFor: 'poolSnapshot' };\n    const query = Object.fromEntries(\n      timestamps.map(timestamp => {\n        const timestampArgs = { ...args, id: `${poolId}-${timestamp}` };\n        const timestampFragment = this.query(timestampArgs, attrs).poolSnapshot;\n        return [`_${timestamp}`, timestampFragment];\n      })\n    );\n    const data = await this.service.client.get(query);\n    return this.serialize(data);\n  }\n\n  private serialize(snapshotData: Record<string, PoolSnapshot>): PoolSnapshots {\n    return Object.fromEntries(\n      Object.entries(snapshotData)\n        .map(entry => {\n          const [id, data] = entry;\n          const timestamp = parseInt(id.substr(1));\n          if (!data) {\n            return [timestamp, null];\n          }\n          const { amounts, totalShares, swapVolume, swapFees } = data;\n          return [\n            timestamp * 1000,\n            { timestamp, amounts, totalShares, swapVolume, swapFees }\n          ];\n        })\n        .filter(entry => !!entry[1])\n    );\n  }\n}\n","import Client from './client';\nimport RpcProviderService from '@/services/rpc-provider/rpc-provider.service';\nimport Pools from './entities/pools';\nimport PoolShares from './entities/poolShares';\nimport PoolActivities from './entities/poolActivities';\nimport PoolSnapshots from './entities/poolSnapshots';\n\nconst NETWORK = process.env.VUE_APP_NETWORK || '1';\n\nexport default class Service {\n  client: Client;\n  rpcProviderService: RpcProviderService;\n  pools: Pools;\n  poolShares: PoolShares;\n  poolActivities: PoolActivities;\n  poolSnapshots: PoolSnapshots;\n\n  constructor(\n    client = new Client(),\n    rpcProviderService = new RpcProviderService()\n  ) {\n    this.client = client;\n    this.rpcProviderService = rpcProviderService;\n\n    // Init entities\n    this.pools = new Pools(this);\n    this.poolShares = new PoolShares(this);\n    this.poolActivities = new PoolActivities(this);\n    this.poolSnapshots = new PoolSnapshots(this);\n  }\n\n  public get blockTime(): number {\n    switch (NETWORK) {\n      case '1':\n        return 13;\n      case '137':\n        return 2;\n      case '42':\n        // Should be ~4s but this causes subgraph to return with unindexed block error.\n        return 1;\n      default:\n        return 13;\n    }\n  }\n}\n","import { computed, reactive, ref, Ref } from 'vue';\nimport { useInfiniteQuery } from 'vue-query';\nimport { UseInfiniteQueryOptions } from 'react-query/types';\nimport { useStore } from 'vuex';\nimport { flatten } from 'lodash';\n\nimport QUERY_KEYS from '@/constants/queryKeys';\nimport { POOLS } from '@/constants/pools';\n\nimport BalancerSubgraph from '@/services/balancer/subgraph/service';\nimport { DecoratedPool } from '@/services/balancer/subgraph/types';\nimport useTokens from '../useTokens';\n\ntype PoolsQueryResponse = {\n  pools: DecoratedPool[];\n  tokens: string[];\n  skip?: number;\n};\n\nexport default function usePoolsQuery(\n  tokenList: Ref<string[]> = ref([]),\n  options: UseInfiniteQueryOptions<PoolsQueryResponse> = {}\n) {\n  // SERVICES\n  const balancerSubgraph = new BalancerSubgraph();\n\n  // COMPOSABLES\n  const store = useStore();\n  const { tokens: allTokens } = useTokens();\n\n  // DATA\n  const queryKey = QUERY_KEYS.Pools.All(tokenList);\n\n  // COMPUTED\n  const appLoading = computed(() => store.state.app.loading);\n  const prices = computed(() => store.state.market.prices);\n  const isQueryEnabled = computed(() => !appLoading.value);\n\n  function uninjected(tokens: string[]): string[] {\n    const allAddresses = Object.keys(allTokens.value);\n    return tokens.filter(address => !allAddresses.includes(address));\n  }\n\n  // METHODS\n  const queryFn = async ({ pageParam = 0 }) => {\n    const pools = await balancerSubgraph.pools.getDecorated(\n      '24h',\n      prices.value,\n      {\n        first: POOLS.Pagination.PerPage,\n        skip: pageParam,\n        where: {\n          tokensList_contains: tokenList.value\n        }\n      }\n    );\n\n    const tokens = flatten(pools.map(pool => pool.tokenAddresses));\n    const uninjectedTokens = uninjected(tokens);\n    if (uninjectedTokens.length > 0) {\n      await store.dispatch('registry/injectTokens', uninjectedTokens);\n    }\n\n    return {\n      pools,\n      tokens,\n      skip:\n        pools.length >= POOLS.Pagination.PerPage\n          ? pageParam + POOLS.Pagination.PerPage\n          : undefined\n    };\n  };\n\n  const queryOptions = reactive({\n    enabled: isQueryEnabled,\n    getNextPageParam: (lastPage: PoolsQueryResponse) => lastPage.skip,\n    ...options\n  });\n\n  return useInfiniteQuery<PoolsQueryResponse>(queryKey, queryFn, queryOptions);\n}\n","import { computed, reactive } from 'vue';\nimport { useQuery } from 'vue-query';\nimport { UseQueryOptions } from 'react-query/types';\nimport { useStore } from 'vuex';\nimport { flatten, isEmpty, keyBy } from 'lodash';\nimport { getAddress } from '@ethersproject/address';\n\nimport { bnum } from '@/lib/utils';\n\nimport QUERY_KEYS from '@/constants/queryKeys';\n\nimport BalancerSubgraph from '@/services/balancer/subgraph/service';\nimport { DecoratedPoolWithShares } from '@/services/balancer/subgraph/types';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useTokens from '../useTokens';\n\ntype UserPoolsQueryResponse = {\n  pools: DecoratedPoolWithShares[];\n  totalInvestedAmount: string;\n  tokens: string[];\n};\n\nexport default function useUserPoolsQuery(\n  options: UseQueryOptions<UserPoolsQueryResponse> = {}\n) {\n  // SERVICES\n  const balancerSubgraph = new BalancerSubgraph();\n\n  // COMPOSABLES\n  const store = useStore();\n  const { account, isWalletReady } = useVueWeb3();\n  const { tokens: allTokens } = useTokens();\n\n  // DATA\n  const queryKey = reactive(QUERY_KEYS.Pools.User(account));\n\n  // COMPUTED\n  const prices = computed(() => store.state.market.prices);\n  const isQueryEnabled = computed(\n    () => isWalletReady.value && account.value != null && !isEmpty(prices.value)\n  );\n\n  function uninjected(tokens: string[]): string[] {\n    const allAddresses = Object.keys(allTokens.value);\n    return tokens.filter(address => !allAddresses.includes(address));\n  }\n\n  // METHODS\n  const queryFn = async () => {\n    const poolShares = await balancerSubgraph.poolShares.get({\n      where: {\n        userAddress: account.value.toLowerCase()\n      }\n    });\n\n    const poolSharesIds = poolShares.map(poolShare => poolShare.poolId.id);\n    const poolSharesMap = keyBy(poolShares, poolShare => poolShare.poolId.id);\n\n    const pools = await balancerSubgraph.pools.getDecorated(\n      '24h',\n      prices.value,\n      {\n        where: {\n          id_in: poolSharesIds\n        }\n      }\n    );\n\n    const tokens = flatten(pools.map(pool => pool.tokensList.map(getAddress)));\n    const uninjectedTokens = uninjected(tokens);\n    if (uninjectedTokens.length > 0) {\n      await store.dispatch('registry/injectTokens', uninjectedTokens);\n    }\n\n    const poolsWithShares = pools.map(pool => ({\n      ...pool,\n      shares: bnum(pool.totalLiquidity)\n        .div(pool.totalShares)\n        .times(poolSharesMap[pool.id].balance)\n        .toString()\n    }));\n\n    const totalInvestedAmount = poolsWithShares\n      .map(pool => pool.shares)\n      .reduce((totalShares, shares) => totalShares.plus(shares), bnum(0))\n      .toString();\n\n    return {\n      pools: poolsWithShares,\n      tokens,\n      totalInvestedAmount\n    };\n  };\n\n  const queryOptions = reactive({\n    enabled: isQueryEnabled,\n    onSuccess: async (poolsData: UserPoolsQueryResponse) => {\n      await store.dispatch('registry/injectTokens', poolsData.tokens);\n    },\n    ...options\n  });\n\n  return useQuery<UserPoolsQueryResponse>(queryKey, queryFn, queryOptions);\n}\n","import { computed, Ref, ref } from 'vue';\n\nimport { flatten } from 'lodash';\n\nimport usePoolsQuery from '@/composables/queries/usePoolsQuery';\nimport useUserPoolsQuery from '@/composables/queries/useUserPoolsQuery';\n\nexport default function usePools(poolsTokenList: Ref<string[]> = ref([])) {\n  // COMPOSABLES\n  const poolsQuery = usePoolsQuery(poolsTokenList);\n  const userPoolsQuery = useUserPoolsQuery();\n\n  // COMPUTED\n  const pools = computed(() =>\n    poolsQuery.data.value\n      ? flatten(poolsQuery.data.value.pages.map(page => page.pools))\n      : []\n  );\n\n  const tokens = computed(() =>\n    poolsQuery.data.value\n      ? flatten(poolsQuery.data.value.pages.map(page => page.tokens))\n      : []\n  );\n\n  const userPools = computed(() => userPoolsQuery.data.value?.pools);\n\n  const totalInvestedAmount = computed(\n    () => userPoolsQuery.data.value?.totalInvestedAmount\n  );\n\n  const isLoadingPools = computed(\n    () => poolsQuery.isLoading.value || poolsQuery.isIdle.value\n  );\n\n  const isLoadingUserPools = computed(\n    () => userPoolsQuery.isLoading.value || userPoolsQuery.isIdle.value\n  );\n\n  const poolsHasNextPage = computed(() => poolsQuery.hasNextPage?.value);\n  const poolsIsFetchingNextPage = computed(\n    () => poolsQuery.isFetchingNextPage?.value\n  );\n\n  // METHODS\n  function loadMorePools() {\n    poolsQuery.fetchNextPage.value();\n  }\n\n  return {\n    // computed\n    pools,\n    tokens,\n    userPools,\n    totalInvestedAmount,\n    isLoadingPools,\n    isLoadingUserPools,\n    poolsHasNextPage,\n    poolsIsFetchingNextPage,\n\n    // methods\n    loadMorePools\n  };\n}\n","\nimport { computed, defineComponent } from 'vue';\n\nimport useNumbers from '@/composables/useNumbers';\nimport usePools from '@/composables/pools/usePools';\n\nimport { EXTERNAL_LINKS } from '@/constants/links';\nimport useFathom from '@/composables/useFathom';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\nexport default defineComponent({\n  name: 'AppHero',\n\n  setup() {\n    // COMPOSABLES\n    const { fNum } = useNumbers();\n    const { isWalletReady, toggleWalletSelectModal } = useVueWeb3();\n    const { trackGoal, Goals } = useFathom();\n    const { totalInvestedAmount, isLoadingUserPools } = usePools();\n\n    const classes = computed(() => ({\n      ['h-72']: !isWalletReady.value,\n      ['h-40']: isWalletReady.value\n    }));\n\n    function onClickConnect() {\n      toggleWalletSelectModal(true);\n      trackGoal(Goals.ClickHeroConnectWallet);\n    }\n\n    return {\n      // data\n      totalInvestedAmount,\n      isLoadingUserPools,\n      Goals,\n\n      // computed\n      isWalletReady,\n      classes,\n\n      // methods\n      toggleWalletSelectModal,\n      fNum,\n      onClickConnect,\n      trackGoal,\n      // constants\n      EXTERNAL_LINKS\n    };\n  }\n});\n","import { render } from \"./AppHero.vue?vue&type=template&id=4b39df50\"\nimport script from \"./AppHero.vue?vue&type=script&lang=ts\"\nexport * from \"./AppHero.vue?vue&type=script&lang=ts\"\n\nimport \"./AppHero.vue?vue&type=style&index=0&id=4b39df50&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <BalModal\n    :show=\"isVisible\"\n    @close=\"$emit('close')\"\n    title=\"Connect to a wallet\"\n  >\n    <WalletButton v-for=\"wallet in wallets\" :wallet=\"wallet\" :key=\"wallet\" />\n    <div class=\"p-4 rounded-lg bg-gradient-to-b from-gray-50 to-gray-100\">\n      <h6 class=\"font-bold\">New to Ethereum?</h6>\n      <p class=\"text-sm\">\n        Balancer is a DeFi app on Ethereum. To invest and trade here, you'll\n        first need to set up an Ethereum Wallet.\n        <BalLink :href=\"EXTERNAL_LINKS.Ethereum.Wallets\" external>\n          Learn More\n          <span class=\"align-middle\"\n            ><BalIcon name=\"arrow-up-right\" size=\"sm\"\n          /></span>\n        </BalLink>\n      </p>\n    </div>\n  </BalModal>\n</template>\n\n<script lang=\"ts\">\nimport { SupportedWallets } from '@/services/web3/web3.plugin';\nimport WalletButton from '@/components/web3/WalletButton.vue';\nimport { EXTERNAL_LINKS } from '@/constants/links';\nimport { defineComponent } from 'vue';\nexport default defineComponent({\n  emits: ['close'],\n  components: {\n    WalletButton\n  },\n  props: {\n    isVisible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup() {\n    return {\n      wallets: SupportedWallets,\n      EXTERNAL_LINKS\n    };\n  }\n});\n</script>\n","<template>\n  <button\n    class=\"bg-white hover:bg-gray-50 p-4 flex justify-start items-center w-full h-14 rounded-md border mb-3 shadow-lg\"\n    @click=\"connectWallet(wallet)\"\n  >\n    <div class=\"flex items-center\" style=\"width: 70%\">\n      <img\n        :src=\"require(`@/assets/images/connectors/${wallet}.svg`)\"\n        class=\"h-10 w-10 mr-4\"\n      />\n      <h5 class=\"text-gray-700 text-base\">\n        <span class=\"capitalize\">{{ WalletNameMap[wallet] }}</span>\n      </h5>\n    </div>\n  </button>\n</template>\n\n<script lang=\"ts\">\nimport { Wallet, WalletNameMap } from '@/services/web3/web3.plugin';\nimport { defineComponent, PropType } from 'vue';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nexport default defineComponent({\n  props: {\n    wallet: {\n      type: String as PropType<Wallet>,\n      required: true\n    }\n  },\n  setup() {\n    const { connectWallet } = useVueWeb3();\n    return {\n      WalletNameMap,\n      connectWallet\n    };\n  }\n});\n</script>\n","\nimport { Wallet, WalletNameMap } from '@/services/web3/web3.plugin';\nimport { defineComponent, PropType } from 'vue';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nexport default defineComponent({\n  props: {\n    wallet: {\n      type: String as PropType<Wallet>,\n      required: true\n    }\n  },\n  setup() {\n    const { connectWallet } = useVueWeb3();\n    return {\n      WalletNameMap,\n      connectWallet\n    };\n  }\n});\n","import { render } from \"./WalletButton.vue?vue&type=template&id=5f5c607a\"\nimport script from \"./WalletButton.vue?vue&type=script&lang=ts\"\nexport * from \"./WalletButton.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { SupportedWallets } from '@/services/web3/web3.plugin';\nimport WalletButton from '@/components/web3/WalletButton.vue';\nimport { EXTERNAL_LINKS } from '@/constants/links';\nimport { defineComponent } from 'vue';\nexport default defineComponent({\n  emits: ['close'],\n  components: {\n    WalletButton\n  },\n  props: {\n    isVisible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup() {\n    return {\n      wallets: SupportedWallets,\n      EXTERNAL_LINKS\n    };\n  }\n});\n","import { render } from \"./WalletSelectModal.vue?vue&type=template&id=86c6ccf2\"\nimport script from \"./WalletSelectModal.vue?vue&type=script&lang=ts\"\nexport * from \"./WalletSelectModal.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, onBeforeMount, computed } from 'vue';\nimport { VueQueryDevTools } from 'vue-query/devtools';\nimport { useStore } from 'vuex';\nimport BigNumber from 'bignumber.js';\nimport { useRoute } from 'vue-router';\n\nimport useWeb3Watchers from '@/composables/useWeb3Watchers';\nimport AppNav from '@/components/navs/AppNav/AppNav.vue';\nimport AppHero from '@/components/heros/AppHero.vue';\nimport WalletSelectModal from '@/components/web3/WalletSelectModal.vue';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport RpcProviderService from '@/services/rpc-provider/rpc-provider.service';\nimport { DEFAULT_TOKEN_DECIMALS } from './constants/tokens';\n\nBigNumber.config({ DECIMAL_PLACES: DEFAULT_TOKEN_DECIMALS });\n\nexport default defineComponent({\n  components: {\n    AppNav,\n    AppHero,\n    VueQueryDevTools,\n    WalletSelectModal\n  },\n\n  setup() {\n    // COMPOSABLES\n    useWeb3Watchers();\n    const { isWalletSelectVisible, toggleWalletSelectModal } = useVueWeb3();\n    const store = useStore();\n    const route = useRoute();\n\n    // SERVICES\n    const providerService = new RpcProviderService();\n\n    // COMPUTED\n    const isHomePage = computed(() => route.path === '/');\n\n    // METHODS\n\n    const setBlockNumber = (blockNumber: number) =>\n      store.commit('web3/setBlockNumber', blockNumber);\n\n    // CALLBACKS\n    onBeforeMount(() => {\n      store.dispatch('app/init');\n      providerService.initBlockListener(setBlockNumber);\n    });\n\n    return {\n      // computed\n      isWalletSelectVisible,\n      isHomePage,\n      // methods\n      toggleWalletSelectModal\n    };\n  }\n});\n","import { render } from \"./App.vue?vue&type=template&id=972b51ae\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=972b51ae&lang=css\"\nscript.render = render\n\nexport default script","import { createStore } from 'vuex';\nimport modules from '@/store/modules';\n\nconst store = createStore({\n  modules,\n  strict: process.env.NODE_ENV !== 'production'\n});\n\nexport default store;\n","<template>\n  <div class=\"container mx-auto px-4 lg:px-0 pt-10 md:pt-12\">\n    <template v-if=\"isWalletReady\">\n      <h3 class=\"mb-4\">{{ $t('myV2Investments') }}</h3>\n      <PoolsTable\n        :isLoading=\"isLoadingUserPools\"\n        :data=\"userPools\"\n        :noPoolsLabel=\"$t('noInvestments')\"\n        showPoolShares\n        class=\"mb-8\"\n      />\n      <!--<div v-if=\"!hideV1Links\">\n        <div class=\"text-black-600\">{{ $t('seeV1BalancerInvestments') }}</div>\n        <BalLink :href=\"EXTERNAL_LINKS.Balancer.PoolsV1Dashboard\" external>{{\n          $t('goToBalancerV1Site')\n        }}</BalLink>\n      </div>-->\n      <div class=\"mb-16\" />\n    </template>\n    <h3 class=\"mb-4\">{{ $t('investmentPools') }}</h3>\n    <TokenSearchInput\n      v-model=\"selectedTokens\"\n      :loading=\"isLoadingPools\"\n      @add=\"addSelectedToken\"\n      @remove=\"removeSelectedToken\"\n    />\n    <PoolsTable\n      :isLoading=\"isLoadingPools\"\n      :data=\"filteredPools\"\n      :noPoolsLabel=\"$t('noPoolsFound')\"\n      :isPaginated=\"poolsHasNextPage\"\n      :isLoadingMore=\"poolsIsFetchingNextPage\"\n      @loadMore=\"loadMorePools\"\n      class=\"mb-8\"\n    />\n    <!--<div v-if=\"!hideV1Links\">\n      <div class=\"text-black-600\">\n        {{ $t('tableShowsBalancerV2Pools') }}\n      </div>\n      <BalLink :href=\"EXTERNAL_LINKS.Balancer.PoolsV1Explore\" external>{{\n        $t('exploreBalancerV1Pools')\n      }}</BalLink>\n    </div>-->\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { getAddress } from '@ethersproject/address';\n\nimport { EXTERNAL_LINKS } from '@/constants/links';\n\nimport TokenSearchInput from '@/components/inputs/TokenSearchInput.vue';\n\nimport PoolsTable from '@/components/tables/PoolsTable/PoolsTable.vue';\n\nimport usePools from '@/composables/pools/usePools';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport usePoolFilters from '@/composables/pools/usePoolFilters';\n\nexport default defineComponent({\n  components: {\n    TokenSearchInput,\n    PoolsTable\n  },\n\n  setup() {\n    // COMPOSABLES\n    const router = useRouter();\n    const { isWalletReady, isV1Supported } = useVueWeb3();\n    const {\n      selectedTokens,\n      addSelectedToken,\n      removeSelectedToken\n    } = usePoolFilters();\n\n    const {\n      pools,\n      userPools,\n      isLoadingPools,\n      isLoadingUserPools,\n      loadMorePools,\n      poolsHasNextPage,\n      poolsIsFetchingNextPage\n    } = usePools(selectedTokens);\n\n    // COMPUTED\n    const filteredPools = computed(() =>\n      selectedTokens.value.length > 0\n        ? pools.value?.filter(pool => {\n            const poolTokenList = pool.tokensList.map(getAddress);\n\n            return selectedTokens.value.every((selectedToken: string) =>\n              poolTokenList.includes(selectedToken)\n            );\n          })\n        : pools?.value\n    );\n\n    const hideV1Links = computed(() => !isV1Supported);\n\n    return {\n      // data\n      filteredPools,\n      userPools,\n      isLoadingPools,\n      isLoadingUserPools,\n\n      // computed\n      isWalletReady,\n      hideV1Links,\n      poolsHasNextPage,\n      poolsIsFetchingNextPage,\n      selectedTokens,\n\n      //methods\n      router,\n      loadMorePools,\n      addSelectedToken,\n      removeSelectedToken,\n\n      // constants\n      EXTERNAL_LINKS\n    };\n  }\n});\n</script>\n","<template>\n  <div>\n    <div class=\"flex items-center flex-wrap\">\n      <div class=\"flex items-center flex-wrap\">\n        <BalBtn\n          color=\"gray\"\n          outline\n          size=\"sm\"\n          @click=\"onClick\"\n          class=\"mb-2 md:mb-0 mr-4\"\n        >\n          <BalIcon name=\"search\" size=\"sm\" class=\"mr-2\" />\n          {{ $t('filterByToken') }}\n        </BalBtn>\n        <BalChip\n          v-for=\"token in modelValue\"\n          class=\"mr-2\"\n          :key=\"token\"\n          color=\"white\"\n          iconSize=\"sm\"\n          :closeable=\"true\"\n          @closed=\"$emit('remove', token)\"\n        >\n          <BalAsset :address=\"token\" :size=\"20\" class=\"flex-auto\" />\n          <span class=\"ml-2\">{{ tokens[token]?.symbol }}</span>\n        </BalChip>\n      </div>\n      <div\n        v-if=\"\n          account &&\n            !isNotFetchingBalances &&\n            !isLoadingBalances &&\n            !hasNoBalances\n        \"\n        class=\"text-gray-400 overflow-x-auto\"\n      >\n        <span class=\"mr-6\">{{ $t('inYourWallet') }}</span>\n        <span\n          v-for=\"token in sortedBalances\"\n          :key=\"`wallet-${token.symbol}`\"\n          class=\"mr-6 cursor-pointer hover:text-blue-700\"\n          @click=\"addToken(token.address)\"\n        >\n          {{ token?.symbol }}\n        </span>\n      </div>\n      <div v-else class=\"text-gray-400 flex flex-wrap\">\n        <span class=\"mr-6\">{{ $t('popularBases') }}</span>\n        <span\n          v-for=\"token in whiteListedTokens\"\n          :key=\"`popular-${token.symbol}`\"\n          class=\"mr-6 cursor-pointer hover:text-gray-700\"\n          @click=\"addToken(token.address)\"\n        >\n          {{ token?.symbol }}\n        </span>\n      </div>\n    </div>\n    <teleport to=\"#modal\">\n      <SelectTokenModal\n        v-if=\"selectTokenModal\"\n        :excluded-tokens=\"modelValue\"\n        @close=\"selectTokenModal = false\"\n        @select=\"addToken\"\n      />\n    </teleport>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType, ref } from 'vue';\nimport SelectTokenModal from '@/components/modals/SelectTokenModal/SelectTokenModal.vue';\nimport useAccountBalances from '@/composables/useAccountBalances';\nimport { sortBy, take } from 'lodash';\nimport { TOKENS } from '@/constants/tokens';\nimport { ETHER } from '@/constants/tokenlists';\nimport { getAddress } from '@ethersproject/address';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport { TokenMap } from '@/types';\nimport useTokens from '@/composables/useTokens';\n\nexport default defineComponent({\n  name: 'TokenSearchInput',\n\n  components: {\n    SelectTokenModal\n  },\n\n  emits: ['add', 'remove'],\n\n  props: {\n    modelValue: { type: Array as PropType<string[]>, default: () => [] },\n    loading: { type: Boolean, default: true }\n  },\n\n  setup(props, { emit }) {\n    // COMPOSABLES\n    const { tokens } = useTokens();\n    const {\n      isLoading: isLoadingBalances,\n      balances,\n      isIdle: isNotFetchingBalances\n    } = useAccountBalances();\n    const { account } = useVueWeb3();\n\n    // sorted by biggest bag balance, limited to biggest 5\n    const sortedBalances = computed(() => {\n      return take(\n        sortBy(Object.values(balances.value || {}), 'balance')\n          .reverse()\n          .filter(\n            (balance: any) =>\n              !props.modelValue.includes(balance.address) &&\n              balance.address !== ETHER.address\n          ),\n        6\n      );\n    });\n\n    const hasNoBalances = computed(() => !sortedBalances.value.length);\n    const whiteListedTokens = computed(() =>\n      Object.values(tokens.value as TokenMap)\n        .filter(token => TOKENS.Popular.Symbols.includes(token.symbol))\n        .filter(balance => !props.modelValue.includes(balance.address))\n    );\n\n    // DATA\n    const selectTokenModal = ref(false);\n\n    // METHODS\n    function addToken(token: string) {\n      let _token = token;\n      // special case for ETH where we want it to filter as WETH regardless\n      // as ETH is the native asset\n      if (getAddress(token) === ETHER.address) {\n        _token = TOKENS.AddressMap.WETH;\n      }\n      // const newSelected = [...props.modelValue, _token];\n      emit('add', _token);\n    }\n\n    function onClick() {\n      if (!props.loading) selectTokenModal.value = true;\n    }\n\n    return {\n      // data\n      selectTokenModal,\n      isNotFetchingBalances,\n      isLoadingBalances,\n      balances,\n      sortedBalances,\n      account,\n      hasNoBalances,\n      whiteListedTokens,\n      // computed\n      tokens,\n      // methods\n      addToken,\n      onClick\n    };\n  }\n});\n</script>\n","<template>\n  <BalModal show @close=\"$emit('close')\" no-content-pad>\n    <template v-slot:header>\n      <div class=\"w-full flex justify-between items-center\">\n        <div class=\"flex items-center\">\n          <BalBtn\n            v-if=\"selectTokenList\"\n            color=\"gray\"\n            size=\"xs\"\n            class=\"mr-2\"\n            flat\n            circle\n            @click=\"onListExit\"\n          >\n            <BalIcon name=\"arrow-left\" size=\"sm\" />\n          </BalBtn>\n          <h5>{{ title }}</h5>\n        </div>\n        <div\n          v-if=\"!selectTokenList\"\n          @click=\"toggleSelectTokenList\"\n          class=\"flex items-center group cursor-pointer\"\n        >\n          <span class=\"text-xs text-gray-500\">{{ $t('tokenLists') }}</span>\n          <div class=\"flex items-center ml-2\">\n            <span class=\"mr-1 \">\n              <img\n                v-for=\"(tokenlist, i) in activeTokenLists\"\n                :key=\"`activeTokenListIcon-${i}`\"\n                :src=\"_url(listMap[tokenlist]?.logoURI)\"\n                class=\"rounded-full inline-block bg-white shadow w-6 h-6\"\n              />\n            </span>\n            <BalIcon\n              name=\"chevron-down\"\n              size=\"sm\"\n              class=\"ml-1 text-blue-500 group-hover:text-pink-500 group-focus:text-pink-500 transition-all duration-200 ease-out \"\n            />\n          </div>\n        </div>\n      </div>\n    </template>\n    <template v-if=\"selectTokenList\">\n      <Search\n        v-model=\"query\"\n        :placeholder=\"t('searchByName')\"\n        class=\"px-4 py-3 flex-auto border-b dark:border-gray-700\"\n      />\n      <div>\n        <div\n          v-if=\"Object.keys(tokenLists).length > 0\"\n          class=\"h-96 overflow-y-scroll\"\n        >\n          <TokenListsListItem\n            v-for=\"(tokenList, i) in tokenLists\"\n            :key=\"i\"\n            :isActive=\"isActiveList(tokenList.name)\"\n            :tokenlist=\"tokenList\"\n            @toggle=\"toggleActiveTokenList(tokenList.name)\"\n          />\n        </div>\n        <div\n          v-else\n          v-text=\"t('errorNoLists')\"\n          class=\"h-96 flex items-center justify-center\"\n        />\n      </div>\n    </template>\n    <template v-else>\n      <div class=\"border-b dark:border-gray-700 flex\">\n        <Search\n          v-model=\"query\"\n          @input=\"onTokenSearch\"\n          :placeholder=\"t('searchBy')\"\n          class=\"px-4 py-3 flex-auto\"\n        />\n      </div>\n      <div class=\"overflow-hidden rounded-lg\">\n        <RecycleScroller\n          class=\"h-96 overflow-y-scroll\"\n          v-if=\"tokens?.length > 0\"\n          :items=\"tokens\"\n          :item-size=\"64\"\n          key-field=\"address\"\n          v-slot=\"{ item }\"\n          :buffer=\"100\"\n        >\n          <a @click=\"onSelectToken(item.address)\">\n            <TokenListItem :token=\"item\" />\n          </a>\n        </RecycleScroller>\n        <div\n          v-else-if=\"isTokenSelected\"\n          v-text=\"$t('tokenAlreadySelected')\"\n          class=\"h-96 flex items-center justify-center\"\n        />\n        <div v-else-if=\"loading\" class=\"h-96 flex items-center justify-center\">\n          <BalLoadingIcon />\n        </div>\n        <div v-else v-text=\"t('errorNoTokens')\" class=\"h-96 p-4\" />\n      </div>\n    </template>\n  </BalModal>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { useI18n } from 'vue-i18n';\nimport { isAddress, getAddress } from '@ethersproject/address';\nimport useTokenLists from '@/composables/useTokensStore';\n// import useTokenLists2 from '@/composables/useTokenLists2';\nimport TokenListItem from '@/components/lists/TokenListItem.vue';\nimport TokenListsListItem from '@/components/lists/TokenListsListItem.vue';\nimport Search from './Search.vue';\nimport useTokens from '@/composables/useTokens';\n\nexport default defineComponent({\n  components: {\n    TokenListItem,\n    TokenListsListItem,\n    Search\n  },\n\n  emits: ['close', 'selectTokenlist', 'select'],\n\n  props: {\n    open: { type: Boolean, default: false },\n    excludedTokens: { type: Array, default: () => [] },\n    includeEther: { type: Boolean, default: false }\n  },\n\n  setup(props, { emit }) {\n    // DATA\n    const data = reactive({\n      loading: false,\n      query: '',\n      selectTokenList: false,\n      isTokenSelected: false,\n      includeEther: props.includeEther,\n      not: props.excludedTokens,\n      queryAddress: ''\n    });\n    const {\n      lists: tokenLists,\n      toggleActiveTokenList,\n      isActiveList,\n      listMap,\n      activeTokenLists\n    } = useTokenLists();\n    const { tokens: tokenMap } = useTokens(data);\n    const tokens = computed(() => Object.values(tokenMap.value));\n    // const {\n    //   approvedTokenLists,\n    //   toggleList,\n    //   toggled: toggledTokenLists,\n    //   isToggled: isToggledList\n    // } = useTokenLists2();\n\n    // COMPOSABLES\n    const store = useStore();\n    const { t } = useI18n();\n\n    // COMPUTED\n    const title = computed(() => {\n      if (data.selectTokenList) return t('manageLists');\n      return t('selectToken');\n    });\n\n    // METHODS\n    function onTokenSearch(event): void {\n      let address = event.target.value;\n      if (isAddress(address)) {\n        address = getAddress(address);\n        data.queryAddress = address;\n        if (props.excludedTokens.includes(address)) {\n          data.loading = false;\n          data.isTokenSelected = true;\n        } else {\n          data.loading = true;\n          data.isTokenSelected = false;\n          store.dispatch('registry/injectTokens', [address.trim()]);\n        }\n      } else {\n        data.isTokenSelected = false;\n        data.loading = false;\n        data.queryAddress = '';\n      }\n    }\n\n    function onSelectToken(token: string): void {\n      emit('select', token);\n      emit('close');\n    }\n\n    function onSelectList(list: string): void {\n      store.dispatch('registry/toggleList', list);\n    }\n\n    function onListExit(): void {\n      data.selectTokenList = false;\n      data.query = '';\n    }\n\n    function toggleSelectTokenList(): void {\n      data.selectTokenList = !data.selectTokenList;\n      data.query = '';\n    }\n\n    return {\n      // data\n      ...toRefs(data),\n      t,\n      // computed\n      title,\n      tokens,\n      tokenLists,\n      listMap,\n      activeTokenLists,\n\n      // methods\n      onTokenSearch,\n      onSelectToken,\n      onSelectList,\n      onListExit,\n      toggleSelectTokenList,\n      toggleActiveTokenList,\n      isActiveList\n    };\n  }\n});\n</script>\n","<template>\n  <div\n    ref=\"animateRef\"\n    class=\"flex py-3 px-4 highlight items-center leading-5 text-base opacity-0\"\n  >\n    <BalAsset :address=\"token.address\" :size=\"34\" class=\"mr-3\" />\n    <div class=\"flex-auto\">\n      {{ token.symbol }}\n      <div class=\"text-gray text-sm w-40 md:w-60 truncate\">\n        {{ token.name }}\n      </div>\n    </div>\n    <span class=\"text-right\">\n      <template v-if=\"token.balance > 0\">\n        <template v-if=\"token.balance >= 0.0001\">\n          {{ fNum(token.balance, 'token') }}\n        </template>\n        <template v-else>\n          &#60; 0.0001\n        </template>\n      </template>\n      <template v-else>-</template>\n      <div class=\"text-gray text-sm\">\n        <template v-if=\"token.value > 0\">\n          {{ fNum(token.value, 'usd') }}\n        </template>\n        <template v-else>-</template>\n      </div>\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport useNumbers from '@/composables/useNumbers';\nimport anime from 'animejs';\nimport { onMounted, onUnmounted, ref } from '@vue/runtime-core';\n\nexport default {\n  name: 'TokenListItem',\n\n  props: {\n    token: Object\n  },\n  setup() {\n    const { fNum } = useNumbers();\n    const animateRef = ref();\n\n    onMounted(() => {\n      anime({\n        opacity: 1,\n        targets: animateRef.value,\n        delay: anime.stagger(100)\n      });\n    });\n\n    onUnmounted(() => {\n      anime({\n        opacity: 0,\n        targets: animateRef.value\n      });\n    });\n\n    return {\n      fNum,\n      animateRef,\n      console\n    };\n  }\n};\n</script>\n","\nimport useNumbers from '@/composables/useNumbers';\nimport anime from 'animejs';\nimport { onMounted, onUnmounted, ref } from '@vue/runtime-core';\n\nexport default {\n  name: 'TokenListItem',\n\n  props: {\n    token: Object\n  },\n  setup() {\n    const { fNum } = useNumbers();\n    const animateRef = ref();\n\n    onMounted(() => {\n      anime({\n        opacity: 1,\n        targets: animateRef.value,\n        delay: anime.stagger(100)\n      });\n    });\n\n    onUnmounted(() => {\n      anime({\n        opacity: 0,\n        targets: animateRef.value\n      });\n    });\n\n    return {\n      fNum,\n      animateRef,\n      console\n    };\n  }\n};\n","import { render } from \"./TokenListItem.vue?vue&type=template&id=7d999b22\"\nimport script from \"./TokenListItem.vue?vue&type=script&lang=ts\"\nexport * from \"./TokenListItem.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"flex py-3 px-4 highlight items-center leading-5 text-base\">\n    <img\n      :src=\"_url(tokenlist.logoURI)\"\n      class=\"rounded-full inline-block align-middle mr-3\"\n      width=\"34\"\n      height=\"34\"\n    />\n    <div class=\"flex-auto\">\n      {{ tokenlist.name }}\n      <div class=\"text-gray text-sm flex items-center\">\n        {{ fNum(tokenlist.tokens.length) }} {{ $t('tokensLowerCase') }}\n        <BalLink\n          :href=\"tokenlist.tokenListsURL\"\n          external\n          class=\"flex items-center\"\n        >\n          <BalIcon\n            name=\"external-link\"\n            size=\"sm\"\n            class=\"ml-1 text-gray-500 hover:text-blue-500\"\n          />\n        </BalLink>\n      </div>\n    </div>\n    <BalToggle name=\"active\" :checked=\"isActive\" @toggle=\"$emit('toggle')\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from 'vue';\nimport useNumbers from '@/composables/useNumbers';\nimport { TokenList } from '@/types/TokenList';\n\nexport default {\n  name: 'TokenListsListItem',\n\n  props: {\n    tokenlist: {\n      type: Object as PropType<TokenList>\n    },\n    isActive: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: ['toggle'],\n\n  setup() {\n    const { fNum } = useNumbers();\n\n    return {\n      fNum\n    };\n  }\n};\n</script>\n","\nimport { PropType } from 'vue';\nimport useNumbers from '@/composables/useNumbers';\nimport { TokenList } from '@/types/TokenList';\n\nexport default {\n  name: 'TokenListsListItem',\n\n  props: {\n    tokenlist: {\n      type: Object as PropType<TokenList>\n    },\n    isActive: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: ['toggle'],\n\n  setup() {\n    const { fNum } = useNumbers();\n\n    return {\n      fNum\n    };\n  }\n};\n","import { render } from \"./TokenListsListItem.vue?vue&type=template&id=315c0df6\"\nimport script from \"./TokenListsListItem.vue?vue&type=script&lang=ts\"\nexport * from \"./TokenListsListItem.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"flex items-center\">\n    <BalIcon name=\"search\" size=\"sm\" class=\"text-gray-500 mr-2\" />\n    <input\n      ref=\"searchInput\"\n      :value=\"modelValue\"\n      :placeholder=\"placeholder\"\n      @input=\"handleInput\"\n      type=\"text\"\n      autocorrect=\"off\"\n      autocapitalize=\"none\"\n      class=\"border-0 input flex-auto w-full bg-transparent\"\n    />\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['modelValue', 'placeholder'],\n\n  emits: ['update:modelValue'],\n\n  mounted() {\n    this.$refs.searchInput.focus();\n  },\n\n  methods: {\n    handleInput(e) {\n      const input = e.target.value;\n      this.$emit('update:modelValue', input);\n    }\n  }\n};\n</script>\n","import { render } from \"./Search.vue?vue&type=template&id=3fe5f611\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, reactive, toRefs, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { useI18n } from 'vue-i18n';\nimport { isAddress, getAddress } from '@ethersproject/address';\nimport useTokenLists from '@/composables/useTokensStore';\n// import useTokenLists2 from '@/composables/useTokenLists2';\nimport TokenListItem from '@/components/lists/TokenListItem.vue';\nimport TokenListsListItem from '@/components/lists/TokenListsListItem.vue';\nimport Search from './Search.vue';\nimport useTokens from '@/composables/useTokens';\n\nexport default defineComponent({\n  components: {\n    TokenListItem,\n    TokenListsListItem,\n    Search\n  },\n\n  emits: ['close', 'selectTokenlist', 'select'],\n\n  props: {\n    open: { type: Boolean, default: false },\n    excludedTokens: { type: Array, default: () => [] },\n    includeEther: { type: Boolean, default: false }\n  },\n\n  setup(props, { emit }) {\n    // DATA\n    const data = reactive({\n      loading: false,\n      query: '',\n      selectTokenList: false,\n      isTokenSelected: false,\n      includeEther: props.includeEther,\n      not: props.excludedTokens,\n      queryAddress: ''\n    });\n    const {\n      lists: tokenLists,\n      toggleActiveTokenList,\n      isActiveList,\n      listMap,\n      activeTokenLists\n    } = useTokenLists();\n    const { tokens: tokenMap } = useTokens(data);\n    const tokens = computed(() => Object.values(tokenMap.value));\n    // const {\n    //   approvedTokenLists,\n    //   toggleList,\n    //   toggled: toggledTokenLists,\n    //   isToggled: isToggledList\n    // } = useTokenLists2();\n\n    // COMPOSABLES\n    const store = useStore();\n    const { t } = useI18n();\n\n    // COMPUTED\n    const title = computed(() => {\n      if (data.selectTokenList) return t('manageLists');\n      return t('selectToken');\n    });\n\n    // METHODS\n    function onTokenSearch(event): void {\n      let address = event.target.value;\n      if (isAddress(address)) {\n        address = getAddress(address);\n        data.queryAddress = address;\n        if (props.excludedTokens.includes(address)) {\n          data.loading = false;\n          data.isTokenSelected = true;\n        } else {\n          data.loading = true;\n          data.isTokenSelected = false;\n          store.dispatch('registry/injectTokens', [address.trim()]);\n        }\n      } else {\n        data.isTokenSelected = false;\n        data.loading = false;\n        data.queryAddress = '';\n      }\n    }\n\n    function onSelectToken(token: string): void {\n      emit('select', token);\n      emit('close');\n    }\n\n    function onSelectList(list: string): void {\n      store.dispatch('registry/toggleList', list);\n    }\n\n    function onListExit(): void {\n      data.selectTokenList = false;\n      data.query = '';\n    }\n\n    function toggleSelectTokenList(): void {\n      data.selectTokenList = !data.selectTokenList;\n      data.query = '';\n    }\n\n    return {\n      // data\n      ...toRefs(data),\n      t,\n      // computed\n      title,\n      tokens,\n      tokenLists,\n      listMap,\n      activeTokenLists,\n\n      // methods\n      onTokenSearch,\n      onSelectToken,\n      onSelectList,\n      onListExit,\n      toggleSelectTokenList,\n      toggleActiveTokenList,\n      isActiveList\n    };\n  }\n});\n","import { render } from \"./SelectTokenModal.vue?vue&type=template&id=3919a817\"\nimport script from \"./SelectTokenModal.vue?vue&type=script&lang=ts\"\nexport * from \"./SelectTokenModal.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { computed, defineComponent, PropType, ref } from 'vue';\nimport SelectTokenModal from '@/components/modals/SelectTokenModal/SelectTokenModal.vue';\nimport useAccountBalances from '@/composables/useAccountBalances';\nimport { sortBy, take } from 'lodash';\nimport { TOKENS } from '@/constants/tokens';\nimport { ETHER } from '@/constants/tokenlists';\nimport { getAddress } from '@ethersproject/address';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport { TokenMap } from '@/types';\nimport useTokens from '@/composables/useTokens';\n\nexport default defineComponent({\n  name: 'TokenSearchInput',\n\n  components: {\n    SelectTokenModal\n  },\n\n  emits: ['add', 'remove'],\n\n  props: {\n    modelValue: { type: Array as PropType<string[]>, default: () => [] },\n    loading: { type: Boolean, default: true }\n  },\n\n  setup(props, { emit }) {\n    // COMPOSABLES\n    const { tokens } = useTokens();\n    const {\n      isLoading: isLoadingBalances,\n      balances,\n      isIdle: isNotFetchingBalances\n    } = useAccountBalances();\n    const { account } = useVueWeb3();\n\n    // sorted by biggest bag balance, limited to biggest 5\n    const sortedBalances = computed(() => {\n      return take(\n        sortBy(Object.values(balances.value || {}), 'balance')\n          .reverse()\n          .filter(\n            (balance: any) =>\n              !props.modelValue.includes(balance.address) &&\n              balance.address !== ETHER.address\n          ),\n        6\n      );\n    });\n\n    const hasNoBalances = computed(() => !sortedBalances.value.length);\n    const whiteListedTokens = computed(() =>\n      Object.values(tokens.value as TokenMap)\n        .filter(token => TOKENS.Popular.Symbols.includes(token.symbol))\n        .filter(balance => !props.modelValue.includes(balance.address))\n    );\n\n    // DATA\n    const selectTokenModal = ref(false);\n\n    // METHODS\n    function addToken(token: string) {\n      let _token = token;\n      // special case for ETH where we want it to filter as WETH regardless\n      // as ETH is the native asset\n      if (getAddress(token) === ETHER.address) {\n        _token = TOKENS.AddressMap.WETH;\n      }\n      // const newSelected = [...props.modelValue, _token];\n      emit('add', _token);\n    }\n\n    function onClick() {\n      if (!props.loading) selectTokenModal.value = true;\n    }\n\n    return {\n      // data\n      selectTokenModal,\n      isNotFetchingBalances,\n      isLoadingBalances,\n      balances,\n      sortedBalances,\n      account,\n      hasNoBalances,\n      whiteListedTokens,\n      // computed\n      tokens,\n      // methods\n      addToken,\n      onClick\n    };\n  }\n});\n","import { render } from \"./TokenSearchInput.vue?vue&type=template&id=06c3385e\"\nimport script from \"./TokenSearchInput.vue?vue&type=script&lang=ts\"\nexport * from \"./TokenSearchInput.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <BalCard shadow=\"lg\" class=\"mt-4\" no-pad>\n    <BalTable\n      :columns=\"columns\"\n      :data=\"data\"\n      :is-loading=\"isLoading\"\n      :is-loading-more=\"isLoadingMore\"\n      skeleton-class=\"h-64\"\n      sticky=\"both\"\n      :link=\"{\n        to: 'pool',\n        getParams: pool => ({ id: pool.id })\n      }\"\n      :on-row-click=\"handleRowClick\"\n      :is-paginated=\"isPaginated\"\n      @load-more=\"$emit('loadMore')\"\n      :initial-state=\"{\n        sortColumn: 'poolValue',\n        sortDirection: 'desc'\n      }\"\n    >\n      <template v-slot:iconColumnHeader>\n        <div class=\"flex items-center\">\n          <img :src=\"require('@/assets/images/icons/tokens.svg')\" />\n        </div>\n      </template>\n      <template v-slot:iconColumnCell=\"pool\">\n        <div v-if=\"!isLoading\" class=\"px-6 py-4\">\n          <BalAssetSet\n            :addresses=\"orderedTokenAddressesFor(pool)\"\n            :width=\"100\"\n          />\n        </div>\n      </template>\n      <template v-slot:poolNameCell=\"pool\">\n        <div v-if=\"!isLoading && !isLoadingBalances\" class=\"px-6 py-4\">\n          <TokenPills\n            :tokens=\"orderedPoolTokens(pool)\"\n            :isStablePool=\"pool.poolType === 'Stable'\"\n          />\n        </div>\n      </template>\n      <template v-slot:apyCell=\"pool\">\n        <div class=\"px-6 py-4 -mt-1 flex justify-end\">\n          {{\n            Number(pool.dynamic.apy.pool) > 10000\n              ? '-'\n              : fNum(pool.dynamic.apy.total, 'percent')\n          }}\n          <LiquidityMiningTooltip :pool=\"pool\" />\n        </div>\n      </template>\n    </BalTable>\n  </BalCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useI18n } from 'vue-i18n';\n\nimport {\n  DecoratedPoolWithShares,\n  PoolToken\n} from '@/services/balancer/subgraph/types';\n\nimport { getAddress } from '@ethersproject/address';\n\nimport useNumbers from '@/composables/useNumbers';\nimport useFathom from '@/composables/useFathom';\nimport useAccountBalances from '@/composables/useAccountBalances';\n\nimport LiquidityMiningTooltip from '@/components/tooltips/LiquidityMiningTooltip.vue';\nimport TokenPills from './TokenPills/TokenPills.vue';\n\nimport useTokens from '@/composables/useTokens';\nimport { ColumnDefinition } from '@/components/_global/BalTable/BalTable.vue';\n\nexport default defineComponent({\n  components: {\n    LiquidityMiningTooltip,\n    TokenPills\n  },\n\n  emits: ['loadMore'],\n\n  props: {\n    data: {\n      type: Array\n    },\n    isLoading: {\n      type: Boolean\n    },\n    isLoadingMore: {\n      type: Boolean,\n      default: false\n    },\n    showPoolShares: {\n      type: Boolean,\n      default: false\n    },\n    noPoolsLabel: {\n      type: String,\n      default: 'No pools'\n    },\n    isPaginated: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  setup(props) {\n    // COMPOSABLES\n    const { fNum } = useNumbers();\n    const { tokens } = useTokens();\n    const router = useRouter();\n    const { t } = useI18n();\n    const { trackGoal, Goals } = useFathom();\n    const {\n      balances,\n      hasBalance,\n      isLoading: isLoadingBalances,\n      isIdle: isBalancesQueryIdle\n    } = useAccountBalances();\n\n    // DATA\n    const columns = ref<ColumnDefinition<DecoratedPoolWithShares>[]>([\n      {\n        name: 'Icons',\n        id: 'icons',\n        accessor: 'uri',\n        Header: 'iconColumnHeader',\n        Cell: 'iconColumnCell',\n        width: 125,\n        noGrow: true\n      },\n      {\n        name: t('composition'),\n        id: 'poolName',\n        accessor: 'id',\n        Cell: 'poolNameCell',\n        width: 350\n      },\n      {\n        name: t('myBalance'),\n        accessor: pool => fNum(pool.shares, 'usd', { forcePreset: true }),\n        align: 'right',\n        id: 'myBalance',\n        hidden: !props.showPoolShares,\n        sortKey: pool => Number(pool.shares),\n        width: 150\n      },\n      {\n        name: t('poolValue'),\n        accessor: pool => fNum(pool.totalLiquidity, 'usd'),\n        align: 'right',\n        id: 'poolValue',\n        sortKey: pool => Number(pool.totalLiquidity),\n        width: 150\n      },\n      {\n        name: t('volume24h', [t('hourAbbrev')]),\n        accessor: pool => fNum(pool.dynamic.volume, 'usd'),\n        align: 'right',\n        id: 'poolVolume',\n        sortKey: pool => Number(pool.dynamic.volume),\n        width: 175\n      },\n      {\n        name: t('apy'),\n        Cell: 'apyCell',\n        accessor: pool => pool.dynamic.apy.total,\n        align: 'right',\n        id: 'poolApy',\n        sortKey: pool => Number(pool.dynamic.apy.total),\n        width: 150\n      }\n    ]);\n\n    // METHODS\n    function orderedTokenAddressesFor(pool: DecoratedPoolWithShares) {\n      const sortedTokens = orderedPoolTokens(pool);\n      return sortedTokens.map(token => getAddress(token.address));\n    }\n\n    function orderedPoolTokens(pool: DecoratedPoolWithShares): PoolToken[] {\n      if (pool.poolType === 'Stable') return pool.tokens;\n\n      const sortedTokens = pool.tokens.slice();\n      sortedTokens.sort((a, b) => parseFloat(b.weight) - parseFloat(a.weight));\n      return sortedTokens;\n    }\n\n    function handleRowClick(pool: DecoratedPoolWithShares) {\n      trackGoal(Goals.ClickPoolsTableRow);\n      router.push({ name: 'pool', params: { id: pool.id } });\n    }\n\n    return {\n      // data\n      columns,\n      tokens,\n      balances,\n      isLoadingBalances,\n      isBalancesQueryIdle,\n\n      // methods\n      handleRowClick,\n      getAddress,\n      fNum,\n      orderedTokenAddressesFor,\n      orderedPoolTokens,\n      hasBalance\n    };\n  }\n});\n</script>\n","<template v-slot:apyCell=\"pool\">\n  <BalTooltip v-if=\"pool.hasLiquidityMiningRewards\" noPad>\n    <template v-slot:activator>\n      <StarsIcon\n        class=\"ml-1 h-5 text-yellow-300\"\n        v-if=\"pool.hasLiquidityMiningRewards\"\n        v-bind=\"$attrs\"\n      />\n    </template>\n    <div class=\"text-sm divide-y\">\n      <div class=\"mb-1 px-3 pt-3\">\n        <div>{{ $t('totalAPY') }}</div>\n        <div class=\"text-lg\">\n          {{ fNum(pool.dynamic.apy.total, 'percent') }}\n        </div>\n      </div>\n      <div class=\"p-3\">\n        <div class=\"whitespace-nowrap flex items-center\">\n          {{ fNum(pool.dynamic.apy.pool, 'percent') }}\n          <span class=\"ml-1 text-gray-500 text-xs\">{{ $t('swapFeeAPY') }}</span>\n        </div>\n        <div class=\"whitespace-nowrap flex items-center\">\n          {{ fNum(pool.dynamic.apy.liquidityMining, 'percent') }}\n          <span class=\"ml-1 text-gray-500 text-xs flex items-center\">\n            {{ $t('liquidityMiningAPY') }}\n            <StarsIcon class=\"h-4 text-yellow-300\" />\n          </span>\n        </div>\n      </div>\n    </div>\n  </BalTooltip>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\n\nimport useNumbers from '@/composables/useNumbers';\nimport { DecoratedPool } from '@/services/balancer/subgraph/types';\n\nexport default defineComponent({\n  name: 'LiquidityMiningTooltip',\n\n  props: {\n    pool: {\n      type: Object as PropType<DecoratedPool>,\n      required: true\n    }\n  },\n\n  setup() {\n    const { fNum } = useNumbers();\n\n    return {\n      fNum\n    };\n  }\n});\n</script>\n","\nimport { defineComponent, PropType } from 'vue';\n\nimport useNumbers from '@/composables/useNumbers';\nimport { DecoratedPool } from '@/services/balancer/subgraph/types';\n\nexport default defineComponent({\n  name: 'LiquidityMiningTooltip',\n\n  props: {\n    pool: {\n      type: Object as PropType<DecoratedPool>,\n      required: true\n    }\n  },\n\n  setup() {\n    const { fNum } = useNumbers();\n\n    return {\n      fNum\n    };\n  }\n});\n","import { render } from \"./LiquidityMiningTooltip.vue?vue&type=template&id=295ab4f9\"\nimport script from \"./LiquidityMiningTooltip.vue?vue&type=script&lang=ts\"\nexport * from \"./LiquidityMiningTooltip.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"-mt-1 flex flex-wrap\">\n    <template v-if=\"isStablePool\">\n      <div class=\"bg-gray-100 rounded-lg flex\">\n        <StableTokenPill\n          v-for=\"(token, i) in tokens\"\n          :key=\"token\"\n          :hasBalance=\"hasBalance(token.address)\"\n          :symbol=\"symbolFor(token)\"\n          :isLast=\"tokens.length - 1 === i\"\n        />\n      </div>\n    </template>\n    <template v-else>\n      <WeightedTokenPill\n        v-for=\"token in tokens\"\n        :key=\"token.address\"\n        :hasBalance=\"hasBalance(token.address)\"\n        :symbol=\"symbolFor(token)\"\n        :weight=\"weightFor(token)\"\n      />\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport useNumbers from '@/composables/useNumbers';\nimport { PoolToken } from '@/services/balancer/subgraph/types';\nimport { defineComponent, PropType } from 'vue';\nimport { getAddress } from '@ethersproject/address';\nimport useAccountBalances from '@/composables/useAccountBalances';\nimport useTokens from '@/composables/useTokens';\nimport WeightedTokenPill from './WeightedTokenPill.vue';\nimport StableTokenPill from './StableTokenPill.vue';\n\nexport default defineComponent({\n  name: 'TokenPills',\n\n  components: {\n    WeightedTokenPill,\n    StableTokenPill\n  },\n\n  props: {\n    tokens: {\n      type: Array as PropType<PoolToken[]>,\n      required: true\n    },\n    isStablePool: { type: Boolean, required: true }\n  },\n\n  setup() {\n    // COMPOSABLES\n    const { fNum } = useNumbers();\n    const { hasBalance } = useAccountBalances();\n    const { tokens } = useTokens();\n\n    // METHODS\n    function symbolFor(token: PoolToken): string {\n      return tokens.value[getAddress(token.address)]?.symbol;\n    }\n\n    function weightFor(token: PoolToken): string {\n      return fNum(token.weight, 'percent_lg');\n    }\n\n    return {\n      // methods\n      symbolFor,\n      weightFor,\n      hasBalance\n    };\n  }\n});\n</script>\n","<template>\n  <div\n    class=\"flex items-center px-2 mr-2 my-1 py-1 rounded-lg bg-gray-100 relative\"\n  >\n    <div\n      v-if=\"hasBalance\"\n      class=\"w-3 h-3 rounded-full border-2 border-white group-hover:border-gray-50 bg-green-200 absolute top-0 right-0 -mt-1 -mr-1\"\n    />\n    <span>\n      {{ symbol }}\n    </span>\n    <span class=\"font-medium text-gray-400 text-xs mt-px ml-1\">\n      {{ weight }}\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'WeightedTokenPill',\n\n  props: {\n    hasBalance: { type: Boolean, default: false },\n    symbol: { type: String, required: true },\n    weight: { type: String, required: true }\n  }\n});\n</script>\n","\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'WeightedTokenPill',\n\n  props: {\n    hasBalance: { type: Boolean, default: false },\n    symbol: { type: String, required: true },\n    weight: { type: String, required: true }\n  }\n});\n","import { render } from \"./WeightedTokenPill.vue?vue&type=template&id=20b12a78\"\nimport script from \"./WeightedTokenPill.vue?vue&type=script&lang=ts\"\nexport * from \"./WeightedTokenPill.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"flex relative\">\n    <div\n      v-if=\"hasBalance\"\n      class=\"w-3 h-3 rounded-full border-2 border-white group-hover:border-gray-50 bg-green-200 absolute top-0 right-0 -mt-1 -mr-1\"\n    />\n    <div class=\"px-2 py-1\">\n      {{ symbol }}\n    </div>\n    <div class=\"relative\">\n      <div\n        v-if=\"!isLast\"\n        class=\"absolute w-1 h-10 -mt-1 -ml-px bg-white group-hover:bg-gray-50 transform rotate-12\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'StableTokenPill',\n\n  props: {\n    hasBalance: { type: Boolean, default: false },\n    symbol: { type: String, required: true },\n    isLast: { type: Boolean, default: false }\n  }\n});\n</script>\n","\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'StableTokenPill',\n\n  props: {\n    hasBalance: { type: Boolean, default: false },\n    symbol: { type: String, required: true },\n    isLast: { type: Boolean, default: false }\n  }\n});\n","import { render } from \"./StableTokenPill.vue?vue&type=template&id=4f2f5bd6\"\nimport script from \"./StableTokenPill.vue?vue&type=script&lang=ts\"\nexport * from \"./StableTokenPill.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport useNumbers from '@/composables/useNumbers';\nimport { PoolToken } from '@/services/balancer/subgraph/types';\nimport { defineComponent, PropType } from 'vue';\nimport { getAddress } from '@ethersproject/address';\nimport useAccountBalances from '@/composables/useAccountBalances';\nimport useTokens from '@/composables/useTokens';\nimport WeightedTokenPill from './WeightedTokenPill.vue';\nimport StableTokenPill from './StableTokenPill.vue';\n\nexport default defineComponent({\n  name: 'TokenPills',\n\n  components: {\n    WeightedTokenPill,\n    StableTokenPill\n  },\n\n  props: {\n    tokens: {\n      type: Array as PropType<PoolToken[]>,\n      required: true\n    },\n    isStablePool: { type: Boolean, required: true }\n  },\n\n  setup() {\n    // COMPOSABLES\n    const { fNum } = useNumbers();\n    const { hasBalance } = useAccountBalances();\n    const { tokens } = useTokens();\n\n    // METHODS\n    function symbolFor(token: PoolToken): string {\n      return tokens.value[getAddress(token.address)]?.symbol;\n    }\n\n    function weightFor(token: PoolToken): string {\n      return fNum(token.weight, 'percent_lg');\n    }\n\n    return {\n      // methods\n      symbolFor,\n      weightFor,\n      hasBalance\n    };\n  }\n});\n","import { render } from \"./TokenPills.vue?vue&type=template&id=6857e2a0\"\nimport script from \"./TokenPills.vue?vue&type=script&lang=ts\"\nexport * from \"./TokenPills.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useI18n } from 'vue-i18n';\n\nimport {\n  DecoratedPoolWithShares,\n  PoolToken\n} from '@/services/balancer/subgraph/types';\n\nimport { getAddress } from '@ethersproject/address';\n\nimport useNumbers from '@/composables/useNumbers';\nimport useFathom from '@/composables/useFathom';\nimport useAccountBalances from '@/composables/useAccountBalances';\n\nimport LiquidityMiningTooltip from '@/components/tooltips/LiquidityMiningTooltip.vue';\nimport TokenPills from './TokenPills/TokenPills.vue';\n\nimport useTokens from '@/composables/useTokens';\nimport { ColumnDefinition } from '@/components/_global/BalTable/BalTable.vue';\n\nexport default defineComponent({\n  components: {\n    LiquidityMiningTooltip,\n    TokenPills\n  },\n\n  emits: ['loadMore'],\n\n  props: {\n    data: {\n      type: Array\n    },\n    isLoading: {\n      type: Boolean\n    },\n    isLoadingMore: {\n      type: Boolean,\n      default: false\n    },\n    showPoolShares: {\n      type: Boolean,\n      default: false\n    },\n    noPoolsLabel: {\n      type: String,\n      default: 'No pools'\n    },\n    isPaginated: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  setup(props) {\n    // COMPOSABLES\n    const { fNum } = useNumbers();\n    const { tokens } = useTokens();\n    const router = useRouter();\n    const { t } = useI18n();\n    const { trackGoal, Goals } = useFathom();\n    const {\n      balances,\n      hasBalance,\n      isLoading: isLoadingBalances,\n      isIdle: isBalancesQueryIdle\n    } = useAccountBalances();\n\n    // DATA\n    const columns = ref<ColumnDefinition<DecoratedPoolWithShares>[]>([\n      {\n        name: 'Icons',\n        id: 'icons',\n        accessor: 'uri',\n        Header: 'iconColumnHeader',\n        Cell: 'iconColumnCell',\n        width: 125,\n        noGrow: true\n      },\n      {\n        name: t('composition'),\n        id: 'poolName',\n        accessor: 'id',\n        Cell: 'poolNameCell',\n        width: 350\n      },\n      {\n        name: t('myBalance'),\n        accessor: pool => fNum(pool.shares, 'usd', { forcePreset: true }),\n        align: 'right',\n        id: 'myBalance',\n        hidden: !props.showPoolShares,\n        sortKey: pool => Number(pool.shares),\n        width: 150\n      },\n      {\n        name: t('poolValue'),\n        accessor: pool => fNum(pool.totalLiquidity, 'usd'),\n        align: 'right',\n        id: 'poolValue',\n        sortKey: pool => Number(pool.totalLiquidity),\n        width: 150\n      },\n      {\n        name: t('volume24h', [t('hourAbbrev')]),\n        accessor: pool => fNum(pool.dynamic.volume, 'usd'),\n        align: 'right',\n        id: 'poolVolume',\n        sortKey: pool => Number(pool.dynamic.volume),\n        width: 175\n      },\n      {\n        name: t('apy'),\n        Cell: 'apyCell',\n        accessor: pool => pool.dynamic.apy.total,\n        align: 'right',\n        id: 'poolApy',\n        sortKey: pool => Number(pool.dynamic.apy.total),\n        width: 150\n      }\n    ]);\n\n    // METHODS\n    function orderedTokenAddressesFor(pool: DecoratedPoolWithShares) {\n      const sortedTokens = orderedPoolTokens(pool);\n      return sortedTokens.map(token => getAddress(token.address));\n    }\n\n    function orderedPoolTokens(pool: DecoratedPoolWithShares): PoolToken[] {\n      if (pool.poolType === 'Stable') return pool.tokens;\n\n      const sortedTokens = pool.tokens.slice();\n      sortedTokens.sort((a, b) => parseFloat(b.weight) - parseFloat(a.weight));\n      return sortedTokens;\n    }\n\n    function handleRowClick(pool: DecoratedPoolWithShares) {\n      trackGoal(Goals.ClickPoolsTableRow);\n      router.push({ name: 'pool', params: { id: pool.id } });\n    }\n\n    return {\n      // data\n      columns,\n      tokens,\n      balances,\n      isLoadingBalances,\n      isBalancesQueryIdle,\n\n      // methods\n      handleRowClick,\n      getAddress,\n      fNum,\n      orderedTokenAddressesFor,\n      orderedPoolTokens,\n      hasBalance\n    };\n  }\n});\n","import { render } from \"./PoolsTable.vue?vue&type=template&id=495d7750\"\nimport script from \"./PoolsTable.vue?vue&type=script&lang=ts\"\nexport * from \"./PoolsTable.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { ref } from 'vue';\n\n// STATE\nconst selectedTokens = ref<string[]>([]);\n\nexport default function usePoolFilters() {\n  function setSelectedTokens(addresses: string[]): void {\n    selectedTokens.value = addresses;\n  }\n\n  function addSelectedToken(address: string): void {\n    selectedTokens.value.push(address);\n  }\n\n  function removeSelectedToken(address: string): void {\n    const tokenIndex = selectedTokens.value.indexOf(address);\n    selectedTokens.value.splice(tokenIndex, 1);\n  }\n\n  return {\n    // state\n    selectedTokens,\n    // methods\n    setSelectedTokens,\n    addSelectedToken,\n    removeSelectedToken\n  };\n}\n","\nimport { defineComponent, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { getAddress } from '@ethersproject/address';\n\nimport { EXTERNAL_LINKS } from '@/constants/links';\n\nimport TokenSearchInput from '@/components/inputs/TokenSearchInput.vue';\n\nimport PoolsTable from '@/components/tables/PoolsTable/PoolsTable.vue';\n\nimport usePools from '@/composables/pools/usePools';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport usePoolFilters from '@/composables/pools/usePoolFilters';\n\nexport default defineComponent({\n  components: {\n    TokenSearchInput,\n    PoolsTable\n  },\n\n  setup() {\n    // COMPOSABLES\n    const router = useRouter();\n    const { isWalletReady, isV1Supported } = useVueWeb3();\n    const {\n      selectedTokens,\n      addSelectedToken,\n      removeSelectedToken\n    } = usePoolFilters();\n\n    const {\n      pools,\n      userPools,\n      isLoadingPools,\n      isLoadingUserPools,\n      loadMorePools,\n      poolsHasNextPage,\n      poolsIsFetchingNextPage\n    } = usePools(selectedTokens);\n\n    // COMPUTED\n    const filteredPools = computed(() =>\n      selectedTokens.value.length > 0\n        ? pools.value?.filter(pool => {\n            const poolTokenList = pool.tokensList.map(getAddress);\n\n            return selectedTokens.value.every((selectedToken: string) =>\n              poolTokenList.includes(selectedToken)\n            );\n          })\n        : pools?.value\n    );\n\n    const hideV1Links = computed(() => !isV1Supported);\n\n    return {\n      // data\n      filteredPools,\n      userPools,\n      isLoadingPools,\n      isLoadingUserPools,\n\n      // computed\n      isWalletReady,\n      hideV1Links,\n      poolsHasNextPage,\n      poolsIsFetchingNextPage,\n      selectedTokens,\n\n      //methods\n      router,\n      loadMorePools,\n      addSelectedToken,\n      removeSelectedToken,\n\n      // constants\n      EXTERNAL_LINKS\n    };\n  }\n});\n","import { render } from \"./Home.vue?vue&type=template&id=7a1368f9\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"container mx-auto px-4 lg:px-0 pt-8\">\n    <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-y-8 gap-x-0 lg:gap-x-8\">\n      <div class=\"col-span-2\">\n        <BalLoadingBlock v-if=\"loadingPool\" class=\"h-16\" />\n        <div v-else class=\"flex flex-col\">\n          <div class=\"flex flex-wrap items-center -mt-2\">\n            <h3 class=\"font-bold mr-4 capitalize mt-2\">\n              {{ poolTypeLabel }}\n            </h3>\n            <div\n              v-for=\"([address, tokenMeta], i) in titleTokens\"\n              :key=\"i\"\n              class=\"mt-2 mr-2 flex items-center px-2 h-10 bg-gray-50 rounded-lg\"\n            >\n              <BalAsset :address=\"address\" :size=\"24\" />\n              <span class=\"ml-2\">\n                {{ tokenMeta.symbol }}\n              </span>\n              <span\n                v-if=\"!isStablePool\"\n                class=\"font-medium text-gray-400 text-xs mt-px ml-1\"\n              >\n                {{ fNum(tokenMeta.weight, 'percent_lg') }}\n              </span>\n            </div>\n            <LiquidityMiningTooltip :pool=\"pool\" class=\"-ml-1 mt-2\" />\n          </div>\n          <div class=\"flex items-center mt-2\">\n            <div v-html=\"poolFeeLabel\" class=\"text-sm text-gray-600\" />\n            <BalTooltip>\n              <template v-slot:activator>\n                <BalLink\n                  v-if=\"feesManagedByGauntlet\"\n                  :href=\"EXTERNAL_LINKS.Gauntlet.Home\"\n                  external\n                >\n                  <GauntletIcon class=\"ml-2\" />\n                </BalLink>\n                <BalIcon\n                  v-else\n                  name=\"info\"\n                  size=\"xs\"\n                  class=\"text-gray-400 ml-2\"\n                />\n              </template>\n              <div class=\"w-52\">\n                <span>\n                  {{ swapFeeToolTip }}\n                </span>\n              </div>\n            </BalTooltip>\n          </div>\n        </div>\n\n        <BalAlert\n          v-if=\"!appLoading && missingPrices\"\n          type=\"warning\"\n          :title=\"$t('noPriceInfo')\"\n          size=\"sm\"\n          class=\"mt-2\"\n        />\n        <BalAlert\n          v-if=\"!appLoading && noInitLiquidity\"\n          type=\"warning\"\n          :title=\"$t('noInitLiquidity')\"\n          :description=\"$t('noInitLiquidityDetail')\"\n          size=\"sm\"\n          class=\"mt-2\"\n        />\n      </div>\n\n      <div class=\"hidden lg:block\" />\n\n      <div class=\"col-span-2 order-2 lg:order-1\">\n        <div class=\"grid grid-cols-1 gap-y-8\">\n          <PoolChart\n            :prices=\"historicalPrices\"\n            :snapshots=\"snapshots\"\n            :loading=\"isLoadingSnapshots\"\n          />\n\n          <PoolStatCards :pool=\"pool\" :loading=\"loadingPool\" />\n\n          <div>\n            <h4 v-text=\"$t('poolComposition')\" class=\"mb-4\" />\n            <PoolBalancesCard :pool=\"pool\" :loading=\"loadingPool\" />\n          </div>\n\n          <div>\n            <h4 v-text=\"$t('poolTransactions')\" class=\"mb-4\" />\n            <PoolActivitiesCard :pool=\"pool\" :loading=\"loadingPool\" />\n          </div>\n        </div>\n      </div>\n\n      <div class=\"order-1 lg:order-2\">\n        <BalLoadingBlock v-if=\"loadingPool\" class=\"h-96 sticky top-24\" />\n        <PoolActionsCard\n          v-else-if=\"!noInitLiquidity\"\n          :pool=\"pool\"\n          :missing-prices=\"missingPrices\"\n          @on-tx=\"onNewTx\"\n          class=\"sticky top-24\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs, computed, watch } from 'vue';\nimport * as PoolPageComponents from '@/components/pages/pool';\nimport GauntletIcon from '@/components/images/icons/GauntletIcon.vue';\nimport LiquidityMiningTooltip from '@/components/tooltips/LiquidityMiningTooltip.vue';\n\nimport { useStore } from 'vuex';\nimport { useI18n } from 'vue-i18n';\nimport { useRoute } from 'vue-router';\nimport { useQueryClient } from 'vue-query';\n\nimport useNumbers from '@/composables/useNumbers';\nimport usePoolQuery from '@/composables/queries/usePoolQuery';\nimport usePoolSnapshotsQuery from '@/composables/queries/usePoolSnapshotsQuery';\nimport { useRouter } from 'vue-router';\n\nimport { POOLS_ROOT_KEY } from '@/constants/queryKeys';\nimport { POOLS } from '@/constants/pools';\nimport { EXTERNAL_LINKS } from '@/constants/links';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\ninterface PoolPageData {\n  id: string;\n  refetchQueriesOnBlockNumber: number;\n}\n\nconst REFETCH_QUERIES_BLOCK_BUFFER = 3;\n\nexport default defineComponent({\n  components: {\n    ...PoolPageComponents,\n    GauntletIcon,\n    LiquidityMiningTooltip\n  },\n\n  setup() {\n    // COMPOSABLES\n    const store = useStore();\n    const router = useRouter();\n    const { t } = useI18n();\n    const route = useRoute();\n    const { fNum } = useNumbers();\n    const { isWalletReady } = useVueWeb3();\n    const queryClient = useQueryClient();\n    const poolQuery = usePoolQuery(route.params.id as string);\n    const poolSnapshotsQuery = usePoolSnapshotsQuery(\n      route.params.id as string,\n      30\n    );\n\n    const { blockNumber } = useVueWeb3();\n\n    // DATA\n    const data = reactive<PoolPageData>({\n      id: route.params.id as string,\n      refetchQueriesOnBlockNumber: 0\n    });\n\n    // COMPUTED\n    const appLoading = computed(() => store.state.app.loading);\n\n    const pool = computed(() => poolQuery.data.value);\n\n    const noInitLiquidity = computed(\n      () =>\n        !loadingPool.value &&\n        pool.value &&\n        Number(pool.value.onchain.totalSupply) === 0\n    );\n\n    const communityManagedFees = computed(\n      () => pool.value?.owner == POOLS.DelegateOwner\n    );\n    const feesManagedByGauntlet = computed(\n      () =>\n        communityManagedFees.value &&\n        POOLS.DynamicFees.Gauntlet.includes(data.id)\n    );\n    const feesFixed = computed(() => pool.value?.owner == POOLS.ZeroAddress);\n    const swapFeeToolTip = computed(() => {\n      if (feesManagedByGauntlet.value) {\n        return t('feesManagedByGauntlet');\n      } else if (communityManagedFees.value) {\n        return t('delegateFeesTooltip');\n      } else if (feesFixed.value) {\n        return t('fixedFeesTooltip');\n      } else {\n        return t('ownerFeesTooltip');\n      }\n    });\n\n    const loadingPool = computed(\n      () =>\n        poolQuery.isLoading.value ||\n        poolQuery.isIdle.value ||\n        poolQuery.error.value\n    );\n\n    const snapshots = computed(() => poolSnapshotsQuery.data.value?.snapshots);\n    const historicalPrices = computed(\n      () => poolSnapshotsQuery.data.value?.prices\n    );\n    const isLoadingSnapshots = computed(\n      () =>\n        poolSnapshotsQuery.isLoading.value || poolSnapshotsQuery.isIdle.value\n    );\n\n    const titleTokens = computed(() => {\n      if (!pool.value) return [];\n\n      return Object.entries(pool.value.onchain.tokens).sort(\n        ([, a]: any[], [, b]: any[]) => b.weight - a.weight\n      );\n    });\n\n    const poolTypeLabel = computed(() => {\n      if (!pool.value) return '';\n      const key = POOLS.Factories[pool.value.factory];\n\n      return key ? t(key) : t('unknownPoolType');\n    });\n\n    const isStablePool = computed(() => pool.value?.poolType === 'Stable');\n\n    const poolFeeLabel = computed(() => {\n      if (!pool.value) return '';\n      const feeLabel = fNum(pool.value.onchain.swapFee, 'percent');\n\n      if (feesFixed.value) {\n        return t('fixedSwapFeeLabel', [feeLabel]);\n      } else if (communityManagedFees.value) {\n        return feesManagedByGauntlet.value\n          ? t('dynamicSwapFeeLabel', [feeLabel])\n          : t('communitySwapFeeLabel', [feeLabel]);\n      }\n\n      // Must be owner-controlled\n      return t('dynamicSwapFeeLabel', [feeLabel]);\n    });\n\n    const missingPrices = computed(() => {\n      if (pool.value) {\n        const tokensWithPrice = Object.keys(store.state.market.prices);\n        return !pool.value.tokensList.every(token =>\n          tokensWithPrice.includes(token)\n        );\n      }\n      return false;\n    });\n\n    // METHODS\n    function onNewTx(): void {\n      queryClient.invalidateQueries([POOLS_ROOT_KEY, 'current', data.id]);\n      data.refetchQueriesOnBlockNumber =\n        blockNumber.value + REFETCH_QUERIES_BLOCK_BUFFER;\n    }\n\n    // WATCHERS\n    watch(blockNumber, () => {\n      if (data.refetchQueriesOnBlockNumber === blockNumber.value) {\n        queryClient.invalidateQueries([POOLS_ROOT_KEY]);\n      } else {\n        poolQuery.refetch.value();\n      }\n    });\n\n    watch(poolQuery.error, () => {\n      router.push({ name: 'home' });\n    });\n\n    return {\n      // data\n      ...toRefs(data),\n      EXTERNAL_LINKS,\n      // computed\n      appLoading,\n      pool,\n      noInitLiquidity,\n      poolTypeLabel,\n      poolFeeLabel,\n      historicalPrices,\n      snapshots,\n      isLoadingSnapshots,\n      loadingPool,\n      titleTokens,\n      isWalletReady,\n      missingPrices,\n      feesManagedByGauntlet,\n      swapFeeToolTip,\n      isStablePool,\n      // methods\n      fNum,\n      onNewTx\n    };\n  }\n});\n</script>\n","<template>\n  <BalLoadingBlock v-if=\"loading || appLoading\" class=\"h-96\" />\n  <div class=\"chart mr-n2 ml-n2\" v-else-if=\"nonEmptySnapshots.length >= 7\">\n    <BalLineChart\n      :data=\"series\"\n      :isPeriodSelectionEnabled=\"false\"\n      :axisLabelFormatter=\"{ yAxis: '0.00%' }\"\n      :color=\"chartColors\"\n      height=\"96\"\n      :showLegend=\"true\"\n      :legendState=\"{ HODL: false }\"\n      hide-y-axis\n    />\n  </div>\n  <BalBlankSlate v-else class=\"h-96\">\n    <BalIcon name=\"bar-chart\" />\n    {{ $t('insufficientData') }}\n  </BalBlankSlate>\n</template>\n\n<script lang=\"ts\">\nimport { PropType, defineComponent, toRefs, computed, Ref } from 'vue';\n\nimport { useI18n } from 'vue-i18n';\nimport { useStore } from 'vuex';\nimport { zip } from 'lodash';\nimport { fromUnixTime, format } from 'date-fns';\nimport { PoolSnapshots } from '@/services/balancer/subgraph/types';\nimport useTailwind from '@/composables/useTailwind';\n\ninterface HistoryItem {\n  timestamp: number;\n  price: number[];\n  amounts: string[];\n  totalShares: string;\n}\n\nexport default defineComponent({\n  name: 'PoolChart',\n\n  props: {\n    prices: {\n      type: Object as PropType<Record<string, number[]>>,\n      required: true\n    },\n    snapshots: {\n      type: Object as PropType<PoolSnapshots>,\n      required: true\n    },\n    loading: { type: Boolean, default: true }\n  },\n\n  setup(props) {\n    const store = useStore();\n    const { t } = useI18n();\n\n    const {\n      prices,\n      snapshots\n    }: {\n      prices: Ref<Record<string, number[]>>;\n      snapshots: Ref<PoolSnapshots>;\n    } = toRefs(props);\n\n    const appLoading = computed(() => store.state.app.loading);\n    const tailwind = useTailwind();\n    const chartColors = [\n      tailwind.theme.colors.green['400'],\n      tailwind.theme.colors.black\n    ];\n\n    const nonEmptySnapshots = computed(() => {\n      if (!history.value || !history.value) return [];\n      return history.value.filter((state: any) => state.totalShares !== '0');\n    });\n\n    function getPoolValue(amounts: string[], prices: number[]) {\n      const values = amounts.map((amount, index) => {\n        const price = prices[index];\n        return price * parseFloat(amount);\n      });\n      return values.reduce((total, value) => total + value, 0);\n    }\n\n    const history = computed(() => {\n      if (!prices || !prices.value || Object.values(prices.value).length === 0)\n        return [];\n      if (!snapshots || !snapshots.value) return [];\n\n      const defaultState = {\n        amounts: ['0', '0'],\n        totalShares: '0'\n      };\n\n      const history = Object.keys(prices.value).map(timestamp => {\n        if (!prices.value || !snapshots.value) return [];\n        const price = prices.value[timestamp];\n        const state = snapshots.value[timestamp]\n          ? snapshots.value[timestamp]\n          : defaultState;\n\n        const amounts: string[] = state.amounts;\n        const totalShares: string = state.totalShares;\n        return {\n          timestamp: parseInt(timestamp),\n          price,\n          amounts,\n          totalShares\n        };\n      });\n      return history;\n    });\n\n    const timestamps = computed(() => {\n      if (!nonEmptySnapshots.value || nonEmptySnapshots.value.length === 0)\n        return [];\n      return nonEmptySnapshots.value.map((state: any) =>\n        format(fromUnixTime(state.timestamp / 1000), 'yyyy/MM/dd')\n      );\n    });\n\n    const holdValues = computed(() => {\n      if (!nonEmptySnapshots.value || nonEmptySnapshots.value.length === 0) {\n        return [];\n      }\n      const firstState: any = nonEmptySnapshots.value[0];\n      const firstValue = getPoolValue(firstState.amounts, firstState.price);\n      const values = history.value\n        .filter((state: any) => state.totalShares !== '0')\n        .map((state: any) => {\n          if (state.timestamp < firstState.timestamp) {\n            return 0;\n          }\n          const currentValue = getPoolValue(firstState.amounts, state.price);\n          return currentValue / firstValue - 1;\n        });\n      return values;\n    });\n\n    const bptValues = computed(() => {\n      if (!nonEmptySnapshots.value || nonEmptySnapshots.value.length === 0) {\n        return [];\n      }\n      const firstState: any = nonEmptySnapshots.value[0];\n      const firstValue = getPoolValue(firstState.amounts, firstState.price);\n      const firstShares = parseFloat(firstState.totalShares);\n      const firstValuePerBpt = firstValue / firstShares;\n      const values = history.value\n        .filter((state: any) => state.totalShares !== '0')\n        .map((state: any) => {\n          if (state.timestamp < firstState.timestamp) {\n            return 0;\n          }\n          const currentValue = getPoolValue(state.amounts, state.price);\n          const currentShares = parseFloat(state.totalShares);\n          const currentValuePerBpt = currentValue / currentShares;\n          return currentValuePerBpt / firstValuePerBpt - 1;\n        });\n      return values;\n    });\n\n    const series = computed(() => [\n      {\n        name: t('poolReturns'),\n        values: zip(timestamps.value, bptValues.value)\n      },\n      {\n        name: 'HODL',\n        values: zip(timestamps.value, holdValues.value)\n      }\n    ]);\n\n    return {\n      series,\n      appLoading,\n      nonEmptySnapshots,\n      chartColors\n    };\n  }\n});\n</script>\n","\nimport { PropType, defineComponent, toRefs, computed, Ref } from 'vue';\n\nimport { useI18n } from 'vue-i18n';\nimport { useStore } from 'vuex';\nimport { zip } from 'lodash';\nimport { fromUnixTime, format } from 'date-fns';\nimport { PoolSnapshots } from '@/services/balancer/subgraph/types';\nimport useTailwind from '@/composables/useTailwind';\n\ninterface HistoryItem {\n  timestamp: number;\n  price: number[];\n  amounts: string[];\n  totalShares: string;\n}\n\nexport default defineComponent({\n  name: 'PoolChart',\n\n  props: {\n    prices: {\n      type: Object as PropType<Record<string, number[]>>,\n      required: true\n    },\n    snapshots: {\n      type: Object as PropType<PoolSnapshots>,\n      required: true\n    },\n    loading: { type: Boolean, default: true }\n  },\n\n  setup(props) {\n    const store = useStore();\n    const { t } = useI18n();\n\n    const {\n      prices,\n      snapshots\n    }: {\n      prices: Ref<Record<string, number[]>>;\n      snapshots: Ref<PoolSnapshots>;\n    } = toRefs(props);\n\n    const appLoading = computed(() => store.state.app.loading);\n    const tailwind = useTailwind();\n    const chartColors = [\n      tailwind.theme.colors.green['400'],\n      tailwind.theme.colors.black\n    ];\n\n    const nonEmptySnapshots = computed(() => {\n      if (!history.value || !history.value) return [];\n      return history.value.filter((state: any) => state.totalShares !== '0');\n    });\n\n    function getPoolValue(amounts: string[], prices: number[]) {\n      const values = amounts.map((amount, index) => {\n        const price = prices[index];\n        return price * parseFloat(amount);\n      });\n      return values.reduce((total, value) => total + value, 0);\n    }\n\n    const history = computed(() => {\n      if (!prices || !prices.value || Object.values(prices.value).length === 0)\n        return [];\n      if (!snapshots || !snapshots.value) return [];\n\n      const defaultState = {\n        amounts: ['0', '0'],\n        totalShares: '0'\n      };\n\n      const history = Object.keys(prices.value).map(timestamp => {\n        if (!prices.value || !snapshots.value) return [];\n        const price = prices.value[timestamp];\n        const state = snapshots.value[timestamp]\n          ? snapshots.value[timestamp]\n          : defaultState;\n\n        const amounts: string[] = state.amounts;\n        const totalShares: string = state.totalShares;\n        return {\n          timestamp: parseInt(timestamp),\n          price,\n          amounts,\n          totalShares\n        };\n      });\n      return history;\n    });\n\n    const timestamps = computed(() => {\n      if (!nonEmptySnapshots.value || nonEmptySnapshots.value.length === 0)\n        return [];\n      return nonEmptySnapshots.value.map((state: any) =>\n        format(fromUnixTime(state.timestamp / 1000), 'yyyy/MM/dd')\n      );\n    });\n\n    const holdValues = computed(() => {\n      if (!nonEmptySnapshots.value || nonEmptySnapshots.value.length === 0) {\n        return [];\n      }\n      const firstState: any = nonEmptySnapshots.value[0];\n      const firstValue = getPoolValue(firstState.amounts, firstState.price);\n      const values = history.value\n        .filter((state: any) => state.totalShares !== '0')\n        .map((state: any) => {\n          if (state.timestamp < firstState.timestamp) {\n            return 0;\n          }\n          const currentValue = getPoolValue(firstState.amounts, state.price);\n          return currentValue / firstValue - 1;\n        });\n      return values;\n    });\n\n    const bptValues = computed(() => {\n      if (!nonEmptySnapshots.value || nonEmptySnapshots.value.length === 0) {\n        return [];\n      }\n      const firstState: any = nonEmptySnapshots.value[0];\n      const firstValue = getPoolValue(firstState.amounts, firstState.price);\n      const firstShares = parseFloat(firstState.totalShares);\n      const firstValuePerBpt = firstValue / firstShares;\n      const values = history.value\n        .filter((state: any) => state.totalShares !== '0')\n        .map((state: any) => {\n          if (state.timestamp < firstState.timestamp) {\n            return 0;\n          }\n          const currentValue = getPoolValue(state.amounts, state.price);\n          const currentShares = parseFloat(state.totalShares);\n          const currentValuePerBpt = currentValue / currentShares;\n          return currentValuePerBpt / firstValuePerBpt - 1;\n        });\n      return values;\n    });\n\n    const series = computed(() => [\n      {\n        name: t('poolReturns'),\n        values: zip(timestamps.value, bptValues.value)\n      },\n      {\n        name: 'HODL',\n        values: zip(timestamps.value, holdValues.value)\n      }\n    ]);\n\n    return {\n      series,\n      appLoading,\n      nonEmptySnapshots,\n      chartColors\n    };\n  }\n});\n","import { render } from \"./PoolChart.vue?vue&type=template&id=1e11f891\"\nimport script from \"./PoolChart.vue?vue&type=script&lang=ts\"\nexport * from \"./PoolChart.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4\">\n    <template v-if=\"loading\">\n      <BalLoadingBlock v-for=\"n in 4\" :key=\"n\" class=\"h-24\" />\n    </template>\n    <template v-else>\n      <BalCard v-for=\"(stat, i) in stats\" :key=\"i\">\n        <div class=\"text-xs uppercase text-gray-500 font-medium mb-3\">\n          {{ stat.label }}\n        </div>\n        <div class=\"text-xl font-medium truncate flex items-center\">\n          {{ stat.value }}\n          <LiquidityMiningTooltip :pool=\"pool\" v-if=\"stat.id === 'apy'\" />\n        </div>\n      </BalCard>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType, defineComponent, computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\n\nimport useNumbers from '@/composables/useNumbers';\n\nimport { DecoratedPool } from '@/services/balancer/subgraph/types';\n\nimport LiquidityMiningTooltip from '@/components/tooltips/LiquidityMiningTooltip.vue';\n\nexport default defineComponent({\n  components: {\n    LiquidityMiningTooltip\n  },\n\n  props: {\n    pool: { type: Object as PropType<DecoratedPool> },\n    loading: { type: Boolean, default: true }\n  },\n\n  setup(props) {\n    // COMPOSABLES\n    const { fNum } = useNumbers();\n    const { t } = useI18n();\n\n    // COMPUTED\n    const stats = computed(() => {\n      if (!props.pool) return [];\n\n      return [\n        {\n          id: 'poolValue',\n          label: t('poolValue'),\n          value: fNum(props.pool.totalLiquidity, 'usd')\n        },\n        {\n          id: 'volumeTime',\n          label: t('volumeTime', ['24h']),\n          value: fNum(props.pool.dynamic.volume, 'usd')\n        },\n        {\n          id: 'feesTime',\n          label: t('feesTime', ['24h']),\n          value: fNum(props.pool.dynamic.fees, 'usd')\n        },\n        {\n          id: 'apy',\n          label: 'APY',\n          value: fNum(props.pool.dynamic.apy.total, 'percent')\n        }\n      ];\n    });\n\n    return {\n      stats\n    };\n  }\n});\n</script>\n","\nimport { PropType, defineComponent, computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\n\nimport useNumbers from '@/composables/useNumbers';\n\nimport { DecoratedPool } from '@/services/balancer/subgraph/types';\n\nimport LiquidityMiningTooltip from '@/components/tooltips/LiquidityMiningTooltip.vue';\n\nexport default defineComponent({\n  components: {\n    LiquidityMiningTooltip\n  },\n\n  props: {\n    pool: { type: Object as PropType<DecoratedPool> },\n    loading: { type: Boolean, default: true }\n  },\n\n  setup(props) {\n    // COMPOSABLES\n    const { fNum } = useNumbers();\n    const { t } = useI18n();\n\n    // COMPUTED\n    const stats = computed(() => {\n      if (!props.pool) return [];\n\n      return [\n        {\n          id: 'poolValue',\n          label: t('poolValue'),\n          value: fNum(props.pool.totalLiquidity, 'usd')\n        },\n        {\n          id: 'volumeTime',\n          label: t('volumeTime', ['24h']),\n          value: fNum(props.pool.dynamic.volume, 'usd')\n        },\n        {\n          id: 'feesTime',\n          label: t('feesTime', ['24h']),\n          value: fNum(props.pool.dynamic.fees, 'usd')\n        },\n        {\n          id: 'apy',\n          label: 'APY',\n          value: fNum(props.pool.dynamic.apy.total, 'percent')\n        }\n      ];\n    });\n\n    return {\n      stats\n    };\n  }\n});\n","import { render } from \"./PoolStatCards.vue?vue&type=template&id=d2792bfa\"\nimport script from \"./PoolStatCards.vue?vue&type=script&lang=ts\"\nexport * from \"./PoolStatCards.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <BalCard class=\"overflow-x-auto whitespace-nowrap\" no-pad>\n    <BalTable\n      :columns=\"columns\"\n      :data=\"tableData\"\n      :is-loading=\"loading\"\n      skeleton-class=\"h-64\"\n      sticky=\"both\"\n      :initial-state=\"{\n        sortColumn: 'weight',\n        sortDirection: 'desc'\n      }\"\n    >\n      <template v-slot:tokenColumnCell=\"token\">\n        <div class=\"px-6 py-4 flex flex-row w-52\">\n          <BalLink\n            :href=\"explorer.addressLink(token.address)\"\n            external\n            noStyle\n            class=\"flex items-center\"\n          >\n            <BalAsset :address=\"token.address\" :size=\"36\" />\n            <span class=\"pl-4 font-medium eth-address\">\n              {{ symbolFor(token.address) }}\n            </span>\n            <BalIcon\n              name=\"external-link\"\n              size=\"sm\"\n              class=\"ml-3 text-gray-500 hover:text-blue-500\"\n            />\n          </BalLink>\n        </div>\n      </template>\n      <template v-slot:tokenWeightCell=\"token\">\n        <div class=\"px-6 py-4 text-right\">\n          {{ weightFor(token.address) }}\n        </div>\n      </template>\n      <template v-slot:tokenBalanceCell=\"token\">\n        <div class=\"px-6 py-4 text-right\">\n          {{ balanceFor(token.address) }}\n        </div>\n      </template>\n      <template v-slot:tokenValueCell=\"token\">\n        <div class=\"px-6 py-4 text-right\">\n          {{ fiatValueFor(token.address) }}\n        </div>\n      </template>\n    </BalTable>\n  </BalCard>\n</template>\n\n<script lang=\"ts\">\nimport { PropType, defineComponent, toRefs, computed, Ref } from 'vue';\nimport { useStore } from 'vuex';\nimport useNumbers from '@/composables/useNumbers';\nimport { useI18n } from 'vue-i18n';\nimport { FullPool } from '@/services/balancer/subgraph/types';\nimport numeral from 'numeral';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useWeb3 from '@/composables/useWeb3';\n\nexport default defineComponent({\n  props: {\n    pool: {\n      type: Object as PropType<FullPool>,\n      required: true\n    },\n    loading: { type: Boolean, default: false }\n  },\n  setup(props) {\n    // COMPOSABLES\n    const store = useStore();\n    const { fNum } = useNumbers();\n    const { explorerLinks } = useVueWeb3();\n    const { shortenLabel } = useWeb3();\n    const { t } = useI18n();\n\n    // DATA\n    const { pool }: { pool: Ref<FullPool> } = toRefs(props);\n\n    // COMPUTED\n    const prices = computed(() => store.state.market.prices);\n\n    const tableData = computed(() => {\n      if (!pool || !pool.value || props.loading) return [];\n      return Object.keys(pool.value.onchain.tokens).map((address, index) => ({\n        address,\n        index\n      }));\n    });\n\n    const columns = computed(() => [\n      {\n        name: t('token'),\n        id: 'token',\n        accessor: 'address',\n        Cell: 'tokenColumnCell',\n        width: 175\n      },\n      {\n        name: t('weight'),\n        id: 'weight',\n        accessor: 'index',\n        Cell: 'tokenWeightCell',\n        align: 'right',\n        sortKey: pool => weightFor(pool.address),\n        width: 125,\n        hidden: !props.loading && props.pool.poolType === 'Stable'\n      },\n      {\n        name: t('balance'),\n        id: 'balance',\n        accessor: 'index',\n        Cell: 'tokenBalanceCell',\n        align: 'right',\n        sortKey: pool => balanceFor(pool.address),\n        width: 125\n      },\n      {\n        name: t('value'),\n        id: 'value',\n        accessor: 'index',\n        Cell: 'tokenValueCell',\n        align: 'right',\n        sortKey: pool => numeral(fiatValueFor(pool.address)).value(),\n        width: 125\n      }\n    ]);\n\n    function symbolFor(address: string) {\n      if (!pool || !pool.value) return '-';\n      const symbol = pool.value.onchain.tokens[address].symbol;\n      return symbol ? symbol : shortenLabel(address);\n    }\n\n    function balanceFor(address: string): string {\n      if (!pool || !pool.value) return '-';\n      return fNum(pool.value.onchain.tokens[address].balance, 'token');\n    }\n\n    function weightFor(address: string): string {\n      if (!pool || !pool.value) return '-';\n      return fNum(pool.value.onchain.tokens[address].weight, 'percent');\n    }\n\n    function fiatValueFor(address: string): string {\n      const price = prices.value[address.toLowerCase()]?.price;\n      if (!pool || !pool.value || !price) return '-';\n\n      const balance = Number(pool.value.onchain.tokens[address].balance);\n      return fNum(balance * price, 'usd');\n    }\n\n    return {\n      symbolFor,\n      balanceFor,\n      weightFor,\n      fiatValueFor,\n      fNum,\n      explorer: explorerLinks,\n      columns,\n      tableData\n    };\n  }\n});\n</script>\n","\nimport { PropType, defineComponent, toRefs, computed, Ref } from 'vue';\nimport { useStore } from 'vuex';\nimport useNumbers from '@/composables/useNumbers';\nimport { useI18n } from 'vue-i18n';\nimport { FullPool } from '@/services/balancer/subgraph/types';\nimport numeral from 'numeral';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useWeb3 from '@/composables/useWeb3';\n\nexport default defineComponent({\n  props: {\n    pool: {\n      type: Object as PropType<FullPool>,\n      required: true\n    },\n    loading: { type: Boolean, default: false }\n  },\n  setup(props) {\n    // COMPOSABLES\n    const store = useStore();\n    const { fNum } = useNumbers();\n    const { explorerLinks } = useVueWeb3();\n    const { shortenLabel } = useWeb3();\n    const { t } = useI18n();\n\n    // DATA\n    const { pool }: { pool: Ref<FullPool> } = toRefs(props);\n\n    // COMPUTED\n    const prices = computed(() => store.state.market.prices);\n\n    const tableData = computed(() => {\n      if (!pool || !pool.value || props.loading) return [];\n      return Object.keys(pool.value.onchain.tokens).map((address, index) => ({\n        address,\n        index\n      }));\n    });\n\n    const columns = computed(() => [\n      {\n        name: t('token'),\n        id: 'token',\n        accessor: 'address',\n        Cell: 'tokenColumnCell',\n        width: 175\n      },\n      {\n        name: t('weight'),\n        id: 'weight',\n        accessor: 'index',\n        Cell: 'tokenWeightCell',\n        align: 'right',\n        sortKey: pool => weightFor(pool.address),\n        width: 125,\n        hidden: !props.loading && props.pool.poolType === 'Stable'\n      },\n      {\n        name: t('balance'),\n        id: 'balance',\n        accessor: 'index',\n        Cell: 'tokenBalanceCell',\n        align: 'right',\n        sortKey: pool => balanceFor(pool.address),\n        width: 125\n      },\n      {\n        name: t('value'),\n        id: 'value',\n        accessor: 'index',\n        Cell: 'tokenValueCell',\n        align: 'right',\n        sortKey: pool => numeral(fiatValueFor(pool.address)).value(),\n        width: 125\n      }\n    ]);\n\n    function symbolFor(address: string) {\n      if (!pool || !pool.value) return '-';\n      const symbol = pool.value.onchain.tokens[address].symbol;\n      return symbol ? symbol : shortenLabel(address);\n    }\n\n    function balanceFor(address: string): string {\n      if (!pool || !pool.value) return '-';\n      return fNum(pool.value.onchain.tokens[address].balance, 'token');\n    }\n\n    function weightFor(address: string): string {\n      if (!pool || !pool.value) return '-';\n      return fNum(pool.value.onchain.tokens[address].weight, 'percent');\n    }\n\n    function fiatValueFor(address: string): string {\n      const price = prices.value[address.toLowerCase()]?.price;\n      if (!pool || !pool.value || !price) return '-';\n\n      const balance = Number(pool.value.onchain.tokens[address].balance);\n      return fNum(balance * price, 'usd');\n    }\n\n    return {\n      symbolFor,\n      balanceFor,\n      weightFor,\n      fiatValueFor,\n      fNum,\n      explorer: explorerLinks,\n      columns,\n      tableData\n    };\n  }\n});\n","import { render } from \"./PoolBalancesCard.vue?vue&type=template&id=bc6f599e\"\nimport script from \"./PoolBalancesCard.vue?vue&type=script&lang=ts\"\nexport * from \"./PoolBalancesCard.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <BalCard noPad>\n    <div class=\"relative overflow-hidden\">\n      <div class=\"flex justify-between items-end border-b px-4\">\n        <BalTabs v-model=\"activeTab\" :tabs=\"tabs\" class=\"pt-4 -mb-px\" no-pad />\n        <TradeSettingsPopover :context=\"TradeSettingsContext.invest\" />\n      </div>\n\n      <template v-if=\"activeTab === 'invest'\">\n        <InvestForm\n          :pool=\"pool\"\n          :missing-prices=\"missingPrices\"\n          @success=\"handleInvestment($event)\"\n        />\n        <SuccessOverlay\n          v-if=\"investmentSuccess\"\n          :title=\"$t('investmentSettled')\"\n          :description=\"$t('investmentSuccess')\"\n          :closeLabel=\"$t('close')\"\n          :explorerLink=\"explorer.txLink(txHash)\"\n          @close=\"investmentSuccess = false\"\n        />\n      </template>\n      <template v-if=\"activeTab === 'withdraw'\">\n        <WithdrawForm\n          :pool=\"pool\"\n          :missing-prices=\"missingPrices\"\n          @success=\"handleWithdrawal($event)\"\n        />\n        <SuccessOverlay\n          v-if=\"withdrawalSuccess\"\n          :title=\"$t('withdrawalSettled')\"\n          :description=\"$t('withdrawalSuccess')\"\n          :closeLabel=\"$t('close')\"\n          :explorerLink=\"explorer.txLink(txHash)\"\n          @close=\"withdrawalSuccess = false\"\n        />\n      </template>\n    </div>\n  </BalCard>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue';\nimport InvestForm from '@/components/forms/pool_actions/InvestForm.vue';\nimport WithdrawForm from '@/components/forms/pool_actions/WithdrawForm.vue';\nimport SuccessOverlay from '@/components/cards/SuccessOverlay.vue';\nimport { useI18n } from 'vue-i18n';\nimport TradeSettingsPopover, {\n  TradeSettingsContext\n} from '@/components/popovers/TradeSettingsPopover.vue';\nimport useFathom from '@/composables/useFathom';\nimport useWeb3 from '@/composables/useWeb3';\n\nexport default defineComponent({\n  name: 'PoolActionsCard',\n\n  emits: ['onTx'],\n\n  components: {\n    InvestForm,\n    WithdrawForm,\n    SuccessOverlay,\n    TradeSettingsPopover\n  },\n\n  props: {\n    pool: { type: Object, required: true },\n    missingPrices: { type: Boolean, default: false }\n  },\n\n  setup(_, { emit }) {\n    // COMPOSABLES\n    const { t } = useI18n();\n    const { trackGoal, Goals } = useFathom();\n    const { explorer } = useWeb3();\n\n    // DATA\n    const tabs = [\n      { value: 'invest', label: t('invest') },\n      { value: 'withdraw', label: t('withdraw') }\n    ];\n    const activeTab = ref(tabs[0].value);\n    const investmentSuccess = ref(false);\n    const withdrawalSuccess = ref(false);\n    const txHash = ref('');\n\n    // METHODS\n    function handleInvestment(txReceipt): void {\n      investmentSuccess.value = true;\n      txHash.value = txReceipt.hash;\n      trackGoal(Goals.Invested);\n      emit('onTx', txReceipt);\n    }\n\n    function handleWithdrawal(txReceipt): void {\n      withdrawalSuccess.value = true;\n      txHash.value = txReceipt.hash;\n      trackGoal(Goals.Withdrawal);\n      emit('onTx', txReceipt);\n    }\n\n    return {\n      // data\n      activeTab,\n      tabs,\n      investmentSuccess,\n      withdrawalSuccess,\n      txHash,\n      TradeSettingsContext,\n      // methods\n      handleInvestment,\n      handleWithdrawal,\n      explorer\n    };\n  }\n});\n</script>\n","<template>\n  <BalForm ref=\"investForm\" @on-submit=\"submit\">\n    <FormTypeToggle\n      v-model=\"investType\"\n      :form-types=\"formTypes\"\n      :missing-prices=\"missingPrices\"\n      :has-zero-balance=\"hasZeroBalance\"\n      :loading=\"loading\"\n    />\n\n    <template v-if=\"isProportional\">\n      <div class=\"p-4 border-t\">\n        <div class=\"border rounded-lg shadow-inner p-2\">\n          <div\n            class=\"flex items-center justify-between mb-3 text-sm text-gray-600\"\n          >\n            <span v-text=\"$t('amountToInvest')\" />\n            <span>{{ propPercentage }}%</span>\n          </div>\n          <div class=\"flex items-end\">\n            <span\n              class=\"mr-2 text-lg font-medium w-1/2 break-words leading-none\"\n              :title=\"total\"\n            >\n              {{ missingPrices ? '-' : total }}\n            </span>\n            <BalRangeInput\n              class=\"w-1/2\"\n              v-model=\"range\"\n              :max=\"1000\"\n              :interval=\"1\"\n              :min=\"0\"\n              tooltip=\"none\"\n              :disabled=\"loading\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <div\n        :class=\"[\n          'px-4 py-3 bg-gray-50 border-b',\n          hasZeroBalance ? '' : 'border-t'\n        ]\"\n      >\n        <div\n          v-for=\"(token, i) in pool.tokenAddresses\"\n          :key=\"token\"\n          class=\"py-3 last:mb-0\"\n        >\n          <div class=\"flex items-center justify-between\">\n            <div class=\"flex items-center w-1/2\">\n              <BalAsset :address=\"token\" class=\"mr-2\" />\n              <div class=\"flex flex-col w-3/4 leading-none\">\n                <span\n                  class=\"break-words\"\n                  :title=\"\n                    `${fNum(amounts[i], 'token')} ${\n                      pool.onchain.tokens[token].symbol\n                    }`\n                  \"\n                >\n                  {{ fNum(amounts[i], 'token') }}\n                  {{ pool.onchain.tokens[token].symbol }}\n                </span>\n                <span\n                  class=\"text-xs text-gray-400 break-words\"\n                  :title=\"`${formatBalance(i)} balance`\"\n                >\n                  {{ $t('balance') }}: {{ formatBalance(i) }}\n                </span>\n              </div>\n            </div>\n            <div class=\"flex flex-col w-1/2 leading-none text-right pl-2\">\n              <span class=\"break-words\" :title=\"fNum(amountUSD(i), 'usd')\">\n                {{ amountUSD(i) === 0 ? '-' : fNum(amountUSD(i), 'usd') }}\n              </span>\n              <span\n                v-if=\"pool.poolType !== 'Stable'\"\n                class=\"text-xs text-gray-400\"\n              >\n                {{ fNum(tokenWeights[i], 'percent_lg') }}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n\n    <div\n      v-else\n      :class=\"['px-4 pt-6 border-b', hasZeroBalance ? '' : 'border-t']\"\n    >\n      <BalTextInput\n        v-for=\"(token, i) in pool.tokenAddresses\"\n        :key=\"token\"\n        :name=\"token\"\n        v-model=\"amounts[i]\"\n        v-model:isValid=\"validInputs[i]\"\n        :rules=\"amountRules(i)\"\n        type=\"number\"\n        min=\"0\"\n        step=\"any\"\n        placeholder=\"0\"\n        :decimal-limit=\"tokenDecimals(i)\"\n        :disabled=\"loading\"\n        validate-on=\"input\"\n        prepend-border\n        append-shadow\n      >\n        <template v-slot:prepend>\n          <div class=\"flex items-center h-full w-24\">\n            <BalAsset :address=\"token\" />\n            <div class=\"flex flex-col ml-3\">\n              <span class=\"font-medium text-sm leading-none w-14 truncate\">\n                {{ pool.onchain.tokens[token].symbol }}\n              </span>\n              <span\n                v-if=\"pool.poolType !== 'Stable'\"\n                class=\"leading-none text-xs mt-1 text-gray-500\"\n              >\n                {{ fNum(tokenWeights[i], 'percent_lg') }}\n              </span>\n            </div>\n          </div>\n        </template>\n        <template v-slot:info>\n          <div\n            class=\"cursor-pointer\"\n            @click.prevent=\"amounts[i] = tokenBalance(i).toString()\"\n          >\n            {{ $t('balance') }}: {{ formatBalance(i) }}\n          </div>\n        </template>\n        <template v-slot:append>\n          <div class=\"p-2\">\n            <BalBtn\n              size=\"xs\"\n              color=\"white\"\n              @click.prevent=\"amounts[i] = tokenBalance(i).toString()\"\n            >\n              {{ $t('max') }}\n            </BalBtn>\n          </div>\n        </template>\n      </BalTextInput>\n\n      <div v-if=\"isWethPool\" class=\"flex items-center mb-4\">\n        <router-link\n          :to=\"{\n            name: 'trade',\n            params: {\n              assetIn: TOKENS.AddressMap.ETH,\n              assetOut: TOKENS.AddressMap.WETH\n            }\n          }\"\n          class=\"text-xs text-gray-500 underline\"\n        >\n          {{ $t('wrapInstruction', [nativeAsset]) }}\n        </router-link>\n        <BalTooltip>\n          <template v-slot:activator>\n            <BalIcon name=\"info\" size=\"xs\" class=\"text-gray-400 ml-2\" />\n          </template>\n          <div class=\"w-52\" v-html=\"$t('ethBufferInstruction')\" />\n        </BalTooltip>\n      </div>\n    </div>\n\n    <div class=\"p-4\">\n      <BalBtn\n        v-if=\"!isWalletReady\"\n        :label=\"$t('connectWallet')\"\n        block\n        @click.prevent=\"toggleWalletSelectModal\"\n      />\n      <template v-else>\n        <div\n          :class=\"['flex items-center text-sm mb-4', priceImpactClasses]\"\n          @click.prevent\n        >\n          <span\n            >{{ $t('priceImpact') }}: {{ fNum(priceImpact, 'percent') }}</span\n          >\n          <BalTooltip>\n            <template v-slot:activator>\n              <BalIcon\n                v-if=\"priceImpact >= 0.01\"\n                name=\"alert-triangle\"\n                size=\"xs\"\n                class=\"ml-1\"\n              />\n              <BalIcon\n                v-else\n                name=\"info\"\n                size=\"xs\"\n                class=\"text-gray-400 -mb-px ml-2\"\n              />\n            </template>\n            <div v-html=\"$t('customAmountsTip')\" class=\"w-52\" />\n          </BalTooltip>\n        </div>\n        <BalBtn\n          v-if=\"requireApproval\"\n          :label=\"`${$t('approve')} ${symbolFor(requiredAllowances[0])}`\"\n          :loading=\"approving\"\n          :loading-label=\"$t('approving')\"\n          :disabled=\"!hasAmounts || !hasValidInputs\"\n          block\n          @click.prevent=\"approveAllowances\"\n        />\n        <template v-else>\n          <BalCheckbox\n            v-if=\"priceImpact >= 0.01\"\n            v-model=\"highPiAccepted\"\n            :rules=\"[isRequired(this.$t('priceImpactCheckbox'))]\"\n            name=\"highPiAccepted\"\n            class=\"text-gray-500 mb-12\"\n            size=\"sm\"\n            :label=\"$t('priceImpactAccept')\"\n          />\n          <BalBtn\n            type=\"submit\"\n            :loading-label=\"$t('confirming')\"\n            color=\"gradient\"\n            :disabled=\"!hasAmounts || !hasValidInputs\"\n            :loading=\"loading\"\n            block\n            @click=\"trackGoal(Goals.ClickInvest)\"\n          >\n            {{ $t('invest') }}\n            {{ missingPrices || total.length > 15 ? '' : total }}\n          </BalBtn>\n        </template>\n      </template>\n    </div>\n  </BalForm>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  computed,\n  watch,\n  onMounted,\n  reactive,\n  toRefs,\n  ref,\n  PropType\n} from 'vue';\nimport { FormRef } from '@/types';\nimport {\n  isPositive,\n  isLessThanOrEqualTo,\n  isRequired\n} from '@/lib/utils/validations';\nimport { useI18n } from 'vue-i18n';\nimport { TransactionData } from 'bnc-notify';\nimport { formatUnits } from '@ethersproject/units';\nimport isEqual from 'lodash/isEqual';\n\nimport useTokenApprovals from '@/composables/pools/useTokenApprovals';\nimport useNumbers from '@/composables/useNumbers';\nimport useNotify from '@/composables/useNotify';\nimport useSlippage from '@/composables/useSlippage';\n\nimport PoolExchange from '@/services/pool/exchange';\nimport PoolCalculator from '@/services/pool/calculator/calculator.sevice';\nimport { bnum } from '@/lib/utils';\nimport FormTypeToggle from './shared/FormTypeToggle.vue';\nimport { FullPool } from '@/services/balancer/subgraph/types';\nimport useFathom from '@/composables/useFathom';\n\nimport { TOKENS } from '@/constants/tokens';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useAccountBalances from '@/composables/useAccountBalances';\nimport useTokens from '@/composables/useTokens';\nimport { TransactionResponse } from '@ethersproject/abstract-provider';\nimport useEthers from '@/composables/useEthers';\n\nexport enum FormTypes {\n  proportional = 'proportional',\n  custom = 'custom'\n}\n\ntype DataProps = {\n  investForm: FormRef;\n  investType: FormTypes;\n  loading: boolean;\n  amounts: string[];\n  propMax: string[];\n  validInputs: boolean[];\n  propToken: number;\n  range: number;\n  highPiAccepted: boolean;\n};\n\nexport default defineComponent({\n  name: 'InvestForm',\n\n  components: {\n    FormTypeToggle\n  },\n\n  emits: ['success'],\n\n  props: {\n    pool: { type: Object as PropType<FullPool>, required: true },\n    missingPrices: { type: Boolean, default: false }\n  },\n\n  setup(props: { pool: FullPool }, { emit }) {\n    const data = reactive<DataProps>({\n      investForm: {} as FormRef,\n      investType: FormTypes.proportional,\n      loading: false,\n      amounts: [],\n      propMax: [],\n      validInputs: [],\n      propToken: 0,\n      range: 1000,\n      highPiAccepted: false\n    });\n\n    // COMPOSABLES\n    const {\n      isWalletReady,\n      account,\n      toggleWalletSelectModal,\n      getProvider,\n      appNetworkConfig,\n      userNetworkConfig\n    } = useVueWeb3();\n    const { fNum, toFiat } = useNumbers();\n    const { t } = useI18n();\n    const { txListener, supportsBlocknative } = useNotify();\n    const { minusSlippage } = useSlippage();\n    const { tokens } = useTokens();\n    const { trackGoal, Goals } = useFathom();\n    const { refetchBalances } = useAccountBalances();\n    const { txListener: ethersTxListener } = useEthers();\n\n    const { amounts } = toRefs(data);\n\n    const {\n      requiredAllowances,\n      approveAllowances,\n      approving,\n      approvedAll\n    } = useTokenApprovals(props.pool.tokenAddresses, amounts);\n\n    // SERVICES\n    const poolExchange = computed(\n      () =>\n        new PoolExchange(\n          props.pool,\n          String(userNetworkConfig.value.chainId),\n          tokens.value\n        )\n    );\n\n    const poolCalculator = new PoolCalculator(props.pool, tokens.value, 'join');\n\n    // COMPUTED\n    const tokenWeights = computed(() =>\n      Object.values(props.pool.onchain.tokens).map(t => t.weight)\n    );\n\n    const hasAmounts = computed(() => {\n      const amountSum = fullAmounts.value\n        .map(amount => parseFloat(amount))\n        .reduce((a, b) => a + b, 0);\n      return amountSum > 0;\n    });\n\n    const hasValidInputs = computed(() => {\n      return data.validInputs.every(validInput => validInput === true);\n    });\n\n    const balances = computed(() => {\n      return props.pool.tokenAddresses.map(\n        token => tokens.value[token].balance\n      );\n    });\n\n    const hasZeroBalance = computed(() => {\n      return balances.value.map(b => Number(b)).includes(0);\n    });\n\n    const total = computed(() => {\n      const total = props.pool.tokenAddresses\n        .map((_, i) => amountUSD(i))\n        .reduce((a, b) => a + b, 0);\n\n      if (total < 0) return fNum(0, 'usd');\n      return fNum(total, 'usd');\n    });\n\n    const requireApproval = computed(() => {\n      if (!hasAmounts.value) return false;\n      if (approvedAll.value) return false;\n      return requiredAllowances.value.length > 0;\n    });\n\n    const isProportional = computed(() => {\n      return data.investType === FormTypes.proportional;\n    });\n\n    const propPercentage = computed(() => {\n      const currentAmount = fullAmounts.value[data.propToken];\n      const maxAmount = tokenBalance(data.propToken);\n\n      if (currentAmount === '0') return 0;\n      return Math.ceil((Number(currentAmount) / Number(maxAmount)) * 100);\n    });\n\n    const fullAmounts = computed(() => {\n      return props.pool.tokenAddresses.map((_, i) => {\n        return data.amounts[i] || '0';\n      });\n    });\n\n    const propMaxUSD = computed(() => {\n      const total = props.pool.tokenAddresses\n        .map((token, i) => toFiat(Number(data.propMax[i]), token))\n        .reduce((a, b) => a + b, 0);\n\n      return fNum(total, 'usd');\n    });\n\n    const balanceMaxUSD = computed(() => {\n      const total = props.pool.tokenAddresses\n        .map((token, i) => toFiat(balances.value[i], token))\n        .reduce((a, b) => a + b, 0);\n\n      return fNum(total, 'usd');\n    });\n\n    const priceImpact = computed(() => {\n      if (isProportional.value || !hasAmounts.value) return 0;\n      return poolCalculator.priceImpact(fullAmounts.value).toNumber() || 0;\n    });\n\n    const priceImpactClasses = computed(() => {\n      return {\n        'text-red-500 font-medium': priceImpact.value >= 0.01,\n        'text-gray-500 font-normal': priceImpact.value < 0.01\n      };\n    });\n\n    const minBptOut = computed(() => {\n      let bptOut = poolCalculator\n        .exactTokensInForBPTOut(fullAmounts.value)\n        .toString();\n      bptOut = formatUnits(bptOut, props.pool.onchain.decimals);\n\n      return minusSlippage(bptOut, props.pool.onchain.decimals);\n    });\n\n    const nativeAsset = computed(() => appNetworkConfig.nativeAsset.symbol);\n\n    const isWethPool = computed(() =>\n      props.pool.tokenAddresses.includes(TOKENS.AddressMap.WETH)\n    );\n\n    const formTypes = ref([\n      {\n        label: t('noPriceImpact'),\n        max: propMaxUSD,\n        value: FormTypes.proportional,\n        tooltip: t('noPriceImpactTip')\n      },\n      {\n        label: t('customAmounts'),\n        max: balanceMaxUSD,\n        value: FormTypes.custom,\n        tooltip: t('customAmountsTip')\n      }\n    ]);\n\n    // METHODS\n    function tokenBalance(index: number): string {\n      return tokens.value[props.pool.tokenAddresses[index]]?.balance || '0';\n    }\n\n    function tokenDecimals(index) {\n      return tokens.value[props.pool.tokenAddresses[index]].decimals;\n    }\n\n    function amountUSD(index) {\n      const amount = fullAmounts.value[index] || 0;\n      return toFiat(amount, props.pool.tokenAddresses[index]);\n    }\n\n    function formatBalance(index) {\n      return fNum(tokenBalance(index), 'token');\n    }\n\n    function amountRules(index) {\n      return isWalletReady.value\n        ? [\n            isPositive(),\n            isLessThanOrEqualTo(\n              Number(tokenBalance(index)),\n              t('exceedsBalance')\n            )\n          ]\n        : [isPositive()];\n    }\n\n    function symbolFor(token) {\n      return tokens.value[token]?.symbol || '';\n    }\n\n    async function setPropMax() {\n      const { send, fixedToken } = poolCalculator.propMax();\n      data.propMax = [...send];\n      data.propToken = fixedToken;\n    }\n\n    function resetSlider() {\n      data.amounts = [...data.propMax];\n      data.range = 1000;\n    }\n\n    function setPropAmountsFor(range) {\n      const fractionBasisPoints = (range / 1000) * 10000;\n      const amount = bnum(balances.value[data.propToken])\n        .times(fractionBasisPoints)\n        .div(10000)\n        .toFixed(tokenDecimals(data.propToken));\n\n      const { send } = poolCalculator.propAmountsGiven(\n        amount,\n        data.propToken,\n        'send'\n      );\n      data.amounts = send;\n    }\n\n    // Legacy function for sense check against JS calculation of BPT out\n    // Left here so numbers can be debugged in conosle\n    // Talk to Fernando to see if still needed\n    async function calcMinBptOut(): Promise<void> {\n      let { bptOut } = await poolExchange.value.queryJoin(\n        getProvider(),\n        account.value,\n        fullAmounts.value\n      );\n      bptOut = formatUnits(bptOut.toString(), props.pool.onchain.decimals);\n      console.log(\n        'bptOut (queryJoin)',\n        minusSlippage(bptOut, props.pool.onchain.decimals)\n      );\n      console.log('bptOut (JS)', minBptOut.value);\n    }\n\n    function blocknativeTxHandler(tx: TransactionResponse): void {\n      txListener(tx.hash, {\n        onTxConfirmed: async (tx: TransactionData) => {\n          emit('success', tx);\n          data.amounts = [];\n          data.loading = false;\n          await refetchBalances.value();\n        },\n        onTxCancel: () => {\n          data.loading = false;\n        },\n        onTxFailed: () => {\n          data.loading = false;\n        }\n      });\n    }\n\n    function ethersTxHandler(tx: TransactionResponse): void {\n      ethersTxListener(tx, {\n        onTxConfirmed: async (tx: TransactionResponse) => {\n          emit('success', tx);\n          data.amounts = [];\n          data.loading = false;\n          await refetchBalances.value();\n        },\n        onTxFailed: () => {\n          data.loading = false;\n        }\n      });\n    }\n\n    async function submit(): Promise<void> {\n      if (!data.investForm.validate()) return;\n      try {\n        data.loading = true;\n        await calcMinBptOut();\n        const tx = await poolExchange.value.join(\n          getProvider(),\n          account.value,\n          fullAmounts.value,\n          minBptOut.value\n        );\n        console.log('Receipt', tx);\n        if (supportsBlocknative.value) {\n          blocknativeTxHandler(tx);\n        } else {\n          ethersTxHandler(tx);\n        }\n      } catch (error) {\n        console.error(error);\n        data.loading = false;\n      }\n    }\n\n    watch(tokens, newTokens => {\n      poolCalculator.setAllTokens(newTokens);\n    });\n\n    watch(\n      () => props.pool.onchain.tokens,\n      (newTokens, oldTokens) => {\n        poolCalculator.setPool(props.pool);\n        const tokensChanged = !isEqual(newTokens, oldTokens);\n        if (tokensChanged) {\n          setPropMax();\n          if (isProportional.value) setPropAmountsFor(data.range);\n        }\n      }\n    );\n\n    watch(balances, (newBalances, oldBalances) => {\n      const balancesChanged = !isEqual(newBalances, oldBalances);\n      if (balancesChanged) {\n        setPropMax();\n        if (isProportional.value) setPropAmountsFor(data.range);\n      }\n    });\n\n    watch(\n      () => data.investType,\n      newType => {\n        if (newType === FormTypes.proportional) {\n          setPropMax();\n          resetSlider();\n        }\n      }\n    );\n\n    watch(\n      () => data.range,\n      newVal => {\n        setPropAmountsFor(newVal);\n      }\n    );\n\n    watch(isWalletReady, isAuth => {\n      if (!isAuth) {\n        data.amounts = [];\n        data.propMax = [];\n      }\n    });\n\n    watch(account, () => {\n      if (hasZeroBalance.value) {\n        data.investType = FormTypes.custom;\n      } else {\n        setPropMax();\n        resetSlider();\n      }\n    });\n\n    onMounted(() => {\n      if (hasZeroBalance.value) {\n        data.investType = FormTypes.custom;\n      } else {\n        setPropMax();\n        resetSlider();\n      }\n    });\n\n    return {\n      // data\n      ...toRefs(data),\n      Goals,\n      nativeAsset,\n      TOKENS,\n      // computed\n      tokens,\n      hasValidInputs,\n      hasAmounts,\n      approving,\n      requireApproval,\n      requiredAllowances,\n      tokenWeights,\n      tokenBalance,\n      amountRules,\n      total,\n      isWalletReady,\n      toggleWalletSelectModal,\n      formatBalance,\n      isProportional,\n      propPercentage,\n      priceImpact,\n      priceImpactClasses,\n      amountUSD,\n      formTypes,\n      isRequired,\n      hasZeroBalance,\n      isWethPool,\n      // methods\n      submit,\n      approveAllowances,\n      fNum,\n      trackGoal,\n      symbolFor,\n      tokenDecimals\n    };\n  }\n});\n</script>\n","import i18n from '@/plugins/i18n';\n\nexport function isRequired(field = '') {\n  const _field = field ? `${field} ` : 'Input ';\n  return v => !!v || `${_field}${i18n.global.t('isRequired')}`;\n}\n\nexport function minChar(minLength: number, field = '') {\n  const _field = field ? `${field} ` : '';\n  return v =>\n    !v ||\n    v.length >= minLength ||\n    `${_field}${i18n.global.t('mustBeAtLeast', [minLength])}`;\n}\n\nexport function isPositiveCheck(number: number) {\n  return number >= 0;\n}\nexport function isPositive() {\n  return v => !v || isPositiveCheck(v) || i18n.global.t('mustBePositive');\n}\n\nexport function isLessThanOrEqualTo(max: number, msg = '') {\n  return v =>\n    !v ||\n    parseFloat(v) <= max ||\n    (msg ? msg : i18n.global.t('mustBeLessThan', [max]));\n}\n\nexport const isEmailCheck = email => {\n  const regex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@(([[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return regex.test(String(email).toLowerCase());\n};\n\nexport function isEmail() {\n  return v => !v || isEmailCheck(v) || i18n.global.t('mustBeValidEmail');\n}\n","import { TransactionResponse } from '@ethersproject/providers';\n\ntype TxCallback = (txData: TransactionResponse) => void;\n\nexport default function useEthers() {\n  async function txListener(\n    tx: TransactionResponse,\n    callbacks: {\n      onTxConfirmed: TxCallback;\n      onTxFailed: TxCallback;\n    }\n  ) {\n    try {\n      await tx.wait();\n      callbacks.onTxConfirmed(tx);\n    } catch (error) {\n      console.error(error);\n      callbacks.onTxFailed(tx);\n    }\n  }\n\n  return { txListener };\n}\n","import { ref, computed } from 'vue';\nimport { approveTokens } from '@/lib/utils/balancer/tokens';\nimport { parseUnits } from '@ethersproject/units';\nimport useTokens from '@/composables/useTokens';\nimport useNotify from '@/composables/useNotify';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useAllowances from '../useAllowances';\nimport { TransactionResponse } from '@ethersproject/providers';\nimport useEthers from '@/composables/useEthers';\nimport { sleep } from '@/lib/utils';\n\nexport default function useTokenApprovals(tokens, shortAmounts) {\n  const { getProvider, appNetworkConfig } = useVueWeb3();\n  const approving = ref(false);\n  const approvedAll = ref(false);\n  const { tokens: allTokens } = useTokens();\n  const { getRequiredAllowances, refetchAllowances } = useAllowances();\n  const { txListener, supportsBlocknative } = useNotify();\n  const { txListener: ethersTxListener } = useEthers();\n\n  const amounts = computed(() =>\n    tokens.map((token, index) => {\n      const shortAmount = shortAmounts.value[index] || '0';\n      const decimals = allTokens.value[token].decimals;\n      const amount = parseUnits(shortAmount, decimals).toString();\n      return amount;\n    })\n  );\n\n  const requiredAllowances = computed(() => {\n    const allowances = getRequiredAllowances({\n      tokens,\n      amounts: amounts.value\n    });\n    return allowances;\n  });\n\n  async function blocknativeTxHandler(tx: TransactionResponse): Promise<void> {\n    txListener(tx.hash, {\n      onTxConfirmed: async () => {\n        // REFACTOR: Hack to prevent race condition causing double approvals\n        await tx.wait();\n        await sleep(5000);\n        await refetchAllowances.value();\n        // END REFACTOR\n        approving.value = false;\n      },\n      onTxCancel: () => {\n        approving.value = false;\n      },\n      onTxFailed: () => {\n        approving.value = false;\n      }\n    });\n  }\n\n  async function ethersTxHandler(tx: TransactionResponse): Promise<void> {\n    await ethersTxListener(tx, {\n      onTxConfirmed: async () => {\n        await refetchAllowances.value();\n        approving.value = false;\n      },\n      onTxFailed: () => {\n        approving.value = false;\n      }\n    });\n  }\n\n  async function approveAllowances(): Promise<void> {\n    try {\n      approving.value = true;\n\n      const txs = await approveTokens(\n        getProvider(),\n        appNetworkConfig.addresses.vault,\n        [requiredAllowances.value[0]]\n      );\n\n      if (supportsBlocknative.value) {\n        blocknativeTxHandler(txs[0]);\n      } else {\n        ethersTxHandler(txs[0]);\n      }\n    } catch (error) {\n      approving.value = false;\n      console.error(error);\n    }\n  }\n\n  return { requiredAllowances, approveAllowances, approving, approvedAll };\n}\n","import { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { parseUnits, formatUnits } from '@ethersproject/units';\n\nexport default function useSlippage() {\n  const store = useStore();\n\n  const slippageBasisPoints = computed(() => {\n    return Number(store.state.app.slippage) * 10000;\n  });\n\n  function minusSlippage(_amount: string, decimals: number): string {\n    let amount = parseUnits(_amount, decimals);\n    const delta = amount.mul(slippageBasisPoints.value).div(10000);\n    amount = amount.sub(delta);\n\n    return formatUnits(amount, decimals).toString();\n  }\n\n  function addSlippage(_amount: string, decimals: number): string {\n    let amount = parseUnits(_amount, decimals);\n    const delta = amount.mul(slippageBasisPoints.value).div(10000);\n    amount = amount.add(delta);\n\n    return formatUnits(amount, decimals).toString();\n  }\n\n  return { minusSlippage, addSlippage };\n}\n","import { defaultAbiCoder } from '@ethersproject/abi';\nimport { BigNumberish } from '@ethersproject/bignumber';\n\nconst JOIN_STABLE_POOL_INIT_TAG = 0;\nconst JOIN_STABLE_POOL_EXACT_TOKENS_IN_FOR_BPT_OUT_TAG = 1;\nconst JOIN_STABLE_POOL_TOKEN_IN_FOR_EXACT_BPT_OUT_TAG = 2;\n\nexport type JoinStablePoolInit = {\n  kind: 'Init';\n  amountsIn: BigNumberish[];\n};\n\nexport type JoinStablePoolExactTokensInForBPTOut = {\n  kind: 'ExactTokensInForBPTOut';\n  amountsIn: BigNumberish[];\n  minimumBPT: BigNumberish;\n};\n\nexport type JoinStablePoolTokenInForExactBPTOut = {\n  kind: 'TokenInForExactBPTOut';\n  bptAmountOut: BigNumberish;\n  enterTokenIndex: number;\n};\n\nexport function encodeJoinStablePool(\n  joinData:\n    | JoinStablePoolInit\n    | JoinStablePoolExactTokensInForBPTOut\n    | JoinStablePoolTokenInForExactBPTOut\n): string {\n  if (joinData.kind == 'Init') {\n    return defaultAbiCoder.encode(\n      ['uint256', 'uint256[]'],\n      [JOIN_STABLE_POOL_INIT_TAG, joinData.amountsIn]\n    );\n  } else if (joinData.kind == 'ExactTokensInForBPTOut') {\n    return defaultAbiCoder.encode(\n      ['uint256', 'uint256[]', 'uint256'],\n      [\n        JOIN_STABLE_POOL_EXACT_TOKENS_IN_FOR_BPT_OUT_TAG,\n        joinData.amountsIn,\n        joinData.minimumBPT\n      ]\n    );\n  } else {\n    return defaultAbiCoder.encode(\n      ['uint256', 'uint256', 'uint256'],\n      [\n        JOIN_STABLE_POOL_TOKEN_IN_FOR_EXACT_BPT_OUT_TAG,\n        joinData.bptAmountOut,\n        joinData.enterTokenIndex\n      ]\n    );\n  }\n}\n\nconst EXIT_STABLE_POOL_EXACT_BPT_IN_FOR_ONE_TOKEN_OUT_TAG = 0;\nconst EXIT_STABLE_POOL_EXACT_BPT_IN_FOR_TOKENS_OUT_TAG = 1;\nconst EXIT_STABLE_POOL_BPT_IN_FOR_EXACT_TOKENS_OUT_TAG = 2;\n\nexport type ExitStablePoolExactBPTInForOneTokenOut = {\n  kind: 'ExactBPTInForOneTokenOut';\n  bptAmountIn: BigNumberish;\n  exitTokenIndex: number;\n};\n\nexport type ExitStablePoolExactBPTInForTokensOut = {\n  kind: 'ExactBPTInForTokensOut';\n  bptAmountIn: BigNumberish;\n};\n\nexport type ExitStablePoolBPTInForExactTokensOut = {\n  kind: 'BPTInForExactTokensOut';\n  amountsOut: BigNumberish[];\n  maxBPTAmountIn: BigNumberish;\n};\n\nexport function encodeExitStablePool(\n  exitData:\n    | ExitStablePoolExactBPTInForOneTokenOut\n    | ExitStablePoolExactBPTInForTokensOut\n    | ExitStablePoolBPTInForExactTokensOut\n): string {\n  if (exitData.kind == 'ExactBPTInForOneTokenOut') {\n    return defaultAbiCoder.encode(\n      ['uint256', 'uint256', 'uint256'],\n      [\n        EXIT_STABLE_POOL_EXACT_BPT_IN_FOR_ONE_TOKEN_OUT_TAG,\n        exitData.bptAmountIn,\n        exitData.exitTokenIndex\n      ]\n    );\n  } else if (exitData.kind == 'ExactBPTInForTokensOut') {\n    return defaultAbiCoder.encode(\n      ['uint256', 'uint256'],\n      [EXIT_STABLE_POOL_EXACT_BPT_IN_FOR_TOKENS_OUT_TAG, exitData.bptAmountIn]\n    );\n  } else {\n    return defaultAbiCoder.encode(\n      ['uint256', 'uint256[]', 'uint256'],\n      [\n        EXIT_STABLE_POOL_BPT_IN_FOR_EXACT_TOKENS_OUT_TAG,\n        exitData.amountsOut,\n        exitData.maxBPTAmountIn\n      ]\n    );\n  }\n}\n","import { defaultAbiCoder } from '@ethersproject/abi';\nimport { BigNumberish } from '@ethersproject/bignumber';\n\nconst JOIN_WEIGHTED_POOL_INIT_TAG = 0;\nconst JOIN_WEIGHTED_POOL_EXACT_TOKENS_IN_FOR_BPT_OUT_TAG = 1;\nconst JOIN_WEIGHTED_POOL_TOKEN_IN_FOR_EXACT_BPT_OUT_TAG = 2;\n\nexport type JoinWeightedPoolInit = {\n  kind: 'Init';\n  amountsIn: BigNumberish[];\n};\n\nexport type JoinWeightedPoolExactTokensInForBPTOut = {\n  kind: 'ExactTokensInForBPTOut';\n  amountsIn: BigNumberish[];\n  minimumBPT: BigNumberish;\n};\n\nexport type JoinWeightedPoolTokenInForExactBPTOut = {\n  kind: 'TokenInForExactBPTOut';\n  bptAmountOut: BigNumberish;\n  enterTokenIndex: number;\n};\n\nexport function encodeJoinWeightedPool(\n  joinData:\n    | JoinWeightedPoolInit\n    | JoinWeightedPoolExactTokensInForBPTOut\n    | JoinWeightedPoolTokenInForExactBPTOut\n): string {\n  if (joinData.kind == 'Init') {\n    return defaultAbiCoder.encode(\n      ['uint256', 'uint256[]'],\n      [JOIN_WEIGHTED_POOL_INIT_TAG, joinData.amountsIn]\n    );\n  } else if (joinData.kind == 'ExactTokensInForBPTOut') {\n    return defaultAbiCoder.encode(\n      ['uint256', 'uint256[]', 'uint256'],\n      [\n        JOIN_WEIGHTED_POOL_EXACT_TOKENS_IN_FOR_BPT_OUT_TAG,\n        joinData.amountsIn,\n        joinData.minimumBPT\n      ]\n    );\n  } else {\n    return defaultAbiCoder.encode(\n      ['uint256', 'uint256', 'uint256'],\n      [\n        JOIN_WEIGHTED_POOL_TOKEN_IN_FOR_EXACT_BPT_OUT_TAG,\n        joinData.bptAmountOut,\n        joinData.enterTokenIndex\n      ]\n    );\n  }\n}\n\nconst EXIT_WEIGHTED_POOL_EXACT_BPT_IN_FOR_ONE_TOKEN_OUT_TAG = 0;\nconst EXIT_WEIGHTED_POOL_EXACT_BPT_IN_FOR_TOKENS_OUT_TAG = 1;\nconst EXIT_WEIGHTED_POOL_BPT_IN_FOR_EXACT_TOKENS_OUT_TAG = 2;\n\nexport type ExitWeightedPoolExactBPTInForOneTokenOut = {\n  kind: 'ExactBPTInForOneTokenOut';\n  bptAmountIn: BigNumberish;\n  exitTokenIndex: number;\n};\n\nexport type ExitWeightedPoolExactBPTInForTokensOut = {\n  kind: 'ExactBPTInForTokensOut';\n  bptAmountIn: BigNumberish;\n};\n\nexport type ExitWeightedPoolBPTInForExactTokensOut = {\n  kind: 'BPTInForExactTokensOut';\n  amountsOut: BigNumberish[];\n  maxBPTAmountIn: BigNumberish;\n};\n\nexport function encodeExitWeightedPool(\n  exitData:\n    | ExitWeightedPoolExactBPTInForOneTokenOut\n    | ExitWeightedPoolExactBPTInForTokensOut\n    | ExitWeightedPoolBPTInForExactTokensOut\n): string {\n  if (exitData.kind == 'ExactBPTInForOneTokenOut') {\n    return defaultAbiCoder.encode(\n      ['uint256', 'uint256', 'uint256'],\n      [\n        EXIT_WEIGHTED_POOL_EXACT_BPT_IN_FOR_ONE_TOKEN_OUT_TAG,\n        exitData.bptAmountIn,\n        exitData.exitTokenIndex\n      ]\n    );\n  } else if (exitData.kind == 'ExactBPTInForTokensOut') {\n    return defaultAbiCoder.encode(\n      ['uint256', 'uint256'],\n      [EXIT_WEIGHTED_POOL_EXACT_BPT_IN_FOR_TOKENS_OUT_TAG, exitData.bptAmountIn]\n    );\n  } else {\n    return defaultAbiCoder.encode(\n      ['uint256', 'uint256[]', 'uint256'],\n      [\n        EXIT_WEIGHTED_POOL_BPT_IN_FOR_EXACT_TOKENS_OUT_TAG,\n        exitData.amountsOut,\n        exitData.maxBPTAmountIn\n      ]\n    );\n  }\n}\n","import PoolExchange from '..';\nimport { encodeJoinStablePool } from '@/lib/utils/balancer/stablePoolEncoding';\nimport { encodeJoinWeightedPool } from '@/lib/utils/balancer/weightedPoolEncoding';\nimport { parseUnits } from '@ethersproject/units';\nimport { BigNumberish } from '@ethersproject/bignumber';\n\nexport default class JoinParams {\n  private exchange: PoolExchange;\n  private isStablePool: boolean;\n  private dataEncodeFn: Function;\n  private fromInternalBalance = false;\n\n  constructor(exchange) {\n    this.exchange = exchange;\n    this.isStablePool = exchange.pool.poolType === 'Stable';\n    this.dataEncodeFn = this.isStablePool\n      ? encodeJoinStablePool\n      : encodeJoinWeightedPool;\n  }\n\n  public serialize(\n    account: string,\n    amountsIn: string[],\n    bptOut: string\n  ): any[] {\n    const parsedAmountsIn = this.parseAmounts(amountsIn);\n    const parsedBptOut = parseUnits(\n      bptOut,\n      this.exchange.pool.onchain.decimals\n    );\n    const txData = this.txData(parsedAmountsIn, parsedBptOut);\n\n    return [\n      this.exchange.pool.id,\n      account,\n      account,\n      {\n        assets: this.exchange.pool.tokenAddresses,\n        maxAmountsIn: parsedAmountsIn,\n        userData: txData,\n        fromInternalBalance: this.fromInternalBalance\n      }\n    ];\n  }\n\n  private parseAmounts(amounts: string[]): BigNumberish[] {\n    return amounts.map((amount, i) => {\n      const token = this.exchange.pool.tokenAddresses[i];\n      return parseUnits(\n        amount,\n        this.exchange.pool.onchain.tokens[token].decimals\n      );\n    });\n  }\n\n  private txData(amountsIn: BigNumberish[], minimumBPT: BigNumberish): string {\n    if (this.exchange.pool.onchain.totalSupply === '0') {\n      return this.dataEncodeFn({ kind: 'Init', amountsIn });\n    } else {\n      return this.dataEncodeFn({\n        kind: 'ExactTokensInForBPTOut',\n        amountsIn,\n        minimumBPT\n      });\n    }\n  }\n}\n","import PoolExchange from '..';\nimport { encodeExitStablePool } from '@/lib/utils/balancer/stablePoolEncoding';\nimport { encodeExitWeightedPool } from '@/lib/utils/balancer/weightedPoolEncoding';\nimport { parseUnits } from '@ethersproject/units';\nimport { BigNumberish } from '@ethersproject/bignumber';\n\nexport default class ExitParams {\n  private exchange: PoolExchange;\n  private isStablePool: boolean;\n  private dataEncodeFn: Function;\n  private toInternalBalance = false;\n\n  constructor(exchange) {\n    this.exchange = exchange;\n    this.isStablePool = exchange.pool.poolType === 'Stable';\n    this.dataEncodeFn = this.isStablePool\n      ? encodeExitStablePool\n      : encodeExitWeightedPool;\n  }\n\n  public serialize(\n    account: string,\n    amountsOut: string[],\n    bptIn: string,\n    exitTokenIndex: number | null,\n    exactOut: boolean\n  ): any[] {\n    const parsedAmountsOut = this.parseAmounts(amountsOut);\n    const parsedBptIn = parseUnits(bptIn, this.exchange.pool.onchain.decimals);\n    const txData = this.txData(\n      parsedAmountsOut,\n      parsedBptIn,\n      exitTokenIndex,\n      exactOut\n    );\n\n    return [\n      this.exchange.pool.id,\n      account,\n      account,\n      {\n        assets: this.exchange.pool.tokenAddresses,\n        minAmountsOut: parsedAmountsOut,\n        userData: txData,\n        toInternalBalance: this.toInternalBalance\n      }\n    ];\n  }\n\n  private parseAmounts(amounts: string[]): BigNumberish[] {\n    return amounts.map((amount, i) => {\n      const token = this.exchange.pool.tokenAddresses[i];\n      return parseUnits(\n        amount,\n        this.exchange.pool.onchain.tokens[token].decimals\n      );\n    });\n  }\n\n  private txData(\n    amountsOut: BigNumberish[],\n    bptIn: BigNumberish,\n    exitTokenIndex: number | null,\n    exactOut: boolean\n  ): string {\n    const isSingleAssetOut = exitTokenIndex !== null;\n\n    if (isSingleAssetOut) {\n      return this.dataEncodeFn({\n        kind: 'ExactBPTInForOneTokenOut',\n        bptAmountIn: bptIn,\n        exitTokenIndex\n      });\n    } else if (exactOut) {\n      return this.dataEncodeFn({\n        amountsOut,\n        maxBPTAmountIn: bptIn\n      });\n    } else {\n      return this.dataEncodeFn({\n        kind: 'ExactBPTInForTokensOut',\n        bptAmountIn: bptIn\n      });\n    }\n  }\n}\n","import { TransactionResponse } from '@ethersproject/abstract-provider';\nimport configs from '@/lib/config';\nimport { callStatic, sendTransaction } from '@/lib/utils/balancer/web3';\nimport { default as vaultAbi } from '@/lib/abi/Vault.json';\nimport { default as helpersAbi } from '@/lib/abi/BalancerHelpers.json';\nimport { TokenMap } from '@/types';\nimport JoinParams from './serializers/JoinParams';\nimport ExitParams from './serializers/ExitParams';\nimport { FullPool } from '@/services/balancer/subgraph/types';\nimport { JsonRpcProvider, Web3Provider } from '@ethersproject/providers';\n\nexport default class Exchange {\n  pool: FullPool;\n  network: string;\n  vaultAddress: string;\n  helpersAddress: string;\n  tokens: TokenMap;\n\n  constructor(pool: FullPool, network: string, tokens: TokenMap) {\n    this.pool = pool;\n    this.network = network;\n    this.tokens = tokens;\n    this.vaultAddress = configs[network].addresses.vault;\n    this.helpersAddress = configs[network].addresses.balancerHelpers;\n  }\n\n  public async queryJoin(\n    provider: Web3Provider | JsonRpcProvider,\n    account: string,\n    amountsIn: string[],\n    bptOut = '0'\n  ) {\n    const txParams = this.joinParams.serialize(account, amountsIn, bptOut);\n\n    return await callStatic(\n      provider,\n      this.helpersAddress,\n      helpersAbi,\n      'queryJoin',\n      txParams\n    );\n  }\n\n  public async join(\n    provider: Web3Provider | JsonRpcProvider,\n    account: string,\n    amountsIn: string[],\n    bptOut = '0'\n  ): Promise<TransactionResponse> {\n    const txParams = this.joinParams.serialize(account, amountsIn, bptOut);\n\n    return await sendTransaction(\n      provider,\n      this.vaultAddress,\n      vaultAbi,\n      'joinPool',\n      txParams\n    );\n  }\n\n  public async queryExit(\n    provider: Web3Provider | JsonRpcProvider,\n    account: string,\n    amountsOut: string[],\n    bptIn: string,\n    exitTokenIndex: number | null,\n    exactOut: boolean\n  ) {\n    const txParams = this.exitParams.serialize(\n      account,\n      amountsOut,\n      bptIn,\n      exitTokenIndex,\n      exactOut\n    );\n\n    return await callStatic(\n      provider,\n      this.helpersAddress,\n      helpersAbi,\n      'queryExit',\n      txParams\n    );\n  }\n\n  public async exit(\n    provider: Web3Provider | JsonRpcProvider,\n    account: string,\n    amountsOut: string[],\n    bptIn: string,\n    exitTokenIndex: number | null,\n    exactOut: boolean\n  ): Promise<TransactionResponse> {\n    const txParams = this.exitParams.serialize(\n      account,\n      amountsOut,\n      bptIn,\n      exitTokenIndex,\n      exactOut\n    );\n\n    return await sendTransaction(\n      provider,\n      this.vaultAddress,\n      vaultAbi,\n      'exitPool',\n      txParams\n    );\n  }\n\n  private get joinParams() {\n    return new JoinParams(this);\n  }\n\n  private get exitParams() {\n    return new ExitParams(this);\n  }\n}\n","import Calculator from './calculator.sevice';\nimport { PiOptions } from './calculator.sevice';\nimport { parseUnits, formatUnits } from '@ethersproject/units';\nimport { bnum } from '@/lib/utils';\nimport BigNumber from 'bignumber.js';\n\nimport {\n  _exactTokensInForBPTOut,\n  _exactBPTInForTokenOut,\n  _bptInForExactTokenOut,\n  _bptInForExactTokensOut\n} from '@balancer-labs/sor2/dist/pools/weightedPool/weightedMathEvm';\nimport { BPTForTokensZeroPriceImpact as _bptForTokensZeroPriceImpact } from '@balancer-labs/sor2/dist/frontendHelpers/weightedHelpers';\nimport { fnum } from '@balancer-labs/sor2/dist/math/lib/fixedPoint';\nimport { FixedPointNumber } from '@balancer-labs/sor2/dist/math/FixedPointNumber';\n\nexport default class Weighted {\n  calc: Calculator;\n\n  constructor(calculator) {\n    this.calc = calculator;\n  }\n\n  public exactTokensInForBPTOut(tokenAmounts: string[]): FixedPointNumber {\n    const balances = this.calc.poolTokenBalances.map(b => fnum(b.toString()));\n    const weights = this.calc.poolTokenWeights.map(w => fnum(w.toString()));\n    const denormAmounts = this.calc.denormAmounts(\n      tokenAmounts,\n      this.calc.poolTokenDecimals\n    );\n    const amounts = denormAmounts.map(a => fnum(a.toString()));\n\n    return _exactTokensInForBPTOut(\n      balances,\n      weights,\n      amounts,\n      fnum(this.calc.poolTotalSupply.toString()),\n      fnum(this.calc.poolSwapFee.toString())\n    );\n  }\n\n  public bptInForExactTokensOut(tokenAmounts: string[]): FixedPointNumber {\n    const balances = this.calc.poolTokenBalances.map(b => fnum(b.toString()));\n    const weights = this.calc.poolTokenWeights.map(w => fnum(w.toString()));\n    const denormAmounts = this.calc.denormAmounts(\n      tokenAmounts,\n      this.calc.poolTokenDecimals\n    );\n    const amounts = denormAmounts.map(a => fnum(a.toString()));\n\n    return _bptInForExactTokensOut(\n      balances,\n      weights,\n      amounts,\n      fnum(this.calc.poolTotalSupply.toString()),\n      fnum(this.calc.poolSwapFee.toString())\n    );\n  }\n\n  public bptInForExactTokenOut(\n    amount: string,\n    tokenIndex: number\n  ): FixedPointNumber {\n    const tokenBalance = fnum(\n      this.calc.poolTokenBalances[tokenIndex].toString()\n    );\n    const tokenNormalizedWeight = fnum(\n      this.calc.poolTokenWeights[tokenIndex].toString()\n    );\n    const bptAmountIn = fnum(\n      parseUnits(amount, this.calc.poolTokenDecimals[tokenIndex]).toString()\n    );\n    const bptTotalSupply = fnum(this.calc.poolTotalSupply.toString());\n    const swapFee = fnum(this.calc.poolSwapFee.toString());\n\n    return _bptInForExactTokenOut(\n      tokenBalance,\n      tokenNormalizedWeight,\n      bptAmountIn,\n      bptTotalSupply,\n      swapFee\n    );\n  }\n\n  public exactBPTInForTokenOut(\n    bptAmount: string,\n    tokenIndex: number\n  ): FixedPointNumber {\n    const tokenBalance = fnum(\n      this.calc.poolTokenBalances[tokenIndex].toString()\n    );\n    const tokenNormalizedWeight = fnum(\n      this.calc.poolTokenWeights[tokenIndex].toString()\n    );\n    const bptAmountIn = fnum(\n      parseUnits(bptAmount, this.calc.poolDecimals).toString()\n    );\n\n    return _exactBPTInForTokenOut(\n      tokenBalance,\n      tokenNormalizedWeight,\n      bptAmountIn,\n      fnum(this.calc.poolTotalSupply.toString()),\n      fnum(this.calc.poolSwapFee.toString())\n    );\n  }\n\n  public priceImpact(tokenAmounts: string[], opts: PiOptions): BigNumber {\n    let bptAmount, bptZeroPriceImpact;\n\n    if (this.calc.action === 'join') {\n      bptAmount = this.exactTokensInForBPTOut(tokenAmounts);\n      if (bptAmount < 0) return bnum(0);\n      bptZeroPriceImpact = this.bptForTokensZeroPriceImpact(tokenAmounts);\n\n      return bnum(1).minus(bptAmount.div(bptZeroPriceImpact));\n    } else {\n      // Single asset exit\n      if (opts.exactOut) {\n        bptAmount = this.bptInForExactTokensOut(tokenAmounts);\n        bptZeroPriceImpact = this.bptForTokensZeroPriceImpact(tokenAmounts);\n      } else {\n        bptAmount = parseUnits(\n          this.calc.bptBalance,\n          this.calc.poolDecimals\n        ).toString();\n        tokenAmounts = this.calc.pool.tokensList.map((_, i) => {\n          if (i !== opts.tokenIndex) return '0';\n          const tokenAmount = this.exactBPTInForTokenOut(\n            this.calc.bptBalance,\n            opts.tokenIndex\n          ).toString();\n          return formatUnits(\n            tokenAmount,\n            this.calc.poolTokenDecimals[opts.tokenIndex]\n          ).toString();\n        });\n        bptZeroPriceImpact = this.bptForTokensZeroPriceImpact(tokenAmounts);\n      }\n\n      return bnum(bptAmount)\n        .div(bptZeroPriceImpact)\n        .minus(1);\n    }\n  }\n\n  public bptForTokensZeroPriceImpact(tokenAmounts: string[]): BigNumber {\n    const denormAmounts = this.calc.denormAmounts(\n      tokenAmounts,\n      this.calc.poolTokenDecimals\n    );\n    const amounts = denormAmounts.map(a => bnum(a.toString()));\n\n    return _bptForTokensZeroPriceImpact(\n      this.calc.poolTokenBalances.map(b => bnum(b.toString())),\n      this.calc.poolTokenDecimals,\n      this.calc.poolTokenWeights.map(w => bnum(w.toString())),\n      amounts,\n      bnum(this.calc.poolTotalSupply.toString())\n    );\n  }\n}\n","import Calculator from './calculator.sevice';\nimport { PiOptions } from './calculator.sevice';\nimport { parseUnits, formatUnits } from '@ethersproject/units';\nimport { bnum } from '@/lib/utils';\nimport BigNumber from 'bignumber.js';\n\nimport {\n  _exactTokensInForBPTOut,\n  _exactBPTInForTokenOut,\n  _bptInForExactTokensOut\n} from '@balancer-labs/sor2/dist/pools/stablePool/stableMathEvm';\nimport { BPTForTokensZeroPriceImpact as _bptForTokensZeroPriceImpact } from '@balancer-labs/sor2/dist/frontendHelpers/stableHelpers';\nimport { fnum } from '@balancer-labs/sor2/dist/math/lib/fixedPoint';\nimport { FixedPointNumber } from '@balancer-labs/sor2/dist/math/FixedPointNumber';\nimport { BigNumberish } from '@ethersproject/bignumber';\n\n/**\n * The stableMathEvm works with all values scaled to 18 decimals,\n * all inputs should be scaled appropriately.\n */\nexport default class Stable {\n  calc: Calculator;\n\n  constructor(calculator) {\n    this.calc = calculator;\n  }\n\n  public exactTokensInForBPTOut(tokenAmounts: string[]): FixedPointNumber {\n    const amp = fnum(this.calc.pool.onchain.amp?.toString() || '0');\n    const denormAmounts = this.calc.denormAmounts(\n      tokenAmounts,\n      this.calc.poolTokenDecimals.map(() => 18)\n    );\n    const amounts = denormAmounts.map(a => fnum(a.toString()));\n\n    const bptOut = _exactTokensInForBPTOut(\n      this.scaledBalances,\n      amp,\n      amounts,\n      this.scaledPoolTotalSupply,\n      fnum(this.calc.poolSwapFee.toString())\n    );\n\n    return this.scaleOutput(\n      bptOut.toString(),\n      this.calc.poolDecimals,\n      BigNumber.ROUND_DOWN // If OUT given IN, round down\n    );\n  }\n\n  public bptInForExactTokensOut(tokenAmounts: string[]): FixedPointNumber {\n    const amp = fnum(this.calc.pool.onchain.amp?.toString() || '0');\n    const denormAmounts = this.calc.denormAmounts(\n      tokenAmounts,\n      this.calc.poolTokenDecimals.map(() => 18)\n    );\n    const amounts = denormAmounts.map(a => fnum(a.toString()));\n\n    const bptIn = _bptInForExactTokensOut(\n      this.scaledBalances,\n      amp,\n      amounts,\n      this.scaledPoolTotalSupply,\n      fnum(this.calc.poolSwapFee.toString())\n    );\n\n    return this.scaleOutput(\n      bptIn.toString(),\n      this.calc.poolDecimals,\n      BigNumber.ROUND_UP // If IN given OUT, round up\n    );\n  }\n\n  public bptInForExactTokenOut(\n    amount: string,\n    tokenIndex: number\n  ): FixedPointNumber {\n    const amp = fnum(this.calc.pool.onchain.amp?.toString() || '0');\n    const amounts = this.calc.pool.tokenAddresses.map((address, i) => {\n      if (i === tokenIndex) return fnum(parseUnits(amount, 18).toString());\n      return fnum('0');\n    });\n\n    const bptIn = _bptInForExactTokensOut(\n      this.scaledBalances,\n      amp,\n      amounts,\n      this.scaledPoolTotalSupply,\n      fnum(this.calc.poolSwapFee.toString())\n    );\n\n    return this.scaleOutput(\n      bptIn.toString(),\n      this.calc.poolDecimals,\n      BigNumber.ROUND_UP // If IN given OUT, round up\n    );\n  }\n\n  public exactBPTInForTokenOut(\n    bptAmount: string,\n    tokenIndex: number\n  ): FixedPointNumber {\n    const amp = fnum(this.calc.pool.onchain.amp?.toString() || '0');\n    const bptAmountIn = fnum(parseUnits(bptAmount, 18).toString());\n\n    const tokenAmountOut = _exactBPTInForTokenOut(\n      tokenIndex,\n      this.scaledBalances,\n      amp,\n      bptAmountIn,\n      this.scaledPoolTotalSupply,\n      fnum(this.calc.poolSwapFee.toString())\n    );\n\n    return this.scaleOutput(\n      tokenAmountOut.toString(),\n      this.calc.poolTokenDecimals[tokenIndex],\n      BigNumber.ROUND_DOWN // If OUT given IN, round down\n    );\n  }\n\n  public priceImpact(tokenAmounts: string[], opts: PiOptions): BigNumber {\n    let bptAmount: FixedPointNumber | BigNumberish;\n    let bptZeroPriceImpact: BigNumber;\n\n    if (this.calc.action === 'join') {\n      bptAmount = this.exactTokensInForBPTOut(tokenAmounts);\n      if (bptAmount.isLessThan(0)) return bnum(0);\n      bptZeroPriceImpact = this.bptForTokensZeroPriceImpact(tokenAmounts);\n\n      return bnum(1).minus(bptAmount.div(bptZeroPriceImpact));\n    } else {\n      // Single asset exit\n      if (opts.exactOut) {\n        bptAmount = this.bptInForExactTokensOut(tokenAmounts);\n        bptZeroPriceImpact = this.bptForTokensZeroPriceImpact(tokenAmounts);\n      } else {\n        bptAmount = parseUnits(\n          this.calc.bptBalance,\n          this.calc.poolDecimals\n        ).toString();\n        tokenAmounts = this.calc.pool.tokensList.map((_, i) => {\n          if (i !== opts.tokenIndex) return '0';\n          const tokenAmount = this.exactBPTInForTokenOut(\n            this.calc.bptBalance,\n            opts.tokenIndex\n          ).toString();\n          return formatUnits(\n            tokenAmount,\n            this.calc.poolTokenDecimals[opts.tokenIndex]\n          ).toString();\n        });\n        bptZeroPriceImpact = this.bptForTokensZeroPriceImpact(tokenAmounts);\n      }\n\n      return bnum(bptAmount)\n        .div(bptZeroPriceImpact)\n        .minus(1);\n    }\n  }\n\n  // PRIVATE FUNCTIONS\n\n  private bptForTokensZeroPriceImpact(tokenAmounts: string[]): BigNumber {\n    const amp = fnum(this.calc.pool.onchain.amp?.toString() || '0');\n    const denormAmounts = this.calc.denormAmounts(\n      tokenAmounts,\n      this.calc.poolTokenDecimals\n    );\n    const amounts = denormAmounts.map(a => bnum(a.toString()));\n    const balances = this.calc.poolTokenBalances.map(b => bnum(b.toString()));\n\n    return _bptForTokensZeroPriceImpact(\n      balances,\n      this.calc.poolTokenDecimals,\n      amounts,\n      bnum(this.calc.poolTotalSupply.toString()),\n      amp\n    );\n  }\n\n  private get scaledBalances(): FixedPointNumber[] {\n    return this.calc.poolTokenBalances.map((balance, i) => {\n      const normalizedBalance = formatUnits(\n        balance,\n        this.calc.poolTokenDecimals[i]\n      );\n      const scaledBalance = parseUnits(normalizedBalance, 18);\n      return fnum(scaledBalance.toString());\n    });\n  }\n\n  private get scaledPoolTotalSupply(): FixedPointNumber {\n    const normalizedSupply = formatUnits(\n      this.calc.poolTotalSupply,\n      this.calc.poolDecimals\n    );\n    const scaledSupply = parseUnits(normalizedSupply, 18);\n    return fnum(scaledSupply.toString());\n  }\n\n  private scaleOutput(\n    amount: string,\n    decimals: number,\n    rounding: BigNumber.RoundingMode\n  ): FixedPointNumber {\n    const normalizedAmount = bnum(formatUnits(amount, 18)).toFixed(\n      decimals,\n      rounding\n    );\n    const scaledAmount = parseUnits(normalizedAmount, decimals);\n\n    return fnum(scaledAmount.toString());\n  }\n}\n","import BigNumber from 'bignumber.js';\nimport { parseUnits, formatUnits } from '@ethersproject/units';\nimport { BigNumberish } from '@ethersproject/bignumber';\nimport { FixedPointNumber } from '@balancer-labs/sor2/dist/math/FixedPointNumber';\n\nimport { FullPool } from '@/services/balancer/subgraph/types';\n\nimport { TokenMap } from '@/types';\n\nimport Weighted from './weighted';\nimport Stable from './stable';\n\ninterface Amounts {\n  send: string[];\n  receive: string[];\n  fixedToken: number;\n}\n\nexport interface PiOptions {\n  exactOut: boolean;\n  tokenIndex: number | null;\n}\n\ntype PoolAction = 'join' | 'exit';\n\nexport default class CalculatorService {\n  pool: FullPool;\n  allTokens: TokenMap;\n  action: PoolAction;\n  types = ['send', 'receive'];\n  weighted: Weighted;\n  stable: Stable;\n\n  constructor(\n    pool: FullPool,\n    allTokens: TokenMap,\n    action: PoolAction,\n    weightedClass = Weighted,\n    stableClass = Stable\n  ) {\n    this.pool = pool;\n    this.allTokens = allTokens;\n    this.action = action;\n    this.weighted = new weightedClass(this);\n    this.stable = new stableClass(this);\n  }\n\n  public setAllTokens(tokens: TokenMap): void {\n    this.allTokens = tokens;\n  }\n\n  public setPool(pool: FullPool): void {\n    this.pool = pool;\n  }\n\n  public priceImpact(\n    tokenAmounts: string[],\n    opts: PiOptions = { exactOut: false, tokenIndex: 0 }\n  ): BigNumber {\n    if (this.isStablePool) {\n      return this.stable.priceImpact(tokenAmounts, opts);\n    }\n    return this.weighted.priceImpact(tokenAmounts, opts);\n  }\n\n  public exactTokensInForBPTOut(tokenAmounts: string[]): FixedPointNumber {\n    if (this.isStablePool) {\n      return this.stable.exactTokensInForBPTOut(tokenAmounts);\n    }\n    return this.weighted.exactTokensInForBPTOut(tokenAmounts);\n  }\n\n  public exactBPTInForTokenOut(\n    bptAmount: string,\n    tokenIndex: number\n  ): FixedPointNumber {\n    if (this.isStablePool) {\n      return this.stable.exactBPTInForTokenOut(bptAmount, tokenIndex);\n    }\n    return this.weighted.exactBPTInForTokenOut(bptAmount, tokenIndex);\n  }\n\n  public bptInForExactTokenOut(\n    amount: string,\n    tokenIndex: number\n  ): FixedPointNumber {\n    if (this.isStablePool) {\n      return this.stable.bptInForExactTokenOut(amount, tokenIndex);\n    }\n    return this.weighted.bptInForExactTokenOut(amount, tokenIndex);\n  }\n\n  public propMax(): Amounts {\n    let maxAmounts: Amounts = {\n      send: [],\n      receive: [],\n      fixedToken: 0\n    };\n    const type = this.action === 'join' ? 'send' : 'receive';\n\n    this.pool.tokenAddresses.forEach((token, tokenIndex) => {\n      let hasBalance = true;\n      const balance = this.allTokens[token].balance.toString();\n      const amounts = this.propAmountsGiven(balance, tokenIndex, type);\n\n      amounts.send.forEach((amount, amountIndex) => {\n        const greaterThanBalance =\n          Number(amount) >\n          Number(this.allTokens[this.tokenOf(type, amountIndex)].balance);\n        if (greaterThanBalance) hasBalance = false;\n      });\n\n      if (hasBalance) {\n        const currentMaxAmount = parseFloat(maxAmounts.send[tokenIndex] || '0');\n        const thisAmount = parseFloat(amounts.send[tokenIndex]);\n        if (thisAmount > currentMaxAmount) {\n          maxAmounts = amounts;\n          maxAmounts.fixedToken = tokenIndex;\n        }\n      }\n    });\n\n    return maxAmounts;\n  }\n\n  public propAmountsGiven(\n    fixedAmount: string,\n    index: number,\n    type: 'send' | 'receive'\n  ): Amounts {\n    if (fixedAmount.trim() === '')\n      return { send: [], receive: [], fixedToken: 0 };\n\n    const types = ['send', 'receive'];\n    const fixedTokenAddress = this.tokenOf(type, index);\n    const fixedToken = this.allTokens[fixedTokenAddress];\n    const fixedDenormAmount = parseUnits(fixedAmount, fixedToken.decimals);\n    const fixedRatio = this.ratioOf(type, index);\n    const amounts = {\n      send: this.sendTokens.map(() => ''),\n      receive: this.receiveTokens.map(() => ''),\n      fixedToken: index\n    };\n\n    amounts[type][index] = fixedAmount;\n\n    [this.sendRatios, this.receiveRatios].forEach((ratios, ratioType) => {\n      ratios.forEach((ratio, i) => {\n        if (i !== index || type !== types[ratioType]) {\n          const tokenAddress = this.tokenOf(types[ratioType], i);\n          const token = this.allTokens[tokenAddress];\n          amounts[types[ratioType]][i] = formatUnits(\n            fixedDenormAmount.mul(ratio).div(fixedRatio),\n            token.decimals\n          );\n        }\n      });\n    });\n\n    return amounts;\n  }\n\n  public denormAmounts(amounts: string[], decimals: number[]): BigNumberish[] {\n    return amounts.map((a, i) => parseUnits(a, decimals[i]));\n  }\n\n  public tokenOf(type: string, index: number) {\n    return this[`${type}Tokens`][index];\n  }\n\n  public ratioOf(type: string, index: number) {\n    return this[`${type}Ratios`][index];\n  }\n\n  public get poolTokenBalances(): BigNumberish[] {\n    const normalizedBalances = Object.values(this.pool.onchain.tokens).map(\n      t => t.balance\n    );\n    return normalizedBalances.map((balance, i) =>\n      parseUnits(balance, this.poolTokenDecimals[i])\n    );\n  }\n\n  public get poolTokenDecimals(): number[] {\n    return Object.values(this.pool.onchain.tokens).map(t => t.decimals);\n  }\n\n  public get poolTokenWeights(): BigNumberish[] {\n    const normalizedWeights = Object.values(this.pool.onchain.tokens).map(\n      t => t.weight\n    );\n    return normalizedWeights.map(weight => parseUnits(weight.toString(), 18));\n  }\n\n  public get poolTotalSupply(): BigNumberish {\n    return parseUnits(this.pool.onchain.totalSupply, this.poolDecimals);\n  }\n\n  public get poolSwapFee(): BigNumberish {\n    return parseUnits(this.pool.onchain.swapFee, 18);\n  }\n\n  public get poolDecimals(): number {\n    return this.pool.onchain.decimals;\n  }\n\n  public get bptBalance(): string {\n    return this.allTokens[this.pool.address].balance;\n  }\n\n  public get isStablePool(): boolean {\n    return this.pool.poolType === 'Stable';\n  }\n\n  public get sendTokens(): string[] {\n    if (this.action === 'join') return this.pool.tokenAddresses;\n    return [this.pool.address];\n  }\n\n  public get receiveTokens(): string[] {\n    if (this.action === 'join') return [this.pool.address];\n    return this.pool.tokenAddresses;\n  }\n\n  public get sendRatios(): BigNumberish[] {\n    if (this.action === 'join') return this.poolTokenBalances;\n    return [this.poolTotalSupply];\n  }\n\n  public get receiveRatios(): BigNumberish[] {\n    if (this.action === 'join') return [this.poolTotalSupply];\n    return this.poolTokenBalances;\n  }\n}\n","<template>\n  <div :class=\"['flex flex-col px-4 py-2', hasZeroBalance ? 'hidden' : '']\">\n    <BalRadio\n      v-for=\"(type, i) in formTypes\"\n      :key=\"i\"\n      v-model=\"selected\"\n      :value=\"type.value\"\n      name=\"formType\"\n      class=\"py-2\"\n      :disabled=\"loading\"\n    >\n      <template v-slot:label>\n        <span>\n          {{ type.label }}\n        </span>\n        <span v-if=\"!missingPrices\" class=\"text-xs text-gray-500\">\n          ({{ `${type.max} ${$t('max').toLowerCase()}` }})\n        </span>\n        <BalTooltip v-if=\"type.tooltip\">\n          <template v-slot:activator>\n            <BalIcon name=\"info\" size=\"xs\" class=\"text-gray-400 -mb-px ml-2\" />\n          </template>\n          <div class=\"w-52\">\n            {{ type.tooltip }}\n          </div>\n        </BalTooltip>\n      </template>\n    </BalRadio>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, ref, watch } from 'vue';\n\ntype FormTypes = 'proportional' | 'custom';\n\ninterface FormType {\n  label: string;\n  max: string;\n  value: FormTypes;\n  tooltip?: string;\n}\n\nexport default defineComponent({\n  name: 'TypeToggle',\n\n  emits: ['update:modelValue'],\n\n  props: {\n    formTypes: { type: Object as PropType<FormType[]>, required: true },\n    modelValue: { type: String, required: true },\n    loading: { type: Boolean, default: false },\n    hasZeroBalance: { type: Boolean, default: false },\n    missingPrices: { type: Boolean, default: false }\n  },\n\n  setup(props, { emit }) {\n    const selected = ref(props.formTypes[0].value);\n\n    watch(selected, newVal => {\n      emit('update:modelValue', newVal);\n    });\n\n    watch(\n      () => props.modelValue,\n      newVal => {\n        if (selected.value != newVal) selected.value = newVal as FormTypes;\n      }\n    );\n\n    return {\n      selected\n    };\n  }\n});\n</script>\n","\nimport { defineComponent, PropType, ref, watch } from 'vue';\n\ntype FormTypes = 'proportional' | 'custom';\n\ninterface FormType {\n  label: string;\n  max: string;\n  value: FormTypes;\n  tooltip?: string;\n}\n\nexport default defineComponent({\n  name: 'TypeToggle',\n\n  emits: ['update:modelValue'],\n\n  props: {\n    formTypes: { type: Object as PropType<FormType[]>, required: true },\n    modelValue: { type: String, required: true },\n    loading: { type: Boolean, default: false },\n    hasZeroBalance: { type: Boolean, default: false },\n    missingPrices: { type: Boolean, default: false }\n  },\n\n  setup(props, { emit }) {\n    const selected = ref(props.formTypes[0].value);\n\n    watch(selected, newVal => {\n      emit('update:modelValue', newVal);\n    });\n\n    watch(\n      () => props.modelValue,\n      newVal => {\n        if (selected.value != newVal) selected.value = newVal as FormTypes;\n      }\n    );\n\n    return {\n      selected\n    };\n  }\n});\n","import { render } from \"./FormTypeToggle.vue?vue&type=template&id=0a2ac05f\"\nimport script from \"./FormTypeToggle.vue?vue&type=script&lang=ts\"\nexport * from \"./FormTypeToggle.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport {\n  defineComponent,\n  computed,\n  watch,\n  onMounted,\n  reactive,\n  toRefs,\n  ref,\n  PropType\n} from 'vue';\nimport { FormRef } from '@/types';\nimport {\n  isPositive,\n  isLessThanOrEqualTo,\n  isRequired\n} from '@/lib/utils/validations';\nimport { useI18n } from 'vue-i18n';\nimport { TransactionData } from 'bnc-notify';\nimport { formatUnits } from '@ethersproject/units';\nimport isEqual from 'lodash/isEqual';\n\nimport useTokenApprovals from '@/composables/pools/useTokenApprovals';\nimport useNumbers from '@/composables/useNumbers';\nimport useNotify from '@/composables/useNotify';\nimport useSlippage from '@/composables/useSlippage';\n\nimport PoolExchange from '@/services/pool/exchange';\nimport PoolCalculator from '@/services/pool/calculator/calculator.sevice';\nimport { bnum } from '@/lib/utils';\nimport FormTypeToggle from './shared/FormTypeToggle.vue';\nimport { FullPool } from '@/services/balancer/subgraph/types';\nimport useFathom from '@/composables/useFathom';\n\nimport { TOKENS } from '@/constants/tokens';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useAccountBalances from '@/composables/useAccountBalances';\nimport useTokens from '@/composables/useTokens';\nimport { TransactionResponse } from '@ethersproject/abstract-provider';\nimport useEthers from '@/composables/useEthers';\n\nexport enum FormTypes {\n  proportional = 'proportional',\n  custom = 'custom'\n}\n\ntype DataProps = {\n  investForm: FormRef;\n  investType: FormTypes;\n  loading: boolean;\n  amounts: string[];\n  propMax: string[];\n  validInputs: boolean[];\n  propToken: number;\n  range: number;\n  highPiAccepted: boolean;\n};\n\nexport default defineComponent({\n  name: 'InvestForm',\n\n  components: {\n    FormTypeToggle\n  },\n\n  emits: ['success'],\n\n  props: {\n    pool: { type: Object as PropType<FullPool>, required: true },\n    missingPrices: { type: Boolean, default: false }\n  },\n\n  setup(props: { pool: FullPool }, { emit }) {\n    const data = reactive<DataProps>({\n      investForm: {} as FormRef,\n      investType: FormTypes.proportional,\n      loading: false,\n      amounts: [],\n      propMax: [],\n      validInputs: [],\n      propToken: 0,\n      range: 1000,\n      highPiAccepted: false\n    });\n\n    // COMPOSABLES\n    const {\n      isWalletReady,\n      account,\n      toggleWalletSelectModal,\n      getProvider,\n      appNetworkConfig,\n      userNetworkConfig\n    } = useVueWeb3();\n    const { fNum, toFiat } = useNumbers();\n    const { t } = useI18n();\n    const { txListener, supportsBlocknative } = useNotify();\n    const { minusSlippage } = useSlippage();\n    const { tokens } = useTokens();\n    const { trackGoal, Goals } = useFathom();\n    const { refetchBalances } = useAccountBalances();\n    const { txListener: ethersTxListener } = useEthers();\n\n    const { amounts } = toRefs(data);\n\n    const {\n      requiredAllowances,\n      approveAllowances,\n      approving,\n      approvedAll\n    } = useTokenApprovals(props.pool.tokenAddresses, amounts);\n\n    // SERVICES\n    const poolExchange = computed(\n      () =>\n        new PoolExchange(\n          props.pool,\n          String(userNetworkConfig.value.chainId),\n          tokens.value\n        )\n    );\n\n    const poolCalculator = new PoolCalculator(props.pool, tokens.value, 'join');\n\n    // COMPUTED\n    const tokenWeights = computed(() =>\n      Object.values(props.pool.onchain.tokens).map(t => t.weight)\n    );\n\n    const hasAmounts = computed(() => {\n      const amountSum = fullAmounts.value\n        .map(amount => parseFloat(amount))\n        .reduce((a, b) => a + b, 0);\n      return amountSum > 0;\n    });\n\n    const hasValidInputs = computed(() => {\n      return data.validInputs.every(validInput => validInput === true);\n    });\n\n    const balances = computed(() => {\n      return props.pool.tokenAddresses.map(\n        token => tokens.value[token].balance\n      );\n    });\n\n    const hasZeroBalance = computed(() => {\n      return balances.value.map(b => Number(b)).includes(0);\n    });\n\n    const total = computed(() => {\n      const total = props.pool.tokenAddresses\n        .map((_, i) => amountUSD(i))\n        .reduce((a, b) => a + b, 0);\n\n      if (total < 0) return fNum(0, 'usd');\n      return fNum(total, 'usd');\n    });\n\n    const requireApproval = computed(() => {\n      if (!hasAmounts.value) return false;\n      if (approvedAll.value) return false;\n      return requiredAllowances.value.length > 0;\n    });\n\n    const isProportional = computed(() => {\n      return data.investType === FormTypes.proportional;\n    });\n\n    const propPercentage = computed(() => {\n      const currentAmount = fullAmounts.value[data.propToken];\n      const maxAmount = tokenBalance(data.propToken);\n\n      if (currentAmount === '0') return 0;\n      return Math.ceil((Number(currentAmount) / Number(maxAmount)) * 100);\n    });\n\n    const fullAmounts = computed(() => {\n      return props.pool.tokenAddresses.map((_, i) => {\n        return data.amounts[i] || '0';\n      });\n    });\n\n    const propMaxUSD = computed(() => {\n      const total = props.pool.tokenAddresses\n        .map((token, i) => toFiat(Number(data.propMax[i]), token))\n        .reduce((a, b) => a + b, 0);\n\n      return fNum(total, 'usd');\n    });\n\n    const balanceMaxUSD = computed(() => {\n      const total = props.pool.tokenAddresses\n        .map((token, i) => toFiat(balances.value[i], token))\n        .reduce((a, b) => a + b, 0);\n\n      return fNum(total, 'usd');\n    });\n\n    const priceImpact = computed(() => {\n      if (isProportional.value || !hasAmounts.value) return 0;\n      return poolCalculator.priceImpact(fullAmounts.value).toNumber() || 0;\n    });\n\n    const priceImpactClasses = computed(() => {\n      return {\n        'text-red-500 font-medium': priceImpact.value >= 0.01,\n        'text-gray-500 font-normal': priceImpact.value < 0.01\n      };\n    });\n\n    const minBptOut = computed(() => {\n      let bptOut = poolCalculator\n        .exactTokensInForBPTOut(fullAmounts.value)\n        .toString();\n      bptOut = formatUnits(bptOut, props.pool.onchain.decimals);\n\n      return minusSlippage(bptOut, props.pool.onchain.decimals);\n    });\n\n    const nativeAsset = computed(() => appNetworkConfig.nativeAsset.symbol);\n\n    const isWethPool = computed(() =>\n      props.pool.tokenAddresses.includes(TOKENS.AddressMap.WETH)\n    );\n\n    const formTypes = ref([\n      {\n        label: t('noPriceImpact'),\n        max: propMaxUSD,\n        value: FormTypes.proportional,\n        tooltip: t('noPriceImpactTip')\n      },\n      {\n        label: t('customAmounts'),\n        max: balanceMaxUSD,\n        value: FormTypes.custom,\n        tooltip: t('customAmountsTip')\n      }\n    ]);\n\n    // METHODS\n    function tokenBalance(index: number): string {\n      return tokens.value[props.pool.tokenAddresses[index]]?.balance || '0';\n    }\n\n    function tokenDecimals(index) {\n      return tokens.value[props.pool.tokenAddresses[index]].decimals;\n    }\n\n    function amountUSD(index) {\n      const amount = fullAmounts.value[index] || 0;\n      return toFiat(amount, props.pool.tokenAddresses[index]);\n    }\n\n    function formatBalance(index) {\n      return fNum(tokenBalance(index), 'token');\n    }\n\n    function amountRules(index) {\n      return isWalletReady.value\n        ? [\n            isPositive(),\n            isLessThanOrEqualTo(\n              Number(tokenBalance(index)),\n              t('exceedsBalance')\n            )\n          ]\n        : [isPositive()];\n    }\n\n    function symbolFor(token) {\n      return tokens.value[token]?.symbol || '';\n    }\n\n    async function setPropMax() {\n      const { send, fixedToken } = poolCalculator.propMax();\n      data.propMax = [...send];\n      data.propToken = fixedToken;\n    }\n\n    function resetSlider() {\n      data.amounts = [...data.propMax];\n      data.range = 1000;\n    }\n\n    function setPropAmountsFor(range) {\n      const fractionBasisPoints = (range / 1000) * 10000;\n      const amount = bnum(balances.value[data.propToken])\n        .times(fractionBasisPoints)\n        .div(10000)\n        .toFixed(tokenDecimals(data.propToken));\n\n      const { send } = poolCalculator.propAmountsGiven(\n        amount,\n        data.propToken,\n        'send'\n      );\n      data.amounts = send;\n    }\n\n    // Legacy function for sense check against JS calculation of BPT out\n    // Left here so numbers can be debugged in conosle\n    // Talk to Fernando to see if still needed\n    async function calcMinBptOut(): Promise<void> {\n      let { bptOut } = await poolExchange.value.queryJoin(\n        getProvider(),\n        account.value,\n        fullAmounts.value\n      );\n      bptOut = formatUnits(bptOut.toString(), props.pool.onchain.decimals);\n      console.log(\n        'bptOut (queryJoin)',\n        minusSlippage(bptOut, props.pool.onchain.decimals)\n      );\n      console.log('bptOut (JS)', minBptOut.value);\n    }\n\n    function blocknativeTxHandler(tx: TransactionResponse): void {\n      txListener(tx.hash, {\n        onTxConfirmed: async (tx: TransactionData) => {\n          emit('success', tx);\n          data.amounts = [];\n          data.loading = false;\n          await refetchBalances.value();\n        },\n        onTxCancel: () => {\n          data.loading = false;\n        },\n        onTxFailed: () => {\n          data.loading = false;\n        }\n      });\n    }\n\n    function ethersTxHandler(tx: TransactionResponse): void {\n      ethersTxListener(tx, {\n        onTxConfirmed: async (tx: TransactionResponse) => {\n          emit('success', tx);\n          data.amounts = [];\n          data.loading = false;\n          await refetchBalances.value();\n        },\n        onTxFailed: () => {\n          data.loading = false;\n        }\n      });\n    }\n\n    async function submit(): Promise<void> {\n      if (!data.investForm.validate()) return;\n      try {\n        data.loading = true;\n        await calcMinBptOut();\n        const tx = await poolExchange.value.join(\n          getProvider(),\n          account.value,\n          fullAmounts.value,\n          minBptOut.value\n        );\n        console.log('Receipt', tx);\n        if (supportsBlocknative.value) {\n          blocknativeTxHandler(tx);\n        } else {\n          ethersTxHandler(tx);\n        }\n      } catch (error) {\n        console.error(error);\n        data.loading = false;\n      }\n    }\n\n    watch(tokens, newTokens => {\n      poolCalculator.setAllTokens(newTokens);\n    });\n\n    watch(\n      () => props.pool.onchain.tokens,\n      (newTokens, oldTokens) => {\n        poolCalculator.setPool(props.pool);\n        const tokensChanged = !isEqual(newTokens, oldTokens);\n        if (tokensChanged) {\n          setPropMax();\n          if (isProportional.value) setPropAmountsFor(data.range);\n        }\n      }\n    );\n\n    watch(balances, (newBalances, oldBalances) => {\n      const balancesChanged = !isEqual(newBalances, oldBalances);\n      if (balancesChanged) {\n        setPropMax();\n        if (isProportional.value) setPropAmountsFor(data.range);\n      }\n    });\n\n    watch(\n      () => data.investType,\n      newType => {\n        if (newType === FormTypes.proportional) {\n          setPropMax();\n          resetSlider();\n        }\n      }\n    );\n\n    watch(\n      () => data.range,\n      newVal => {\n        setPropAmountsFor(newVal);\n      }\n    );\n\n    watch(isWalletReady, isAuth => {\n      if (!isAuth) {\n        data.amounts = [];\n        data.propMax = [];\n      }\n    });\n\n    watch(account, () => {\n      if (hasZeroBalance.value) {\n        data.investType = FormTypes.custom;\n      } else {\n        setPropMax();\n        resetSlider();\n      }\n    });\n\n    onMounted(() => {\n      if (hasZeroBalance.value) {\n        data.investType = FormTypes.custom;\n      } else {\n        setPropMax();\n        resetSlider();\n      }\n    });\n\n    return {\n      // data\n      ...toRefs(data),\n      Goals,\n      nativeAsset,\n      TOKENS,\n      // computed\n      tokens,\n      hasValidInputs,\n      hasAmounts,\n      approving,\n      requireApproval,\n      requiredAllowances,\n      tokenWeights,\n      tokenBalance,\n      amountRules,\n      total,\n      isWalletReady,\n      toggleWalletSelectModal,\n      formatBalance,\n      isProportional,\n      propPercentage,\n      priceImpact,\n      priceImpactClasses,\n      amountUSD,\n      formTypes,\n      isRequired,\n      hasZeroBalance,\n      isWethPool,\n      // methods\n      submit,\n      approveAllowances,\n      fNum,\n      trackGoal,\n      symbolFor,\n      tokenDecimals\n    };\n  }\n});\n","import { render } from \"./InvestForm.vue?vue&type=template&id=3108eee3\"\nimport script from \"./InvestForm.vue?vue&type=script&lang=ts\"\nexport * from \"./InvestForm.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport {\n  defineComponent,\n  computed,\n  watch,\n  onMounted,\n  reactive,\n  toRefs,\n  ref,\n  PropType\n} from 'vue';\nimport { FormRef } from '@/types';\nimport {\n  isPositive,\n  isLessThanOrEqualTo,\n  isRequired\n} from '@/lib/utils/validations';\nimport { TransactionData } from 'bnc-notify';\nimport { useI18n } from 'vue-i18n';\nimport isEqual from 'lodash/isEqual';\n\nimport useNumbers from '@/composables/useNumbers';\nimport useNotify from '@/composables/useNotify';\nimport useSlippage from '@/composables/useSlippage';\n\nimport PoolExchange from '@/services/pool/exchange';\nimport PoolCalculator from '@/services/pool/calculator/calculator.sevice';\nimport { bnum } from '@/lib/utils';\nimport { formatUnits } from '@ethersproject/units';\nimport { TransactionResponse } from '@ethersproject/abstract-provider';\nimport FormTypeToggle from './shared/FormTypeToggle.vue';\nimport { FullPool } from '@/services/balancer/subgraph/types';\nimport useFathom from '@/composables/useFathom';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useAccountBalances from '@/composables/useAccountBalances';\nimport useTokens from '@/composables/useTokens';\nimport useEthers from '@/composables/useEthers';\n\nexport enum FormTypes {\n  proportional = 'proportional',\n  single = 'single'\n}\n\nexport default defineComponent({\n  name: 'WithdrawalForm',\n\n  components: {\n    FormTypeToggle\n  },\n\n  emits: ['success'],\n\n  props: {\n    pool: { type: Object as PropType<FullPool>, required: true },\n    missingPrices: { type: Boolean, default: false }\n  },\n\n  setup(props: { pool: FullPool }, { emit }) {\n    const data = reactive({\n      withdrawForm: {} as FormRef,\n      loading: false,\n      amounts: [] as string[],\n      propMax: [] as string[],\n      bptIn: '',\n      withdrawType: FormTypes.proportional as FormTypes,\n      singleAsset: 0,\n      range: 1000,\n      highPiAccepted: false\n    });\n\n    // COMPOSABLES\n    const {\n      isWalletReady,\n      toggleWalletSelectModal,\n      getProvider,\n      account,\n      userNetworkConfig\n    } = useVueWeb3();\n    const { txListener, supportsBlocknative } = useNotify();\n    const { fNum, toFiat } = useNumbers();\n    const { minusSlippage, addSlippage } = useSlippage();\n    const { t } = useI18n();\n    const { tokens } = useTokens();\n    const { trackGoal, Goals } = useFathom();\n    const { txListener: ethersTxListener } = useEthers();\n    const { refetchBalances } = useAccountBalances();\n\n    // SERVICES\n    const poolExchange = computed(\n      () =>\n        new PoolExchange(props.pool, userNetworkConfig.value.key, tokens.value)\n    );\n\n    const poolCalculator = new PoolCalculator(props.pool, tokens.value, 'exit');\n\n    // COMPUTED\n    const tokenWeights = computed(() =>\n      Object.values(props.pool.onchain.tokens).map(t => t.weight)\n    );\n\n    const fullAmounts = computed(() => {\n      return props.pool.tokenAddresses.map((_, i) => {\n        return data.amounts[i] || '0';\n      });\n    });\n\n    const singleAssetMaxes = computed(() => {\n      return props.pool.tokenAddresses.map((_, tokenIndex) => {\n        return formatUnits(\n          poolCalculator\n            .exactBPTInForTokenOut(bptBalance.value.toString(), tokenIndex)\n            .toString(),\n          tokenDecimals(tokenIndex)\n        );\n      });\n    });\n\n    const propMaxUSD = computed(() => {\n      const total = props.pool.tokenAddresses\n        .map((token, i) => toFiat(Number(data.propMax[i]), token))\n        .reduce((a, b) => a + b, 0);\n\n      return fNum(total, 'usd');\n    });\n\n    const singleMaxUSD = computed(() => {\n      const maxes = props.pool.tokenAddresses.map((token, i) =>\n        toFiat(singleAssetMaxes.value[i], token)\n      );\n\n      return fNum(Math.max(...maxes), 'usd');\n    });\n\n    const hasAmounts = computed(() => {\n      const amountSum = fullAmounts.value\n        .map(amount => parseFloat(amount))\n        .reduce((a, b) => a + b, 0);\n\n      return amountSum > 0;\n    });\n\n    const bptBalance = computed(() => {\n      return tokens.value[props.pool.address].balance;\n    });\n\n    function formatPropBalance(index) {\n      return fNum(data.propMax[index] || '0', 'token');\n    }\n\n    function singleAssetMaxLabel(index) {\n      return fNum(singleAssetMaxes.value[index] || '0', 'token');\n    }\n\n    function amountUSD(index) {\n      const amount = fullAmounts.value[index] || '0';\n      return toFiat(amount, props.pool.tokenAddresses[index]);\n    }\n\n    const total = computed(() => {\n      const total = props.pool.tokenAddresses\n        .map((_, i) => amountUSD(i))\n        .reduce((a, b) => a + b, 0);\n\n      if (total < 0) return fNum(0, 'usd');\n      return fNum(total, 'usd');\n    });\n\n    const propPercentage = computed(() => {\n      const maxAmount = Number(bptBalance.value);\n      const currentAmount = Number(data.bptIn);\n      if (!currentAmount) return 0;\n      if (maxAmount === 0) return 0;\n      return Math.ceil((currentAmount / maxAmount) * 100);\n    });\n\n    const isProportional = computed(() => {\n      return data.withdrawType === FormTypes.proportional;\n    });\n\n    const isSingleAsset = computed(() => {\n      return data.withdrawType === FormTypes.single;\n    });\n\n    const singleAssetMaxed = computed(() => {\n      return (\n        singleAssetMaxes.value[data.singleAsset] ===\n        fullAmounts.value[data.singleAsset]\n      );\n    });\n\n    const exitTokenIndex = computed(() => {\n      if (isSingleAsset.value && singleAssetMaxed.value) {\n        return data.singleAsset;\n      }\n      return null;\n    });\n\n    const exactOut = computed(() => {\n      return isSingleAsset.value && !singleAssetMaxed.value;\n    });\n\n    const priceImpact = computed(() => {\n      if (!hasAmounts.value || isProportional.value) return 0;\n      return poolCalculator\n        .priceImpact(fullAmounts.value, {\n          exactOut: exactOut.value,\n          tokenIndex: exitTokenIndex.value\n        })\n        .toNumber();\n    });\n\n    const priceImpactClasses = computed(() => {\n      return {\n        'text-red-500 font-medium': priceImpact.value >= 0.01,\n        'text-gray-500 font-normal': priceImpact.value < 0.01\n      };\n    });\n\n    const bptIn = computed(() => {\n      if (isProportional.value) return data.bptIn;\n      if (!exactOut.value) return bptBalance.value; // Single asset max withdrawal\n\n      // Else single asset exact amount case\n      let bptIn = poolCalculator\n        .bptInForExactTokenOut(data.amounts[data.singleAsset], data.singleAsset)\n        .toString();\n      bptIn = formatUnits(bptIn, props.pool.onchain.decimals);\n\n      return addSlippage(bptIn, props.pool.onchain.decimals);\n    });\n\n    const amountsOut = computed(() => {\n      return fullAmounts.value.map((amount, i) => {\n        if (amount === '0' || exactOut.value) return amount;\n        return minusSlippage(amount, tokenDecimals(i));\n      });\n    });\n\n    const formTypes = ref([\n      {\n        label: t('noPriceImpact'),\n        max: propMaxUSD,\n        value: FormTypes.proportional\n      },\n      {\n        label: t('singleToken'),\n        max: singleMaxUSD,\n        value: FormTypes.single\n      }\n    ]);\n\n    // METHODS\n    function tokenDecimals(index) {\n      return tokens.value[props.pool.tokenAddresses[index]].decimals;\n    }\n\n    function amountRules(index) {\n      if (!isWalletReady.value || isProportional.value) return [isPositive()];\n      return [\n        isPositive(),\n        isLessThanOrEqualTo(\n          Number(singleAssetMaxes.value[index]),\n          t('exceedsBalance')\n        )\n      ];\n    }\n\n    function setPropMax(ignoreBptCheck = false) {\n      if (\n        !isWalletReady.value ||\n        (!ignoreBptCheck && Number(bptBalance.value) === 0)\n      )\n        return;\n      const { send, receive } = poolCalculator.propAmountsGiven(\n        bptBalance.value,\n        0,\n        'send'\n      );\n      data.bptIn = send[0];\n      data.propMax = [...receive];\n    }\n\n    function resetSlider() {\n      data.amounts = [...data.propMax];\n      data.range = 1000;\n    }\n\n    function setPropAmountsFor(range) {\n      const fractionBasisPoints = (range / 1000) * 10000;\n      const bpt = bnum(bptBalance.value)\n        .times(fractionBasisPoints)\n        .div(10000)\n        .toFixed(props.pool.onchain.decimals);\n\n      const { send, receive } = poolCalculator.propAmountsGiven(bpt, 0, 'send');\n      data.bptIn = send[0];\n      data.amounts = receive;\n    }\n\n    function setSingleAsset(index) {\n      if (!isSingleAsset.value) return;\n      data.singleAsset = index;\n\n      props.pool.tokenAddresses.forEach((_, i) => {\n        if (i === index) {\n          data.amounts[i] = singleAssetMaxes.value[index];\n        } else {\n          data.amounts[i] = '0';\n        }\n      });\n    }\n\n    // Legacy function for sense check against JS calculation of BPT in\n    // Left here so numbers can be debugged in conosle\n    // Talk to Fernando to see if still needed\n    async function calcBptIn() {\n      const { bptIn: queryBptIn } = await poolExchange.value.queryExit(\n        getProvider(),\n        account.value,\n        fullAmounts.value,\n        bptBalance.value,\n        exitTokenIndex.value,\n        exactOut.value\n      );\n      console.log(\n        'bptIn (queryExit)',\n        formatUnits(queryBptIn.toString(), props.pool.onchain.decimals)\n      );\n      console.log('bptIn (JS)', bptIn.value);\n    }\n\n    function blocknativeTxHandler(tx: TransactionResponse): void {\n      txListener(tx.hash, {\n        onTxConfirmed: async (tx: TransactionData) => {\n          emit('success', tx);\n          data.amounts = [];\n          data.loading = false;\n          await refetchBalances.value();\n          setPropMax(true);\n        },\n        onTxCancel: () => {\n          data.loading = false;\n        },\n        onTxFailed: () => {\n          data.loading = false;\n        }\n      });\n    }\n\n    function ethersTxHandler(tx: TransactionResponse): void {\n      ethersTxListener(tx, {\n        onTxConfirmed: async (tx: TransactionResponse) => {\n          emit('success', tx);\n          data.amounts = [];\n          data.loading = false;\n          await refetchBalances.value();\n          setPropMax(true);\n        },\n        onTxFailed: () => {\n          data.loading = false;\n        }\n      });\n    }\n\n    async function submit(): Promise<void> {\n      if (!data.withdrawForm.validate()) return;\n      try {\n        data.loading = true;\n        await calcBptIn();\n        const tx = await poolExchange.value.exit(\n          getProvider(),\n          account.value,\n          amountsOut.value,\n          `${bptIn.value}`,\n          exitTokenIndex.value,\n          exactOut.value\n        );\n        console.log('Receipt', tx);\n        if (supportsBlocknative.value) {\n          blocknativeTxHandler(tx);\n        } else {\n          ethersTxHandler(tx);\n        }\n      } catch (error) {\n        console.error(error);\n        data.loading = false;\n      }\n    }\n\n    watch(\n      () => props.pool.onchain.tokens,\n      (newTokens, oldTokens) => {\n        poolCalculator.setPool(props.pool);\n        const tokensChanged = !isEqual(newTokens, oldTokens);\n        if (tokensChanged) {\n          setPropMax();\n          if (isProportional.value) setPropAmountsFor(data.range);\n        }\n      }\n    );\n\n    watch(\n      () => data.withdrawType,\n      async newType => {\n        if (newType === FormTypes.proportional) {\n          setPropMax();\n          resetSlider();\n        } else if (newType === FormTypes.single) {\n          data.amounts = props.pool.tokenAddresses.map(() => '0');\n          setSingleAsset(0);\n        }\n      }\n    );\n\n    watch(bptBalance, () => {\n      setPropMax();\n      if (isProportional.value) setPropAmountsFor(data.range);\n    });\n\n    watch(\n      () => data.range,\n      newVal => {\n        setPropAmountsFor(newVal);\n      }\n    );\n\n    watch(tokens, newTokens => {\n      poolCalculator.setAllTokens(newTokens);\n    });\n\n    watch(isWalletReady, isReady => {\n      if (!isReady) {\n        data.amounts = [];\n        data.propMax = [];\n      }\n    });\n\n    watch(account, () => {\n      setPropMax();\n      resetSlider();\n    });\n\n    onMounted(async () => {\n      if (bptBalance.value) {\n        setPropMax();\n        resetSlider();\n      }\n    });\n\n    return {\n      ...toRefs(data),\n      submit,\n      tokens,\n      hasAmounts,\n      tokenWeights,\n      fNum,\n      isWalletReady,\n      toggleWalletSelectModal,\n      total,\n      isProportional,\n      isSingleAsset,\n      setSingleAsset,\n      propPercentage,\n      priceImpact,\n      priceImpactClasses,\n      amountRules,\n      formTypes,\n      formatPropBalance,\n      amountUSD,\n      singleAssetMaxLabel,\n      singleAssetMaxes,\n      isRequired,\n      trackGoal,\n      Goals,\n      tokenDecimals\n    };\n  }\n});\n","<template>\n  <BalForm ref=\"withdrawForm\" @on-submit=\"submit\">\n    <FormTypeToggle\n      v-model=\"withdrawType\"\n      :form-types=\"formTypes\"\n      :loading=\"loading\"\n    />\n\n    <template v-if=\"isProportional\">\n      <div class=\"p-4 border-t\">\n        <div class=\"border rounded-lg shadow-inner p-2\">\n          <div\n            class=\"flex items-center justify-between mb-3 text-sm text-gray-600\"\n          >\n            <span v-text=\"$t('amountToWithdraw')\" />\n            <span>{{ propPercentage }}%</span>\n          </div>\n          <div class=\"flex items-end\">\n            <span\n              class=\"mr-2 text-lg font-medium w-1/2 leading-none break-words\"\n            >\n              {{ missingPrices ? '-' : total }}\n            </span>\n            <BalRangeInput\n              class=\"w-1/2\"\n              v-model=\"range\"\n              :max=\"1000\"\n              :interval=\"1\"\n              :min=\"0\"\n              tooltip=\"none\"\n              :disabled=\"loading\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <div class=\"px-4 py-3 bg-gray-50 border-t border-b\">\n        <div\n          v-for=\"(token, i) in pool.tokenAddresses\"\n          :key=\"token\"\n          class=\"py-3 last:mb-0\"\n        >\n          <div class=\"flex items-center justify-between\">\n            <div class=\"w-1/2 flex items-center\">\n              <BalAsset :address=\"token\" class=\"mr-2\" />\n              <div class=\"w-3/4 flex flex-col leading-none\">\n                <span class=\"break-words\">\n                  {{ fNum(amounts[i], 'token') }}\n                  {{ pool.onchain.tokens[token].symbol }}\n                </span>\n                <span class=\"text-xs text-gray-400 break-words\">\n                  {{ $t('balance') }}: {{ formatPropBalance(i) }}\n                </span>\n              </div>\n            </div>\n            <div class=\"w-1/2 flex flex-col leading-none text-right pl-2\">\n              <span class=\"break-words\">\n                {{ amountUSD(i) === 0 ? '-' : fNum(amountUSD(i), 'usd') }}\n              </span>\n              <span class=\"text-xs text-gray-400\">\n                {{ fNum(tokenWeights[i], 'percent_lg') }}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n\n    <div v-else class=\"px-4 pt-6 border-t border-b\">\n      <BalTextInput\n        v-for=\"(token, i) in pool.tokenAddresses\"\n        :key=\"i\"\n        :name=\"token\"\n        v-model=\"amounts[i]\"\n        :rules=\"amountRules(i)\"\n        type=\"number\"\n        min=\"0\"\n        step=\"any\"\n        placeholder=\"0\"\n        :decimal-limit=\"tokenDecimals(i)\"\n        validate-on=\"input\"\n        prepend-border\n        :faded-out=\"isSingleAsset && singleAsset !== i\"\n        @click=\"setSingleAsset(i)\"\n      >\n        <template v-slot:prepend>\n          <div class=\"flex items-center h-full w-24\">\n            <BalAsset :address=\"token\" />\n            <div class=\"flex flex-col ml-3\">\n              <span class=\"font-medium text-sm leading-none w-14 truncate\">\n                {{ pool.onchain.tokens[token].symbol }}\n              </span>\n            </div>\n          </div>\n        </template>\n        <template v-if=\"isSingleAsset\" v-slot:info>\n          <div\n            class=\"cursor-pointer\"\n            @click.prevent=\"amounts[i] = singleAssetMaxes[i]\"\n          >\n            {{ $t('singleTokenMax') }}: {{ singleAssetMaxLabel(i) }}\n          </div>\n        </template>\n        <template v-slot:append>\n          <div class=\"p-2\">\n            <BalBtn\n              size=\"xs\"\n              color=\"white\"\n              @click.prevent=\"amounts[i] = singleAssetMaxes[i]\"\n            >\n              {{ $t('max') }}\n            </BalBtn>\n          </div>\n        </template>\n      </BalTextInput>\n    </div>\n\n    <div class=\"p-4\">\n      <BalBtn\n        v-if=\"!isWalletReady\"\n        :label=\"$t('connectWallet')\"\n        block\n        @click.prevent=\"toggleWalletSelectModal\"\n      />\n      <template v-else>\n        <div\n          :class=\"['flex items-center text-sm mb-4', priceImpactClasses]\"\n          @click.prevent\n        >\n          <span\n            >{{ $t('priceImpact') }}: {{ fNum(priceImpact, 'percent') }}</span\n          >\n          <BalTooltip>\n            <template v-slot:activator>\n              <BalIcon\n                v-if=\"priceImpact >= 0.01\"\n                name=\"alert-triangle\"\n                size=\"xs\"\n                class=\"ml-1\"\n              />\n              <BalIcon\n                v-else\n                name=\"info\"\n                size=\"xs\"\n                class=\"text-gray-400 -mb-px ml-2\"\n              />\n            </template>\n            <div v-html=\"$t('withdrawWarning')\" class=\"w-52\" />\n          </BalTooltip>\n        </div>\n        <BalCheckbox\n          v-if=\"priceImpact >= 0.01\"\n          v-model=\"highPiAccepted\"\n          :rules=\"[isRequired($t('priceImpactCheckbox'))]\"\n          name=\"highPiAccepted\"\n          class=\"text-gray-500 mb-8\"\n          size=\"sm\"\n          :label=\"$t('priceImpactAccept')\"\n        />\n        <BalBtn\n          type=\"submit\"\n          :loading-label=\"$t('confirming')\"\n          color=\"gradient\"\n          :disabled=\"!hasAmounts\"\n          :loading=\"loading\"\n          block\n          @click=\"trackGoal(Goals.ClickWithdraw)\"\n        >\n          {{ $t('withdraw') }}\n          {{ missingPrices || total.length > 15 ? '' : total }}\n        </BalBtn>\n      </template>\n    </div>\n  </BalForm>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  computed,\n  watch,\n  onMounted,\n  reactive,\n  toRefs,\n  ref,\n  PropType\n} from 'vue';\nimport { FormRef } from '@/types';\nimport {\n  isPositive,\n  isLessThanOrEqualTo,\n  isRequired\n} from '@/lib/utils/validations';\nimport { TransactionData } from 'bnc-notify';\nimport { useI18n } from 'vue-i18n';\nimport isEqual from 'lodash/isEqual';\n\nimport useNumbers from '@/composables/useNumbers';\nimport useNotify from '@/composables/useNotify';\nimport useSlippage from '@/composables/useSlippage';\n\nimport PoolExchange from '@/services/pool/exchange';\nimport PoolCalculator from '@/services/pool/calculator/calculator.sevice';\nimport { bnum } from '@/lib/utils';\nimport { formatUnits } from '@ethersproject/units';\nimport { TransactionResponse } from '@ethersproject/abstract-provider';\nimport FormTypeToggle from './shared/FormTypeToggle.vue';\nimport { FullPool } from '@/services/balancer/subgraph/types';\nimport useFathom from '@/composables/useFathom';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useAccountBalances from '@/composables/useAccountBalances';\nimport useTokens from '@/composables/useTokens';\nimport useEthers from '@/composables/useEthers';\n\nexport enum FormTypes {\n  proportional = 'proportional',\n  single = 'single'\n}\n\nexport default defineComponent({\n  name: 'WithdrawalForm',\n\n  components: {\n    FormTypeToggle\n  },\n\n  emits: ['success'],\n\n  props: {\n    pool: { type: Object as PropType<FullPool>, required: true },\n    missingPrices: { type: Boolean, default: false }\n  },\n\n  setup(props: { pool: FullPool }, { emit }) {\n    const data = reactive({\n      withdrawForm: {} as FormRef,\n      loading: false,\n      amounts: [] as string[],\n      propMax: [] as string[],\n      bptIn: '',\n      withdrawType: FormTypes.proportional as FormTypes,\n      singleAsset: 0,\n      range: 1000,\n      highPiAccepted: false\n    });\n\n    // COMPOSABLES\n    const {\n      isWalletReady,\n      toggleWalletSelectModal,\n      getProvider,\n      account,\n      userNetworkConfig\n    } = useVueWeb3();\n    const { txListener, supportsBlocknative } = useNotify();\n    const { fNum, toFiat } = useNumbers();\n    const { minusSlippage, addSlippage } = useSlippage();\n    const { t } = useI18n();\n    const { tokens } = useTokens();\n    const { trackGoal, Goals } = useFathom();\n    const { txListener: ethersTxListener } = useEthers();\n    const { refetchBalances } = useAccountBalances();\n\n    // SERVICES\n    const poolExchange = computed(\n      () =>\n        new PoolExchange(props.pool, userNetworkConfig.value.key, tokens.value)\n    );\n\n    const poolCalculator = new PoolCalculator(props.pool, tokens.value, 'exit');\n\n    // COMPUTED\n    const tokenWeights = computed(() =>\n      Object.values(props.pool.onchain.tokens).map(t => t.weight)\n    );\n\n    const fullAmounts = computed(() => {\n      return props.pool.tokenAddresses.map((_, i) => {\n        return data.amounts[i] || '0';\n      });\n    });\n\n    const singleAssetMaxes = computed(() => {\n      return props.pool.tokenAddresses.map((_, tokenIndex) => {\n        return formatUnits(\n          poolCalculator\n            .exactBPTInForTokenOut(bptBalance.value.toString(), tokenIndex)\n            .toString(),\n          tokenDecimals(tokenIndex)\n        );\n      });\n    });\n\n    const propMaxUSD = computed(() => {\n      const total = props.pool.tokenAddresses\n        .map((token, i) => toFiat(Number(data.propMax[i]), token))\n        .reduce((a, b) => a + b, 0);\n\n      return fNum(total, 'usd');\n    });\n\n    const singleMaxUSD = computed(() => {\n      const maxes = props.pool.tokenAddresses.map((token, i) =>\n        toFiat(singleAssetMaxes.value[i], token)\n      );\n\n      return fNum(Math.max(...maxes), 'usd');\n    });\n\n    const hasAmounts = computed(() => {\n      const amountSum = fullAmounts.value\n        .map(amount => parseFloat(amount))\n        .reduce((a, b) => a + b, 0);\n\n      return amountSum > 0;\n    });\n\n    const bptBalance = computed(() => {\n      return tokens.value[props.pool.address].balance;\n    });\n\n    function formatPropBalance(index) {\n      return fNum(data.propMax[index] || '0', 'token');\n    }\n\n    function singleAssetMaxLabel(index) {\n      return fNum(singleAssetMaxes.value[index] || '0', 'token');\n    }\n\n    function amountUSD(index) {\n      const amount = fullAmounts.value[index] || '0';\n      return toFiat(amount, props.pool.tokenAddresses[index]);\n    }\n\n    const total = computed(() => {\n      const total = props.pool.tokenAddresses\n        .map((_, i) => amountUSD(i))\n        .reduce((a, b) => a + b, 0);\n\n      if (total < 0) return fNum(0, 'usd');\n      return fNum(total, 'usd');\n    });\n\n    const propPercentage = computed(() => {\n      const maxAmount = Number(bptBalance.value);\n      const currentAmount = Number(data.bptIn);\n      if (!currentAmount) return 0;\n      if (maxAmount === 0) return 0;\n      return Math.ceil((currentAmount / maxAmount) * 100);\n    });\n\n    const isProportional = computed(() => {\n      return data.withdrawType === FormTypes.proportional;\n    });\n\n    const isSingleAsset = computed(() => {\n      return data.withdrawType === FormTypes.single;\n    });\n\n    const singleAssetMaxed = computed(() => {\n      return (\n        singleAssetMaxes.value[data.singleAsset] ===\n        fullAmounts.value[data.singleAsset]\n      );\n    });\n\n    const exitTokenIndex = computed(() => {\n      if (isSingleAsset.value && singleAssetMaxed.value) {\n        return data.singleAsset;\n      }\n      return null;\n    });\n\n    const exactOut = computed(() => {\n      return isSingleAsset.value && !singleAssetMaxed.value;\n    });\n\n    const priceImpact = computed(() => {\n      if (!hasAmounts.value || isProportional.value) return 0;\n      return poolCalculator\n        .priceImpact(fullAmounts.value, {\n          exactOut: exactOut.value,\n          tokenIndex: exitTokenIndex.value\n        })\n        .toNumber();\n    });\n\n    const priceImpactClasses = computed(() => {\n      return {\n        'text-red-500 font-medium': priceImpact.value >= 0.01,\n        'text-gray-500 font-normal': priceImpact.value < 0.01\n      };\n    });\n\n    const bptIn = computed(() => {\n      if (isProportional.value) return data.bptIn;\n      if (!exactOut.value) return bptBalance.value; // Single asset max withdrawal\n\n      // Else single asset exact amount case\n      let bptIn = poolCalculator\n        .bptInForExactTokenOut(data.amounts[data.singleAsset], data.singleAsset)\n        .toString();\n      bptIn = formatUnits(bptIn, props.pool.onchain.decimals);\n\n      return addSlippage(bptIn, props.pool.onchain.decimals);\n    });\n\n    const amountsOut = computed(() => {\n      return fullAmounts.value.map((amount, i) => {\n        if (amount === '0' || exactOut.value) return amount;\n        return minusSlippage(amount, tokenDecimals(i));\n      });\n    });\n\n    const formTypes = ref([\n      {\n        label: t('noPriceImpact'),\n        max: propMaxUSD,\n        value: FormTypes.proportional\n      },\n      {\n        label: t('singleToken'),\n        max: singleMaxUSD,\n        value: FormTypes.single\n      }\n    ]);\n\n    // METHODS\n    function tokenDecimals(index) {\n      return tokens.value[props.pool.tokenAddresses[index]].decimals;\n    }\n\n    function amountRules(index) {\n      if (!isWalletReady.value || isProportional.value) return [isPositive()];\n      return [\n        isPositive(),\n        isLessThanOrEqualTo(\n          Number(singleAssetMaxes.value[index]),\n          t('exceedsBalance')\n        )\n      ];\n    }\n\n    function setPropMax(ignoreBptCheck = false) {\n      if (\n        !isWalletReady.value ||\n        (!ignoreBptCheck && Number(bptBalance.value) === 0)\n      )\n        return;\n      const { send, receive } = poolCalculator.propAmountsGiven(\n        bptBalance.value,\n        0,\n        'send'\n      );\n      data.bptIn = send[0];\n      data.propMax = [...receive];\n    }\n\n    function resetSlider() {\n      data.amounts = [...data.propMax];\n      data.range = 1000;\n    }\n\n    function setPropAmountsFor(range) {\n      const fractionBasisPoints = (range / 1000) * 10000;\n      const bpt = bnum(bptBalance.value)\n        .times(fractionBasisPoints)\n        .div(10000)\n        .toFixed(props.pool.onchain.decimals);\n\n      const { send, receive } = poolCalculator.propAmountsGiven(bpt, 0, 'send');\n      data.bptIn = send[0];\n      data.amounts = receive;\n    }\n\n    function setSingleAsset(index) {\n      if (!isSingleAsset.value) return;\n      data.singleAsset = index;\n\n      props.pool.tokenAddresses.forEach((_, i) => {\n        if (i === index) {\n          data.amounts[i] = singleAssetMaxes.value[index];\n        } else {\n          data.amounts[i] = '0';\n        }\n      });\n    }\n\n    // Legacy function for sense check against JS calculation of BPT in\n    // Left here so numbers can be debugged in conosle\n    // Talk to Fernando to see if still needed\n    async function calcBptIn() {\n      const { bptIn: queryBptIn } = await poolExchange.value.queryExit(\n        getProvider(),\n        account.value,\n        fullAmounts.value,\n        bptBalance.value,\n        exitTokenIndex.value,\n        exactOut.value\n      );\n      console.log(\n        'bptIn (queryExit)',\n        formatUnits(queryBptIn.toString(), props.pool.onchain.decimals)\n      );\n      console.log('bptIn (JS)', bptIn.value);\n    }\n\n    function blocknativeTxHandler(tx: TransactionResponse): void {\n      txListener(tx.hash, {\n        onTxConfirmed: async (tx: TransactionData) => {\n          emit('success', tx);\n          data.amounts = [];\n          data.loading = false;\n          await refetchBalances.value();\n          setPropMax(true);\n        },\n        onTxCancel: () => {\n          data.loading = false;\n        },\n        onTxFailed: () => {\n          data.loading = false;\n        }\n      });\n    }\n\n    function ethersTxHandler(tx: TransactionResponse): void {\n      ethersTxListener(tx, {\n        onTxConfirmed: async (tx: TransactionResponse) => {\n          emit('success', tx);\n          data.amounts = [];\n          data.loading = false;\n          await refetchBalances.value();\n          setPropMax(true);\n        },\n        onTxFailed: () => {\n          data.loading = false;\n        }\n      });\n    }\n\n    async function submit(): Promise<void> {\n      if (!data.withdrawForm.validate()) return;\n      try {\n        data.loading = true;\n        await calcBptIn();\n        const tx = await poolExchange.value.exit(\n          getProvider(),\n          account.value,\n          amountsOut.value,\n          `${bptIn.value}`,\n          exitTokenIndex.value,\n          exactOut.value\n        );\n        console.log('Receipt', tx);\n        if (supportsBlocknative.value) {\n          blocknativeTxHandler(tx);\n        } else {\n          ethersTxHandler(tx);\n        }\n      } catch (error) {\n        console.error(error);\n        data.loading = false;\n      }\n    }\n\n    watch(\n      () => props.pool.onchain.tokens,\n      (newTokens, oldTokens) => {\n        poolCalculator.setPool(props.pool);\n        const tokensChanged = !isEqual(newTokens, oldTokens);\n        if (tokensChanged) {\n          setPropMax();\n          if (isProportional.value) setPropAmountsFor(data.range);\n        }\n      }\n    );\n\n    watch(\n      () => data.withdrawType,\n      async newType => {\n        if (newType === FormTypes.proportional) {\n          setPropMax();\n          resetSlider();\n        } else if (newType === FormTypes.single) {\n          data.amounts = props.pool.tokenAddresses.map(() => '0');\n          setSingleAsset(0);\n        }\n      }\n    );\n\n    watch(bptBalance, () => {\n      setPropMax();\n      if (isProportional.value) setPropAmountsFor(data.range);\n    });\n\n    watch(\n      () => data.range,\n      newVal => {\n        setPropAmountsFor(newVal);\n      }\n    );\n\n    watch(tokens, newTokens => {\n      poolCalculator.setAllTokens(newTokens);\n    });\n\n    watch(isWalletReady, isReady => {\n      if (!isReady) {\n        data.amounts = [];\n        data.propMax = [];\n      }\n    });\n\n    watch(account, () => {\n      setPropMax();\n      resetSlider();\n    });\n\n    onMounted(async () => {\n      if (bptBalance.value) {\n        setPropMax();\n        resetSlider();\n      }\n    });\n\n    return {\n      ...toRefs(data),\n      submit,\n      tokens,\n      hasAmounts,\n      tokenWeights,\n      fNum,\n      isWalletReady,\n      toggleWalletSelectModal,\n      total,\n      isProportional,\n      isSingleAsset,\n      setSingleAsset,\n      propPercentage,\n      priceImpact,\n      priceImpactClasses,\n      amountRules,\n      formTypes,\n      formatPropBalance,\n      amountUSD,\n      singleAssetMaxLabel,\n      singleAssetMaxes,\n      isRequired,\n      trackGoal,\n      Goals,\n      tokenDecimals\n    };\n  }\n});\n</script>\n","import { render } from \"./WithdrawForm.vue?vue&type=template&id=6ded3412\"\nimport script from \"./WithdrawForm.vue?vue&type=script&lang=ts\"\nexport * from \"./WithdrawForm.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div\n    class=\"absolute top-0 left-0 w-full h-full bg-white rounded-lg z-10 text-center\"\n  >\n    <div class=\"flex flex-col justify-between items-center h-full p-4\">\n      <h3 v-text=\"title\" />\n      <div class=\"flex flex-col items-center\">\n        <div\n          class=\"w-20 h-20 rounded-full flex items-center justify-center bg-green-100 text-green-500 mb-8\"\n        >\n          <BalIcon name=\"check-circle\" size=\"xl\" />\n        </div>\n        <p v-html=\"description\" class=\"text-gray-500\" />\n      </div>\n      <div class=\"grid grid-cols-2 gap-4 mt-4 w-full\">\n        <BalBtn\n          tag=\"a\"\n          :href=\"explorerLink\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          flat\n          color=\"gray\"\n        >\n          <span v-text=\"$t('receipt')\" />\n          <BalIcon name=\"external-link\" size=\"sm\" class=\"ml-2\" />\n        </BalBtn>\n        <BalBtn :label=\"closeLabel\" color=\"gray\" flat @click=\"$emit('close')\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'SuccessOverlay',\n\n  emits: ['close'],\n\n  props: {\n    title: { type: String, required: true },\n    description: { type: String, required: true },\n    closeLabel: { type: String, required: true },\n    explorerLink: { type: String, required: true }\n  }\n});\n</script>\n","\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'SuccessOverlay',\n\n  emits: ['close'],\n\n  props: {\n    title: { type: String, required: true },\n    description: { type: String, required: true },\n    closeLabel: { type: String, required: true },\n    explorerLink: { type: String, required: true }\n  }\n});\n","import { render } from \"./SuccessOverlay.vue?vue&type=template&id=505bc43f\"\nimport script from \"./SuccessOverlay.vue?vue&type=script&lang=ts\"\nexport * from \"./SuccessOverlay.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport {\n  defineComponent,\n  reactive,\n  computed,\n  toRefs,\n  PropType,\n  Ref\n} from 'vue';\nimport { useStore } from 'vuex';\nimport useNumbers from '@/composables/useNumbers';\nimport AppSlippageForm from '@/components/forms/AppSlippageForm.vue';\nimport useFathom from '@/composables/useFathom';\n\nimport { TradeInterface } from '@/store/modules/app';\nimport { tradeLiquidityOptions } from '@/constants/options';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\nexport enum TradeSettingsContext {\n  trade,\n  invest\n}\n\nexport default defineComponent({\n  name: 'TradeSettingsPopover',\n\n  components: {\n    AppSlippageForm\n  },\n\n  props: {\n    context: {\n      type: [String, Number] as PropType<TradeSettingsContext>,\n      required: true\n    }\n  },\n\n  setup(props) {\n    // DATA\n    const { context }: { context: Ref<TradeSettingsContext> } = toRefs(props);\n\n    // COMPOSABLES\n    const store = useStore();\n    const { fNum } = useNumbers();\n    const { explorerLinks, isV1Supported } = useVueWeb3();\n    const { trackGoal, Goals } = useFathom();\n\n    // DATA\n    const data = reactive({\n      tradeLiquidityOptions\n    });\n\n    // COMPUTED\n    const appTradeLiquidity = computed(() => store.state.app.tradeLiquidity);\n    const appTradeInterface = computed<TradeInterface>(\n      () => store.state.app.tradeInterface\n    );\n    const appTransactionDeadline = computed<number>(\n      () => store.state.app.transactionDeadline\n    );\n    const hideLiquidity = computed(\n      () => !isV1Supported || context.value === TradeSettingsContext.invest\n    );\n\n    // METHODS\n    const setTradeLiquidity = tradeLiquidity =>\n      store.commit('app/setTradeLiquidity', tradeLiquidity);\n    const setTransactionDeadline = transactionDeadline =>\n      store.commit('app/setTransactionDeadline', transactionDeadline);\n\n    function onActivatorClick(): void {\n      if (context.value === TradeSettingsContext.trade) {\n        trackGoal(Goals.ClickTradeSettings);\n      } else if (context.value === TradeSettingsContext.invest) {\n        trackGoal(Goals.ClickInvestSettings);\n      }\n    }\n\n    return {\n      // data\n      ...toRefs(data),\n      Goals,\n      // constants,\n      TradeInterface,\n      // computed\n      appTradeLiquidity,\n      appTradeInterface,\n      appTransactionDeadline,\n      hideLiquidity,\n      // methods\n      setTradeLiquidity,\n      setTransactionDeadline,\n      fNum,\n      explorer: explorerLinks,\n      onActivatorClick\n    };\n  }\n});\n","<template>\n  <BalPopover>\n    <template v-slot:activator>\n      <BalBtn\n        circle\n        color=\"white\"\n        size=\"sm\"\n        class=\"mb-2 text-gray-500 icon-spin-anim\"\n        @click=\"onActivatorClick\"\n      >\n        <BalIcon name=\"settings\" size=\"sm\" />\n      </BalBtn>\n    </template>\n\n    <div>\n      <div class=\"flex items-baseline\">\n        <span v-text=\"$t('slippageTolerance')\" class=\"font-medium mb-2\" />\n        <BalTooltip>\n          <template v-slot:activator>\n            <BalIcon name=\"info\" size=\"xs\" class=\"ml-1 text-gray-400 -mb-px\" />\n          </template>\n          <div v-html=\"$t('marketConditionsWarning')\" class=\"w-52\" />\n        </BalTooltip>\n      </div>\n      <AppSlippageForm class=\"mt-1\" />\n    </div>\n    <div v-if=\"!hideLiquidity\" class=\"mt-6\">\n      <div class=\"flex items-baseline\">\n        <span v-text=\"$t('tradeLiquidity')\" class=\"font-medium mb-2\" />\n        <BalTooltip>\n          <template v-slot:activator>\n            <BalIcon name=\"info\" size=\"xs\" class=\"ml-1 text-gray-400 -mb-px\" />\n          </template>\n          <div v-text=\"$t('whichPools')\" class=\"w-52\" />\n        </BalTooltip>\n      </div>\n      <div class=\"flex mt-1\">\n        <BalBtnGroup\n          :options=\"tradeLiquidityOptions\"\n          v-model=\"appTradeLiquidity\"\n          @update:modelValue=\"setTradeLiquidity\"\n        />\n      </div>\n    </div>\n    <div v-if=\"appTradeInterface === TradeInterface.GNOSIS\" class=\"mt-6\">\n      <div class=\"flex items-baseline\">\n        <span v-text=\"$t('transactionDeadline')\" class=\"font-medium mb-2\" />\n        <BalTooltip>\n          <template v-slot:activator>\n            <BalIcon name=\"info\" size=\"xs\" class=\"ml-1 text-gray-400 -mb-px\" />\n          </template>\n          <div v-html=\"$t('transactionDeadlineTooltip')\" class=\"w-52\" />\n        </BalTooltip>\n      </div>\n      <div class=\"flex mt-1\">\n        <div class=\"flex items-center px-1 border rounded-lg shadow-inner\">\n          <input\n            class=\"w-8 text-right\"\n            v-model=\"appTransactionDeadline\"\n            placeholder=\"20\"\n            type=\"number\"\n            step=\"1\"\n            min=\"0\"\n            @update:modelValue=\"setTransactionDeadline\"\n          />\n        </div>\n        <div class=\"px-2\">\n          minutes\n        </div>\n      </div>\n    </div>\n  </BalPopover>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  reactive,\n  computed,\n  toRefs,\n  PropType,\n  Ref\n} from 'vue';\nimport { useStore } from 'vuex';\nimport useNumbers from '@/composables/useNumbers';\nimport AppSlippageForm from '@/components/forms/AppSlippageForm.vue';\nimport useFathom from '@/composables/useFathom';\n\nimport { TradeInterface } from '@/store/modules/app';\nimport { tradeLiquidityOptions } from '@/constants/options';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\nexport enum TradeSettingsContext {\n  trade,\n  invest\n}\n\nexport default defineComponent({\n  name: 'TradeSettingsPopover',\n\n  components: {\n    AppSlippageForm\n  },\n\n  props: {\n    context: {\n      type: [String, Number] as PropType<TradeSettingsContext>,\n      required: true\n    }\n  },\n\n  setup(props) {\n    // DATA\n    const { context }: { context: Ref<TradeSettingsContext> } = toRefs(props);\n\n    // COMPOSABLES\n    const store = useStore();\n    const { fNum } = useNumbers();\n    const { explorerLinks, isV1Supported } = useVueWeb3();\n    const { trackGoal, Goals } = useFathom();\n\n    // DATA\n    const data = reactive({\n      tradeLiquidityOptions\n    });\n\n    // COMPUTED\n    const appTradeLiquidity = computed(() => store.state.app.tradeLiquidity);\n    const appTradeInterface = computed<TradeInterface>(\n      () => store.state.app.tradeInterface\n    );\n    const appTransactionDeadline = computed<number>(\n      () => store.state.app.transactionDeadline\n    );\n    const hideLiquidity = computed(\n      () => !isV1Supported || context.value === TradeSettingsContext.invest\n    );\n\n    // METHODS\n    const setTradeLiquidity = tradeLiquidity =>\n      store.commit('app/setTradeLiquidity', tradeLiquidity);\n    const setTransactionDeadline = transactionDeadline =>\n      store.commit('app/setTransactionDeadline', transactionDeadline);\n\n    function onActivatorClick(): void {\n      if (context.value === TradeSettingsContext.trade) {\n        trackGoal(Goals.ClickTradeSettings);\n      } else if (context.value === TradeSettingsContext.invest) {\n        trackGoal(Goals.ClickInvestSettings);\n      }\n    }\n\n    return {\n      // data\n      ...toRefs(data),\n      Goals,\n      // constants,\n      TradeInterface,\n      // computed\n      appTradeLiquidity,\n      appTradeInterface,\n      appTransactionDeadline,\n      hideLiquidity,\n      // methods\n      setTradeLiquidity,\n      setTransactionDeadline,\n      fNum,\n      explorer: explorerLinks,\n      onActivatorClick\n    };\n  }\n});\n</script>\n\n<style>\n.trade-settings-option:hover {\n  @apply text-blue-500 border-blue-500;\n}\n\n.trade-settings-option.active {\n  @apply text-blue-500 border-blue-500;\n}\n</style>\n","import { render } from \"./TradeSettingsPopover.vue?vue&type=template&id=068281da\"\nimport script from \"./TradeSettingsPopover.vue?vue&type=script&lang=ts\"\nexport * from \"./TradeSettingsPopover.vue?vue&type=script&lang=ts\"\n\nimport \"./TradeSettingsPopover.vue?vue&type=style&index=0&id=068281da&lang=css\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, ref } from 'vue';\nimport InvestForm from '@/components/forms/pool_actions/InvestForm.vue';\nimport WithdrawForm from '@/components/forms/pool_actions/WithdrawForm.vue';\nimport SuccessOverlay from '@/components/cards/SuccessOverlay.vue';\nimport { useI18n } from 'vue-i18n';\nimport TradeSettingsPopover, {\n  TradeSettingsContext\n} from '@/components/popovers/TradeSettingsPopover.vue';\nimport useFathom from '@/composables/useFathom';\nimport useWeb3 from '@/composables/useWeb3';\n\nexport default defineComponent({\n  name: 'PoolActionsCard',\n\n  emits: ['onTx'],\n\n  components: {\n    InvestForm,\n    WithdrawForm,\n    SuccessOverlay,\n    TradeSettingsPopover\n  },\n\n  props: {\n    pool: { type: Object, required: true },\n    missingPrices: { type: Boolean, default: false }\n  },\n\n  setup(_, { emit }) {\n    // COMPOSABLES\n    const { t } = useI18n();\n    const { trackGoal, Goals } = useFathom();\n    const { explorer } = useWeb3();\n\n    // DATA\n    const tabs = [\n      { value: 'invest', label: t('invest') },\n      { value: 'withdraw', label: t('withdraw') }\n    ];\n    const activeTab = ref(tabs[0].value);\n    const investmentSuccess = ref(false);\n    const withdrawalSuccess = ref(false);\n    const txHash = ref('');\n\n    // METHODS\n    function handleInvestment(txReceipt): void {\n      investmentSuccess.value = true;\n      txHash.value = txReceipt.hash;\n      trackGoal(Goals.Invested);\n      emit('onTx', txReceipt);\n    }\n\n    function handleWithdrawal(txReceipt): void {\n      withdrawalSuccess.value = true;\n      txHash.value = txReceipt.hash;\n      trackGoal(Goals.Withdrawal);\n      emit('onTx', txReceipt);\n    }\n\n    return {\n      // data\n      activeTab,\n      tabs,\n      investmentSuccess,\n      withdrawalSuccess,\n      txHash,\n      TradeSettingsContext,\n      // methods\n      handleInvestment,\n      handleWithdrawal,\n      explorer\n    };\n  }\n});\n","import { render } from \"./PoolActionsCard.vue?vue&type=template&id=faf29a82\"\nimport script from \"./PoolActionsCard.vue?vue&type=script&lang=ts\"\nexport * from \"./PoolActionsCard.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"flex justify-between items-end border-b mb-6\">\n    <BalTabs v-model=\"activeTab\" :tabs=\"tabs\" no-pad class=\"-mb-px\" />\n  </div>\n  <template v-if=\"activeTab === PoolActivityTab.ALL_ACTIVITY\">\n    <Activities\n      :pool-activity-type=\"PoolActivityTab.ALL_ACTIVITY\"\n      :pool=\"pool\"\n      :loading=\"loading\"\n    />\n  </template>\n  <template v-if=\"activeTab === PoolActivityTab.USER_ACTIVITY\">\n    <Activities\n      :pool-activity-type=\"PoolActivityTab.USER_ACTIVITY\"\n      :pool=\"pool\"\n      :loading=\"loading\"\n    />\n  </template>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, ref } from 'vue';\nimport { useI18n } from 'vue-i18n';\n\nimport { FullPool } from '@/services/balancer/subgraph/types';\n\nimport Activities from './Activities.vue';\n\nimport { PoolActivityTab } from './types';\n\nexport default defineComponent({\n  components: {\n    Activities\n  },\n\n  props: {\n    pool: {\n      type: Object as PropType<FullPool>,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  setup() {\n    // COMPOSABLES\n    const { t } = useI18n();\n\n    // DATA\n    const tabs = [\n      { value: PoolActivityTab.ALL_ACTIVITY, label: t('allTransactions') },\n      { value: PoolActivityTab.USER_ACTIVITY, label: t('myTransactions') }\n    ];\n    const activeTab = ref(tabs[0].value);\n\n    return {\n      // data\n      tabs,\n      activeTab,\n      // constants\n      PoolActivityTab\n    };\n  }\n});\n</script>\n","<template>\n  <Table\n    :tokens=\"pool ? pool.tokensList : []\"\n    :pool-activities=\"poolActivities\"\n    :is-loading=\"loading || isLoadingPoolActivities\"\n    :is-loading-more=\"poolActivitiesIsFetchingNextPage\"\n    :is-paginated=\"poolActivitiesHasNextPage\"\n    @load-more=\"loadMorePoolActivities\"\n    :no-results-label=\"\n      poolActivityType === PoolActivityTab.ALL_ACTIVITY\n        ? $t('noTransactionsPool')\n        : $t('noTransactionsUserPool')\n    \"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, PropType } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { flatten } from 'lodash';\n\nimport Table from './Table.vue';\n\nimport usePoolActivitiesQuery from '@/composables/queries/usePoolActivitiesQuery';\nimport usePoolUserActivitiesQuery from '@/composables/queries/usePoolUserActivitiesQuery';\n\nimport { FullPool } from '@/services/balancer/subgraph/types';\n\nimport { PoolActivityTab } from './types';\n\nexport default defineComponent({\n  components: {\n    Table\n  },\n\n  props: {\n    pool: {\n      type: Object as PropType<FullPool>,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    poolActivityType: {\n      type: String as PropType<PoolActivityTab>,\n      default: PoolActivityTab.ALL_ACTIVITY\n    }\n  },\n\n  setup(props) {\n    // COMPOSABLES\n    const route = useRoute();\n\n    const id = route.params.id as string;\n\n    const poolActivitiesQuery =\n      props.poolActivityType === PoolActivityTab.ALL_ACTIVITY\n        ? usePoolActivitiesQuery(id)\n        : usePoolUserActivitiesQuery(id);\n\n    // COMPUTED\n    const poolActivities = computed(() =>\n      poolActivitiesQuery.data.value\n        ? flatten(\n            poolActivitiesQuery.data.value.pages.map(\n              page => page.poolActivities\n            )\n          )\n        : []\n    );\n\n    const isLoadingPoolActivities = computed(\n      () => poolActivitiesQuery.isLoading.value\n    );\n\n    const poolActivitiesHasNextPage = computed(\n      () => poolActivitiesQuery.hasNextPage?.value\n    );\n\n    const poolActivitiesIsFetchingNextPage = computed(\n      () => poolActivitiesQuery.isFetchingNextPage?.value\n    );\n\n    // METHODS\n    function loadMorePoolActivities() {\n      poolActivitiesQuery.fetchNextPage.value();\n    }\n\n    return {\n      // computed\n      isLoadingPoolActivities,\n      poolActivities,\n      poolActivitiesHasNextPage,\n      poolActivitiesIsFetchingNextPage,\n      // methods\n      loadMorePoolActivities,\n      // constants\n      PoolActivityTab\n    };\n  }\n});\n</script>\n","<template>\n  <BalCard class=\"overflow-x-auto\" no-pad>\n    <BalTable\n      :columns=\"columns\"\n      :data=\"activityRows\"\n      :is-loading=\"isLoading\"\n      :is-loading-more=\"isLoadingMore\"\n      :is-paginated=\"isPaginated\"\n      @load-more=\"$emit('loadMore')\"\n      skeleton-class=\"h-64\"\n      sticky=\"both\"\n      :no-results-label=\"noResultsLabel\"\n      :initial-state=\"{\n        sortColumn: 'timeAgo',\n        sortDirection: 'desc'\n      }\"\n    >\n      <template v-slot:actionCell=\"action\">\n        <div class=\"px-6 py-2\">\n          <div class=\"flex items-center\">\n            <div>\n              <PlusSquareIcon v-if=\"action.type === 'Join'\" />\n              <MinusSquareIcon v-else />\n            </div>\n            <div>{{ action.label }}</div>\n          </div>\n        </div>\n      </template>\n\n      <template v-slot:valueCell=\"action\">\n        <div class=\"px-6 py-4 flex justify-end\">\n          {{ fNum(action.value, 'usd_m') }}\n        </div>\n      </template>\n\n      <template v-slot:detailsCell=\"action\">\n        <div class=\"px-6 py-4 flex -mt-1 flex-wrap\">\n          <template v-for=\"(tokenAmount, i) in action.tokenAmounts\" :key=\"i\">\n            <div\n              class=\"m-1 flex items-center p-1 px-2 bg-gray-50 rounded-lg\"\n              v-if=\"tokenAmount.amount !== '0'\"\n            >\n              <BalAsset\n                :address=\"tokenAmount.address\"\n                class=\"mr-2 flex-shrink-0\"\n              />\n              {{ tokenAmount.amount }}\n            </div>\n          </template>\n        </div>\n      </template>\n\n      <template v-slot:timeCell=\"action\">\n        <div class=\"px-6 py-4\">\n          <div\n            class=\"flex items-center justify-end wrap whitespace-nowrap text-right\"\n          >\n            {{ action.formattedDate }}\n            <BalLink\n              :href=\"explorer.txLink(action.tx)\"\n              external\n              class=\"ml-2 flex items-center\"\n            >\n              <BalIcon\n                name=\"external-link\"\n                size=\"sm\"\n                class=\"text-gray-500 hover:text-blue-500\"\n              />\n            </BalLink>\n          </div>\n        </div>\n      </template>\n    </BalTable>\n  </BalCard>\n</template>\n\n<script lang=\"ts\">\nimport { PropType, computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport numeral from 'numeral';\n\nimport useTokens from '@/composables/useTokens';\nimport useNumbers from '@/composables/useNumbers';\n\nimport { getAddress } from '@ethersproject/address';\n\nimport {\n  PoolActivity,\n  PoolActivityType\n} from '@/services/balancer/subgraph/types';\nimport { ColumnDefinition } from '@/components/_global/BalTable/BalTable.vue';\n\nimport { formatDistanceToNow } from 'date-fns';\nimport { Token } from '@/types';\nimport { bnum } from '@balancer-labs/sor2/dist/bmath';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\ntype TokenAmount = {\n  address: string;\n  symbol: string;\n  amount: string;\n};\n\ninterface ActivityRow {\n  label: string;\n  value: string;\n  timestamp: number;\n  formattedDate: string;\n  tx: string;\n  type: PoolActivityType;\n  tokenAmounts: TokenAmount[];\n}\n\nexport default {\n  emits: ['loadMore'],\n\n  props: {\n    tokens: {\n      type: Array as PropType<string[]>,\n      required: true\n    },\n    poolActivities: {\n      type: Array as PropType<PoolActivity[]>,\n      required: true\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isLoadingMore: {\n      type: Boolean,\n      default: false\n    },\n    loadMore: {\n      type: Function as PropType<() => void>\n    },\n    isPaginated: {\n      type: Boolean,\n      default: false\n    },\n    noResultsLabel: {\n      type: String\n    }\n  },\n\n  setup(props) {\n    const { fNum } = useNumbers();\n    const { t } = useI18n();\n    const { explorerLinks } = useVueWeb3();\n    const { tokens } = useTokens();\n\n    const columns = computed<ColumnDefinition<ActivityRow>[]>(() => [\n      {\n        name: t('action'),\n        id: 'action',\n        accessor: 'tx',\n        Cell: 'actionCell',\n        width: 175,\n        sortable: false\n      },\n      {\n        name: t('value'),\n        id: 'value',\n        accessor: 'value',\n        Cell: 'valueCell',\n        align: 'right',\n        className: 'align-center w-40',\n        sortKey: pool => numeral(pool.value).value(),\n        width: 125\n      },\n      {\n        name: t('details'),\n        id: 'details',\n        accessor: '',\n        Cell: 'detailsCell',\n        width: 300,\n        sortable: false\n      },\n      {\n        name: t('time'),\n        id: 'timeAgo',\n        accessor: 'timestamp',\n        Cell: 'timeCell',\n        align: 'right',\n        sortKey: pool => numeral(pool.timestamp).value(),\n        width: 200\n      }\n    ]);\n\n    const activityRows = computed<ActivityRow[]>(() =>\n      props.isLoading\n        ? []\n        : props.poolActivities.map(({ type, timestamp, tx, amounts }) => {\n            const isJoin = type === 'Join';\n\n            return {\n              label: isJoin ? t('invest') : t('withdraw'),\n              value: fNum(getJoinExitValue(amounts), 'usd'),\n              timestamp,\n              formattedDate: t('timeAgo', [formatDistanceToNow(timestamp)]),\n              tx,\n              type,\n              tokenAmounts: getJoinExitDetails(amounts)\n            };\n          })\n    );\n\n    function getJoinExitValue(amounts: PoolActivity['amounts']) {\n      return amounts\n        .reduce((total, amount, index) => {\n          const address = getAddress(props.tokens[index]);\n          const token: Token = tokens.value[address];\n          const price = token.price || 0;\n          const amountNumber = bnum(Math.abs(parseFloat(amount)));\n\n          return total.plus(amountNumber.times(price));\n        }, bnum(0))\n        .toString();\n    }\n\n    function getJoinExitDetails(amounts: PoolActivity['amounts']) {\n      return amounts.map((amount, index) => {\n        const address = getAddress(props.tokens[index]);\n        const token: Token = tokens.value[address];\n        const symbol = token ? token.symbol : address;\n        const amountNumber = parseFloat(amount);\n\n        return {\n          address,\n          symbol,\n          amount: fNum(amountNumber, 'token')\n        };\n      });\n    }\n\n    return {\n      columns,\n      activityRows,\n      explorer: explorerLinks,\n      fNum\n    };\n  }\n};\n</script>\n","\nimport { PropType, computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport numeral from 'numeral';\n\nimport useTokens from '@/composables/useTokens';\nimport useNumbers from '@/composables/useNumbers';\n\nimport { getAddress } from '@ethersproject/address';\n\nimport {\n  PoolActivity,\n  PoolActivityType\n} from '@/services/balancer/subgraph/types';\nimport { ColumnDefinition } from '@/components/_global/BalTable/BalTable.vue';\n\nimport { formatDistanceToNow } from 'date-fns';\nimport { Token } from '@/types';\nimport { bnum } from '@balancer-labs/sor2/dist/bmath';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\ntype TokenAmount = {\n  address: string;\n  symbol: string;\n  amount: string;\n};\n\ninterface ActivityRow {\n  label: string;\n  value: string;\n  timestamp: number;\n  formattedDate: string;\n  tx: string;\n  type: PoolActivityType;\n  tokenAmounts: TokenAmount[];\n}\n\nexport default {\n  emits: ['loadMore'],\n\n  props: {\n    tokens: {\n      type: Array as PropType<string[]>,\n      required: true\n    },\n    poolActivities: {\n      type: Array as PropType<PoolActivity[]>,\n      required: true\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    isLoadingMore: {\n      type: Boolean,\n      default: false\n    },\n    loadMore: {\n      type: Function as PropType<() => void>\n    },\n    isPaginated: {\n      type: Boolean,\n      default: false\n    },\n    noResultsLabel: {\n      type: String\n    }\n  },\n\n  setup(props) {\n    const { fNum } = useNumbers();\n    const { t } = useI18n();\n    const { explorerLinks } = useVueWeb3();\n    const { tokens } = useTokens();\n\n    const columns = computed<ColumnDefinition<ActivityRow>[]>(() => [\n      {\n        name: t('action'),\n        id: 'action',\n        accessor: 'tx',\n        Cell: 'actionCell',\n        width: 175,\n        sortable: false\n      },\n      {\n        name: t('value'),\n        id: 'value',\n        accessor: 'value',\n        Cell: 'valueCell',\n        align: 'right',\n        className: 'align-center w-40',\n        sortKey: pool => numeral(pool.value).value(),\n        width: 125\n      },\n      {\n        name: t('details'),\n        id: 'details',\n        accessor: '',\n        Cell: 'detailsCell',\n        width: 300,\n        sortable: false\n      },\n      {\n        name: t('time'),\n        id: 'timeAgo',\n        accessor: 'timestamp',\n        Cell: 'timeCell',\n        align: 'right',\n        sortKey: pool => numeral(pool.timestamp).value(),\n        width: 200\n      }\n    ]);\n\n    const activityRows = computed<ActivityRow[]>(() =>\n      props.isLoading\n        ? []\n        : props.poolActivities.map(({ type, timestamp, tx, amounts }) => {\n            const isJoin = type === 'Join';\n\n            return {\n              label: isJoin ? t('invest') : t('withdraw'),\n              value: fNum(getJoinExitValue(amounts), 'usd'),\n              timestamp,\n              formattedDate: t('timeAgo', [formatDistanceToNow(timestamp)]),\n              tx,\n              type,\n              tokenAmounts: getJoinExitDetails(amounts)\n            };\n          })\n    );\n\n    function getJoinExitValue(amounts: PoolActivity['amounts']) {\n      return amounts\n        .reduce((total, amount, index) => {\n          const address = getAddress(props.tokens[index]);\n          const token: Token = tokens.value[address];\n          const price = token.price || 0;\n          const amountNumber = bnum(Math.abs(parseFloat(amount)));\n\n          return total.plus(amountNumber.times(price));\n        }, bnum(0))\n        .toString();\n    }\n\n    function getJoinExitDetails(amounts: PoolActivity['amounts']) {\n      return amounts.map((amount, index) => {\n        const address = getAddress(props.tokens[index]);\n        const token: Token = tokens.value[address];\n        const symbol = token ? token.symbol : address;\n        const amountNumber = parseFloat(amount);\n\n        return {\n          address,\n          symbol,\n          amount: fNum(amountNumber, 'token')\n        };\n      });\n    }\n\n    return {\n      columns,\n      activityRows,\n      explorer: explorerLinks,\n      fNum\n    };\n  }\n};\n","import { render } from \"./Table.vue?vue&type=template&id=39e9a2d3\"\nimport script from \"./Table.vue?vue&type=script&lang=ts\"\nexport * from \"./Table.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","export enum PoolActivityTab {\n  ALL_ACTIVITY = 'allActivity',\n  USER_ACTIVITY = 'userActivity'\n}\n","import { reactive } from 'vue';\nimport { useInfiniteQuery } from 'vue-query';\nimport { UseInfiniteQueryOptions } from 'react-query/types';\n\nimport QUERY_KEYS from '@/constants/queryKeys';\nimport { POOLS } from '@/constants/pools';\n\nimport BalancerSubgraph from '@/services/balancer/subgraph/service';\nimport { PoolActivity } from '@/services/balancer/subgraph/types';\n\ntype PoolActivitiesQueryResponse = {\n  poolActivities: PoolActivity[];\n  skip?: number;\n};\n\nexport default function usePoolActivitiesQuery(\n  id: string,\n  options: UseInfiniteQueryOptions<PoolActivitiesQueryResponse> = {}\n) {\n  // SERVICES\n  const balancerSubgraph = new BalancerSubgraph();\n\n  // DATA\n  const queryKey = reactive(QUERY_KEYS.Pools.Activities(id));\n\n  // METHODS\n  const queryFn = async ({ pageParam = 0 }) => {\n    const poolActivities = await balancerSubgraph.poolActivities.get({\n      first: POOLS.Pagination.PerPage,\n      skip: pageParam,\n      where: {\n        pool: id\n      }\n    });\n\n    return {\n      poolActivities,\n      skip:\n        poolActivities.length >= POOLS.Pagination.PerPage\n          ? pageParam + POOLS.Pagination.PerPage\n          : undefined\n    };\n  };\n\n  const queryOptions = reactive({\n    getNextPageParam: (lastPage: PoolActivitiesQueryResponse) => lastPage.skip,\n    ...options\n  });\n\n  return useInfiniteQuery<PoolActivitiesQueryResponse>(\n    queryKey,\n    queryFn,\n    queryOptions\n  );\n}\n","import { reactive, computed } from 'vue';\nimport { useInfiniteQuery } from 'vue-query';\nimport { UseInfiniteQueryOptions } from 'react-query/types';\n\nimport QUERY_KEYS from '@/constants/queryKeys';\nimport { POOLS } from '@/constants/pools';\n\nimport BalancerSubgraph from '@/services/balancer/subgraph/service';\nimport { PoolActivity } from '@/services/balancer/subgraph/types';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\ntype UserPoolActivitiesQueryResponse = {\n  poolActivities: PoolActivity[];\n  skip?: number;\n};\n\nexport default function usePoolUserActivitiesQuery(\n  id: string,\n  options: UseInfiniteQueryOptions<UserPoolActivitiesQueryResponse> = {}\n) {\n  // SERVICES\n  const balancerSubgraph = new BalancerSubgraph();\n\n  // COMPOSABLES\n  const { account, isWalletReady } = useVueWeb3();\n\n  // COMPUTED\n  const isQueryEnabled = computed(\n    () => isWalletReady.value && account.value != null\n  );\n\n  // DATA\n  const queryKey = reactive(QUERY_KEYS.Pools.UserActivities(id, account));\n\n  // METHODS\n  const queryFn = async ({ pageParam = 0 }) => {\n    const poolActivities = await balancerSubgraph.poolActivities.get({\n      first: POOLS.Pagination.PerPage,\n      skip: pageParam,\n      where: {\n        pool: id,\n        sender: account.value.toLowerCase()\n      }\n    });\n\n    return {\n      poolActivities,\n      skip:\n        poolActivities.length >= POOLS.Pagination.PerPage\n          ? pageParam + POOLS.Pagination.PerPage\n          : undefined\n    };\n  };\n\n  const queryOptions = reactive({\n    enabled: isQueryEnabled,\n    getNextPageParam: (lastPage: UserPoolActivitiesQueryResponse) =>\n      lastPage.skip,\n    ...options\n  });\n\n  return useInfiniteQuery<UserPoolActivitiesQueryResponse>(\n    queryKey,\n    queryFn,\n    queryOptions\n  );\n}\n","\nimport { defineComponent, computed, PropType } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { flatten } from 'lodash';\n\nimport Table from './Table.vue';\n\nimport usePoolActivitiesQuery from '@/composables/queries/usePoolActivitiesQuery';\nimport usePoolUserActivitiesQuery from '@/composables/queries/usePoolUserActivitiesQuery';\n\nimport { FullPool } from '@/services/balancer/subgraph/types';\n\nimport { PoolActivityTab } from './types';\n\nexport default defineComponent({\n  components: {\n    Table\n  },\n\n  props: {\n    pool: {\n      type: Object as PropType<FullPool>,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    poolActivityType: {\n      type: String as PropType<PoolActivityTab>,\n      default: PoolActivityTab.ALL_ACTIVITY\n    }\n  },\n\n  setup(props) {\n    // COMPOSABLES\n    const route = useRoute();\n\n    const id = route.params.id as string;\n\n    const poolActivitiesQuery =\n      props.poolActivityType === PoolActivityTab.ALL_ACTIVITY\n        ? usePoolActivitiesQuery(id)\n        : usePoolUserActivitiesQuery(id);\n\n    // COMPUTED\n    const poolActivities = computed(() =>\n      poolActivitiesQuery.data.value\n        ? flatten(\n            poolActivitiesQuery.data.value.pages.map(\n              page => page.poolActivities\n            )\n          )\n        : []\n    );\n\n    const isLoadingPoolActivities = computed(\n      () => poolActivitiesQuery.isLoading.value\n    );\n\n    const poolActivitiesHasNextPage = computed(\n      () => poolActivitiesQuery.hasNextPage?.value\n    );\n\n    const poolActivitiesIsFetchingNextPage = computed(\n      () => poolActivitiesQuery.isFetchingNextPage?.value\n    );\n\n    // METHODS\n    function loadMorePoolActivities() {\n      poolActivitiesQuery.fetchNextPage.value();\n    }\n\n    return {\n      // computed\n      isLoadingPoolActivities,\n      poolActivities,\n      poolActivitiesHasNextPage,\n      poolActivitiesIsFetchingNextPage,\n      // methods\n      loadMorePoolActivities,\n      // constants\n      PoolActivityTab\n    };\n  }\n});\n","import { render } from \"./Activities.vue?vue&type=template&id=5a4d3b7f\"\nimport script from \"./Activities.vue?vue&type=script&lang=ts\"\nexport * from \"./Activities.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, PropType, ref } from 'vue';\nimport { useI18n } from 'vue-i18n';\n\nimport { FullPool } from '@/services/balancer/subgraph/types';\n\nimport Activities from './Activities.vue';\n\nimport { PoolActivityTab } from './types';\n\nexport default defineComponent({\n  components: {\n    Activities\n  },\n\n  props: {\n    pool: {\n      type: Object as PropType<FullPool>,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  setup() {\n    // COMPOSABLES\n    const { t } = useI18n();\n\n    // DATA\n    const tabs = [\n      { value: PoolActivityTab.ALL_ACTIVITY, label: t('allTransactions') },\n      { value: PoolActivityTab.USER_ACTIVITY, label: t('myTransactions') }\n    ];\n    const activeTab = ref(tabs[0].value);\n\n    return {\n      // data\n      tabs,\n      activeTab,\n      // constants\n      PoolActivityTab\n    };\n  }\n});\n","import { render } from \"./PoolActivitiesCard.vue?vue&type=template&id=586861cc\"\nimport script from \"./PoolActivitiesCard.vue?vue&type=script&lang=ts\"\nexport * from \"./PoolActivitiesCard.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g fill=\"none\" fill-rule=\"evenodd\">\n      <circle fill=\"#192533\" cx=\"10\" cy=\"10\" r=\"10\" />\n      <g fill-rule=\"nonzero\">\n        <path\n          d=\"M11.608 12.19v-2.095H9.453V8h4.31v4.19h-2.155zm2.155-6.285H7.298v6.285H5.143V3.81h8.62v2.095z\"\n          fill=\"#87ABC5\"\n        />\n        <path\n          fill=\"#87ABC5\"\n          d=\"M13.763 13.029v1.257H7.298V12.19h4.31v-.942h2.155z\"\n        />\n        <path fill=\"#FFF\" d=\"M15.918 5.905V8h-2.155V5.905z\" />\n        <path fill=\"#1D252E\" d=\"M7.298 12.19v2.096H5.143V12.19z\" />\n        <path fill=\"#F07F53\" d=\"M7.298 14.286v2.095H5.143v-2.095z\" />\n      </g>\n    </g>\n  </svg>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'GauntletIcon'\n});\n</script>\n","\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'GauntletIcon'\n});\n","import { render } from \"./GauntletIcon.vue?vue&type=template&id=6d2319cf\"\nimport script from \"./GauntletIcon.vue?vue&type=script&lang=ts\"\nexport * from \"./GauntletIcon.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import Service from '../service';\nimport { default as vaultAbi } from '@/lib/abi/Vault.json';\nimport { Multicaller } from '@/lib/utils/balancer/contract';\nimport { getAddress } from '@ethersproject/address';\nimport { formatUnits } from '@ethersproject/units';\nimport { BigNumber } from '@ethersproject/bignumber';\nimport { TokenMap } from '@/types';\nimport { OnchainPoolData, PoolType } from '../../subgraph/types';\nimport ConfigService from '@/services/config/config.service';\n\nexport default class Vault {\n  service: Service;\n\n  constructor(service, private readonly configService = new ConfigService()) {\n    this.service = service;\n  }\n\n  public async getPoolData(\n    id: string,\n    type: PoolType,\n    tokens: TokenMap\n  ): Promise<OnchainPoolData> {\n    const poolAddress = getAddress(id.slice(0, 42));\n    let result = {} as Record<any, any>;\n    const vaultMultiCaller = new Multicaller(\n      this.configService.network.key,\n      this.service.provider,\n      vaultAbi\n    );\n    const tokenMultiCaller = new Multicaller(\n      this.configService.network.key,\n      this.service.provider,\n      this.service.allABIs\n    );\n\n    vaultMultiCaller.call('poolTokens', this.address, 'getPoolTokens', [id]);\n    result = await vaultMultiCaller.execute(result);\n    tokenMultiCaller.call('totalSupply', poolAddress, 'totalSupply');\n    tokenMultiCaller.call('decimals', poolAddress, 'decimals');\n    tokenMultiCaller.call('swapFee', poolAddress, 'getSwapFeePercentage');\n\n    if (type === 'Weighted') {\n      tokenMultiCaller.call('weights', poolAddress, 'getNormalizedWeights', []);\n    } else if (type === 'Stable') {\n      tokenMultiCaller.call('amp', poolAddress, 'getAmplificationParameter');\n    }\n\n    result = await tokenMultiCaller.execute(result);\n\n    return this.serializePoolData(result, type, tokens);\n  }\n\n  public serializePoolData(\n    data,\n    type: PoolType,\n    tokens: TokenMap\n  ): OnchainPoolData {\n    const _tokens = {};\n    const weights = this.normalizeWeights(data?.weights, type, tokens);\n\n    data.poolTokens.tokens.map((token, i) => {\n      const tokenBalance = data.poolTokens.balances[i];\n      const tokenDecimals = tokens[token]?.decimals;\n      _tokens[token] = {\n        balance: formatUnits(tokenBalance, tokenDecimals),\n        weight: weights[i],\n        decimals: tokenDecimals,\n        symbol: tokens[token]?.symbol,\n        name: tokens[token]?.name,\n        logoURI: tokens[token]?.logoURI\n      };\n    });\n\n    return {\n      tokens: _tokens,\n      totalSupply: formatUnits(data.totalSupply, data.decimals),\n      decimals: data.decimals,\n      swapFee: formatUnits(data.swapFee, 18),\n      amp: data?.amp\n    };\n  }\n\n  public normalizeWeights(\n    weights: BigNumber[],\n    type: PoolType,\n    tokens: TokenMap\n  ) {\n    if (type == 'Weighted') {\n      const totalWeight = weights.reduce((a, b) => a.add(b), BigNumber.from(0));\n      return weights.map(\n        w =>\n          ((100 / Number(formatUnits(totalWeight, 10))) *\n            Number(formatUnits(w, 10))) /\n          100\n      );\n    } else if (type === 'Stable') {\n      const tokensList = Object.values(tokens);\n      return tokensList.map(() => 1 / tokensList.length);\n    } else {\n      return [];\n    }\n  }\n\n  public get address(): string {\n    return this.service.config.addresses.vault;\n  }\n}\n","import Vault from './contracts/vault';\nimport configs, { Config } from '@/lib/config';\nimport { JsonRpcProvider } from '@ethersproject/providers';\nimport getProvider from '@/lib/utils/provider';\nimport { default as vaultAbi } from '@/lib/abi/Vault.json';\nimport { default as weightedPoolAbi } from '@/lib/abi/WeightedPool.json';\nimport { default as stablePoolAbi } from '@/lib/abi/StablePool.json';\nimport { default as TokenAbi } from '@/lib/abi/ERC20.json';\n\nconst NETWORK = process.env.VUE_APP_NETWORK || '1';\n\nexport default class Service {\n  vault: Vault;\n  config: Config;\n  provider: JsonRpcProvider;\n\n  constructor() {\n    this.provider = getProvider(NETWORK);\n    this.config = configs[NETWORK];\n\n    // Init contracts\n    this.vault = new Vault(this);\n  }\n\n  // Combine all the ABIs and remove duplicates\n  public get allABIs() {\n    return Object.values(\n      Object.fromEntries(\n        [\n          ...vaultAbi,\n          ...weightedPoolAbi,\n          ...stablePoolAbi,\n          ...TokenAbi\n        ].map(row => [row.name, row])\n      )\n    );\n  }\n}\n","import { computed, reactive } from 'vue';\nimport { useQuery } from 'vue-query';\nimport { QueryObserverOptions } from 'react-query/core';\nimport useTokens from '@/composables/useTokens';\n\nimport { useStore } from 'vuex';\nimport { pick } from 'lodash';\n\nimport QUERY_KEYS from '@/constants/queryKeys';\n\nimport BalancerContracts from '@/services/balancer/contracts/service';\nimport BalancerSubgraph from '@/services/balancer/subgraph/service';\nimport { DecoratedPool, FullPool } from '@/services/balancer/subgraph/types';\nimport { POOLS } from '@/constants/pools';\n\nexport default function usePoolQuery(\n  id: string,\n  options: QueryObserverOptions<FullPool> = {}\n) {\n  // COMPOSABLES\n  const store = useStore();\n  const { tokens: allTokens } = useTokens();\n\n  // SERVICES\n  const balancerSubgraph = new BalancerSubgraph();\n  const balancerContracts = new BalancerContracts();\n\n  // DATA\n  const queryKey = QUERY_KEYS.Pools.Current(id);\n\n  // COMPUTED\n  const appLoading = computed(() => store.state.app.loading);\n  const prices = computed(() => store.state.market.prices);\n  const isQueryEnabled = computed(() => !appLoading.value);\n\n  function tokensInjected(pool: DecoratedPool): boolean {\n    if (!allTokens.value) return false;\n\n    const allAddresses = Object.keys(allTokens.value);\n    return [...pool.tokenAddresses, pool.address].every(address =>\n      allAddresses.includes(address)\n    );\n  }\n\n  // METHODS\n  const queryFn = async () => {\n    const [pool] = await balancerSubgraph.pools.getDecorated(\n      '24h',\n      prices.value,\n      {\n        where: {\n          id: id.toLowerCase(),\n          totalShares_gt: -1 // Avoid the filtering for low liquidity pools\n        }\n      }\n    );\n\n    if (pool.poolType === 'Stable' && !POOLS.Stable.AllowList.includes(id)) {\n      throw new Error('Pool not allowed');\n    }\n\n    if (!tokensInjected(pool)) {\n      await store.dispatch('registry/injectTokens', [\n        ...pool.tokenAddresses,\n        pool.address\n      ]);\n    }\n\n    const tokens = pick(allTokens.value, pool.tokenAddresses);\n    const onchainData = await balancerContracts.vault.getPoolData(\n      id,\n      pool.poolType,\n      tokens\n    );\n\n    return { ...pool, onchain: onchainData };\n  };\n\n  const queryOptions = reactive({\n    enabled: isQueryEnabled,\n    ...options\n  });\n\n  return useQuery<FullPool>(queryKey, queryFn, queryOptions);\n}\n","import { computed, reactive } from 'vue';\nimport { useQuery } from 'vue-query';\nimport { QueryObserverOptions } from 'react-query/core';\n\nimport QUERY_KEYS from '@/constants/queryKeys';\n\nimport BalancerSubgraph from '@/services/balancer/subgraph/service';\nimport { PoolSnapshots } from '@/services/balancer/subgraph/types';\nimport {\n  getTokensHistoricalPrice,\n  HistoricalPrices\n} from '@/services/coingecko';\nimport usePoolQuery from './usePoolQuery';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\ninterface QueryResponse {\n  prices: HistoricalPrices;\n  snapshots: PoolSnapshots;\n}\n\nexport default function usePoolSnapshotsQuery(\n  id: string,\n  days: number,\n  options: QueryObserverOptions<QueryResponse> = {}\n) {\n  // COMPOSABLES\n  const { appNetworkConfig } = useVueWeb3();\n\n  // SERVICES\n  const balancerSubgraph = new BalancerSubgraph();\n\n  // DEPENDENT QUERIES\n  const poolQuery = usePoolQuery(id);\n\n  // COMPUTED\n  const pool = computed(() => poolQuery.data.value);\n  const enabled = computed(() => !!pool.value?.id);\n\n  // DATA\n  const queryKey = QUERY_KEYS.Pools.Snapshot(id);\n\n  // METHODS\n  const queryFn = async () => {\n    if (!pool.value) throw new Error('No pool');\n\n    const prices = await getTokensHistoricalPrice(\n      appNetworkConfig.chainId,\n      pool.value.tokensList,\n      days\n    );\n    const snapshots = await balancerSubgraph.poolSnapshots.get(id, days);\n\n    return { prices, snapshots };\n  };\n\n  const queryOptions = reactive({\n    enabled,\n    ...options\n  });\n\n  return useQuery<QueryResponse>(queryKey, queryFn, queryOptions);\n}\n","\nimport { defineComponent, reactive, toRefs, computed, watch } from 'vue';\nimport * as PoolPageComponents from '@/components/pages/pool';\nimport GauntletIcon from '@/components/images/icons/GauntletIcon.vue';\nimport LiquidityMiningTooltip from '@/components/tooltips/LiquidityMiningTooltip.vue';\n\nimport { useStore } from 'vuex';\nimport { useI18n } from 'vue-i18n';\nimport { useRoute } from 'vue-router';\nimport { useQueryClient } from 'vue-query';\n\nimport useNumbers from '@/composables/useNumbers';\nimport usePoolQuery from '@/composables/queries/usePoolQuery';\nimport usePoolSnapshotsQuery from '@/composables/queries/usePoolSnapshotsQuery';\nimport { useRouter } from 'vue-router';\n\nimport { POOLS_ROOT_KEY } from '@/constants/queryKeys';\nimport { POOLS } from '@/constants/pools';\nimport { EXTERNAL_LINKS } from '@/constants/links';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\ninterface PoolPageData {\n  id: string;\n  refetchQueriesOnBlockNumber: number;\n}\n\nconst REFETCH_QUERIES_BLOCK_BUFFER = 3;\n\nexport default defineComponent({\n  components: {\n    ...PoolPageComponents,\n    GauntletIcon,\n    LiquidityMiningTooltip\n  },\n\n  setup() {\n    // COMPOSABLES\n    const store = useStore();\n    const router = useRouter();\n    const { t } = useI18n();\n    const route = useRoute();\n    const { fNum } = useNumbers();\n    const { isWalletReady } = useVueWeb3();\n    const queryClient = useQueryClient();\n    const poolQuery = usePoolQuery(route.params.id as string);\n    const poolSnapshotsQuery = usePoolSnapshotsQuery(\n      route.params.id as string,\n      30\n    );\n\n    const { blockNumber } = useVueWeb3();\n\n    // DATA\n    const data = reactive<PoolPageData>({\n      id: route.params.id as string,\n      refetchQueriesOnBlockNumber: 0\n    });\n\n    // COMPUTED\n    const appLoading = computed(() => store.state.app.loading);\n\n    const pool = computed(() => poolQuery.data.value);\n\n    const noInitLiquidity = computed(\n      () =>\n        !loadingPool.value &&\n        pool.value &&\n        Number(pool.value.onchain.totalSupply) === 0\n    );\n\n    const communityManagedFees = computed(\n      () => pool.value?.owner == POOLS.DelegateOwner\n    );\n    const feesManagedByGauntlet = computed(\n      () =>\n        communityManagedFees.value &&\n        POOLS.DynamicFees.Gauntlet.includes(data.id)\n    );\n    const feesFixed = computed(() => pool.value?.owner == POOLS.ZeroAddress);\n    const swapFeeToolTip = computed(() => {\n      if (feesManagedByGauntlet.value) {\n        return t('feesManagedByGauntlet');\n      } else if (communityManagedFees.value) {\n        return t('delegateFeesTooltip');\n      } else if (feesFixed.value) {\n        return t('fixedFeesTooltip');\n      } else {\n        return t('ownerFeesTooltip');\n      }\n    });\n\n    const loadingPool = computed(\n      () =>\n        poolQuery.isLoading.value ||\n        poolQuery.isIdle.value ||\n        poolQuery.error.value\n    );\n\n    const snapshots = computed(() => poolSnapshotsQuery.data.value?.snapshots);\n    const historicalPrices = computed(\n      () => poolSnapshotsQuery.data.value?.prices\n    );\n    const isLoadingSnapshots = computed(\n      () =>\n        poolSnapshotsQuery.isLoading.value || poolSnapshotsQuery.isIdle.value\n    );\n\n    const titleTokens = computed(() => {\n      if (!pool.value) return [];\n\n      return Object.entries(pool.value.onchain.tokens).sort(\n        ([, a]: any[], [, b]: any[]) => b.weight - a.weight\n      );\n    });\n\n    const poolTypeLabel = computed(() => {\n      if (!pool.value) return '';\n      const key = POOLS.Factories[pool.value.factory];\n\n      return key ? t(key) : t('unknownPoolType');\n    });\n\n    const isStablePool = computed(() => pool.value?.poolType === 'Stable');\n\n    const poolFeeLabel = computed(() => {\n      if (!pool.value) return '';\n      const feeLabel = fNum(pool.value.onchain.swapFee, 'percent');\n\n      if (feesFixed.value) {\n        return t('fixedSwapFeeLabel', [feeLabel]);\n      } else if (communityManagedFees.value) {\n        return feesManagedByGauntlet.value\n          ? t('dynamicSwapFeeLabel', [feeLabel])\n          : t('communitySwapFeeLabel', [feeLabel]);\n      }\n\n      // Must be owner-controlled\n      return t('dynamicSwapFeeLabel', [feeLabel]);\n    });\n\n    const missingPrices = computed(() => {\n      if (pool.value) {\n        const tokensWithPrice = Object.keys(store.state.market.prices);\n        return !pool.value.tokensList.every(token =>\n          tokensWithPrice.includes(token)\n        );\n      }\n      return false;\n    });\n\n    // METHODS\n    function onNewTx(): void {\n      queryClient.invalidateQueries([POOLS_ROOT_KEY, 'current', data.id]);\n      data.refetchQueriesOnBlockNumber =\n        blockNumber.value + REFETCH_QUERIES_BLOCK_BUFFER;\n    }\n\n    // WATCHERS\n    watch(blockNumber, () => {\n      if (data.refetchQueriesOnBlockNumber === blockNumber.value) {\n        queryClient.invalidateQueries([POOLS_ROOT_KEY]);\n      } else {\n        poolQuery.refetch.value();\n      }\n    });\n\n    watch(poolQuery.error, () => {\n      router.push({ name: 'home' });\n    });\n\n    return {\n      // data\n      ...toRefs(data),\n      EXTERNAL_LINKS,\n      // computed\n      appLoading,\n      pool,\n      noInitLiquidity,\n      poolTypeLabel,\n      poolFeeLabel,\n      historicalPrices,\n      snapshots,\n      isLoadingSnapshots,\n      loadingPool,\n      titleTokens,\n      isWalletReady,\n      missingPrices,\n      feesManagedByGauntlet,\n      swapFeeToolTip,\n      isStablePool,\n      // methods\n      fNum,\n      onNewTx\n    };\n  }\n});\n","import { render } from \"./Pool.vue?vue&type=template&id=6483d310\"\nimport script from \"./Pool.vue?vue&type=script&lang=ts\"\nexport * from \"./Pool.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <div class=\"trade-container\">\n      <BalLoadingBlock v-if=\"appLoading || isLoadingTokens\" class=\"h-96\" />\n      <template v-else>\n        <TradeCard v-if=\"tradeInterface === TradeInterface.BALANCER\" />\n        <TradeCardGP v-else-if=\"tradeInterface === TradeInterface.GNOSIS\" />\n      </template>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\n\nimport TradeCard from '@/components/cards/TradeCard/TradeCard.vue';\nimport TradeCardGP from '@/components/cards/TradeCardGP/TradeCardGP.vue';\nimport useTokenLists from '@/composables/useTokensStore';\nimport { TradeInterface } from '@/store/modules/app';\nimport usePoolFilters from '@/composables/pools/usePoolFilters';\n\nexport default defineComponent({\n  components: {\n    TradeCard,\n    TradeCardGP\n  },\n\n  setup() {\n    // COMPOSABLES\n    const store = useStore();\n    const { isLoading: isLoadingTokens } = useTokenLists();\n    const { setSelectedTokens } = usePoolFilters();\n\n    // COMPUTED\n    const appLoading = computed(() => store.state.app.loading);\n    const tradeInterface = computed(() => store.state.app.tradeInterface);\n\n    onMounted(() => {\n      // selectedPoolTokens are only persisted between the Home/Pool pages\n      setSelectedTokens([]);\n    });\n\n    return {\n      appLoading,\n      tradeInterface,\n      isLoadingTokens,\n      TradeInterface\n    };\n  }\n});\n</script>\n\n<style scoped>\n.trade-container {\n  @apply max-w-full mx-auto mt-2 xs:mt-8;\n  max-width: 450px;\n}\n\n@media (min-height: 840px) {\n  .trade-container {\n    @apply md:mt-8;\n  }\n}\n</style>\n","<template>\n  <BalCard class=\"relative\" :shadow=\"tradeCardShadow\" no-border>\n    <template v-slot:header>\n      <div class=\"w-full flex items-center justify-between\">\n        <h4 class=\"font-bold\">{{ title }}</h4>\n        <TradeSettingsPopover :context=\"TradeSettingsContext.trade\" />\n      </div>\n    </template>\n    <div>\n      <TradePair\n        :token-in-amount-input=\"tokenInAmount\"\n        :token-in-address-input=\"tokenInAddress\"\n        :token-out-amount-input=\"tokenOutAmount\"\n        :token-out-address-input=\"tokenOutAddress\"\n        :exact-in=\"exactIn\"\n        :price-impact=\"priceImpact\"\n        @token-in-amount-change=\"value => (tokenInAmount = value)\"\n        @token-in-address-change=\"value => (tokenInAddress = value)\"\n        @token-out-amount-change=\"value => (tokenOutAmount = value)\"\n        @token-out-address-change=\"value => (tokenOutAddress = value)\"\n        @exact-in-change=\"value => (exactIn = value)\"\n        @change=\"handleAmountChange\"\n      />\n      <GasReimbursement\n        class=\"mb-5\"\n        :address-in=\"tokenInAddress\"\n        :address-out=\"tokenOutAddress\"\n        :sorReturn=\"sorReturn\"\n      />\n      <BalAlert\n        v-if=\"error\"\n        class=\"mb-4\"\n        type=\"error\"\n        size=\"sm\"\n        :title=\"error.header\"\n        :description=\"error.body\"\n        :action-label=\"error.label\"\n        block\n        @actionClick=\"handleErrorButtonClick\"\n      />\n      <BalBtn\n        v-if=\"poolsLoading || isLoadingApprovals\"\n        :loading=\"true\"\n        :loading-label=\"$t('loading')\"\n        block\n      />\n      <BalBtn\n        v-else\n        :label=\"'Preview trade'\"\n        :disabled=\"tradeDisabled\"\n        :loading-label=\"$t('confirming')\"\n        color=\"gradient\"\n        block\n        @click.prevent=\"showTradePreviewModal\"\n      />\n      <TradeRoute\n        class=\"mt-5\"\n        :address-in=\"tokenInAddress\"\n        :amount-in=\"tokenInAmount\"\n        :address-out=\"tokenOutAddress\"\n        :amount-out=\"tokenOutAmount\"\n        :pools=\"pools\"\n        :sor-return=\"sorReturn\"\n      />\n    </div>\n    <SuccessOverlay\n      v-if=\"tradeSuccess\"\n      :title=\"$t('tradeSettled')\"\n      :description=\"$t('tradeSuccess')\"\n      :closeLabel=\"$t('close')\"\n      :explorer-link=\"explorer.txLink(txHash)\"\n      @close=\"tradeSuccess = false\"\n    />\n  </BalCard>\n  <teleport to=\"#modal\">\n    <TradePreviewModal\n      :open=\"modalTradePreviewIsOpen\"\n      :is-v1-swap=\"sorReturn.isV1swap\"\n      :address-in=\"tokenInAddress\"\n      :amount-in=\"tokenInAmount\"\n      :address-out=\"tokenOutAddress\"\n      :amount-out=\"tokenOutAmount\"\n      :trading=\"trading\"\n      @trade=\"trade\"\n      @close=\"modalTradePreviewIsOpen = false\"\n    />\n  </teleport>\n</template>\n\n<script lang=\"ts\">\nimport { isRequired } from '@/lib/utils/validations';\nimport { ref, defineComponent, computed, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport { isAddress, getAddress } from '@ethersproject/address';\n\nimport useTokenApproval from '@/composables/trade/useTokenApproval';\nimport useValidation, {\n  TradeValidation\n} from '@/composables/trade/useValidation';\nimport useSor from '@/composables/trade/useSor';\nimport { ETHER } from '@/constants/tokenlists';\n\nimport SuccessOverlay from '@/components/cards/SuccessOverlay.vue';\nimport TradePair from '@/components/cards/TradeCard/TradePair.vue';\nimport TradePreviewModal from '@/components/modals/TradePreviewModal.vue';\nimport TradeRoute from '@/components/cards/TradeCard/TradeRoute.vue';\nimport TradeSettingsPopover, {\n  TradeSettingsContext\n} from '@/components/popovers/TradeSettingsPopover.vue';\nimport GasReimbursement from './GasReimbursement.vue';\nimport { useI18n } from 'vue-i18n';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useBreakpoints from '@/composables/useBreakpoints';\nimport useTokens from '@/composables/useTokens';\n\nexport default defineComponent({\n  components: {\n    SuccessOverlay,\n    TradePair,\n    TradePreviewModal,\n    TradeRoute,\n    TradeSettingsPopover,\n    GasReimbursement\n  },\n\n  setup() {\n    const highPiAccepted = ref(false);\n    const store = useStore();\n    const router = useRouter();\n    const { explorerLinks } = useVueWeb3();\n    const { t } = useI18n();\n    const { bp } = useBreakpoints();\n\n    const { tokens } = useTokens();\n    const { userNetworkConfig } = useVueWeb3();\n\n    const exactIn = ref(true);\n    const tokenInAddress = ref('');\n    const tokenInAmount = ref('');\n    const tokenOutAddress = ref('');\n    const tokenOutAmount = ref('');\n    const tradeSuccess = ref(false);\n    const txHash = ref('');\n    const modalTradePreviewIsOpen = ref(false);\n\n    const liquiditySelection = computed(() => store.state.app.tradeLiquidity);\n\n    const tradeCardShadow = computed(() => {\n      switch (bp.value) {\n        case 'xs':\n          return 'none';\n        case 'sm':\n          return 'lg';\n        default:\n          return 'xl';\n      }\n    });\n\n    const isWrap = computed(() => {\n      const config = userNetworkConfig.value;\n      return (\n        tokenInAddress.value === ETHER.address &&\n        tokenOutAddress.value === config.addresses.weth\n      );\n    });\n\n    const isUnwrap = computed(() => {\n      const config = userNetworkConfig.value;\n      return (\n        tokenOutAddress.value === ETHER.address &&\n        tokenInAddress.value === config.addresses.weth\n      );\n    });\n\n    const isHighPriceImpact = computed(() => {\n      return priceImpact.value >= 0.05 && !highPiAccepted.value;\n    });\n\n    const tradeDisabled = computed(() => {\n      if (errorMessage.value !== TradeValidation.VALID) return true;\n      if (isHighPriceImpact.value) return true;\n      return false;\n    });\n\n    // COMPOSABLES\n    const { isLoading: isLoadingApprovals } = useTokenApproval(\n      tokenInAddress,\n      tokenInAmount,\n      tokens\n    );\n    const {\n      trading,\n      trade,\n      initSor,\n      handleAmountChange,\n      priceImpact,\n      sorReturn,\n      latestTxHash,\n      pools,\n      fetchPools,\n      poolsLoading\n    } = useSor({\n      exactIn,\n      tokenInAddressInput: tokenInAddress,\n      tokenInAmountInput: tokenInAmount,\n      tokenOutAddressInput: tokenOutAddress,\n      tokenOutAmountInput: tokenOutAmount,\n      tokens,\n      isWrap,\n      isUnwrap\n    });\n    const { errorMessage } = useValidation(\n      tokenInAddress,\n      tokenInAmount,\n      tokenOutAddress,\n      tokenOutAmount,\n      tokens\n    );\n\n    const title = computed(() => {\n      if (isWrap.value) return t('wrap');\n      if (isUnwrap.value) return t('unwrap');\n      return t('trade');\n    });\n\n    const error = computed(() => {\n      if (isHighPriceImpact.value) {\n        return {\n          header: t('highPriceImpact'),\n          body: t('highPriceImpactDetailed'),\n          label: t('accept')\n        };\n      }\n      switch (errorMessage.value) {\n        case TradeValidation.NO_ETHER:\n          return {\n            header: t('noEth'),\n            body: t('noEthDetailed')\n          };\n        case TradeValidation.NO_BALANCE:\n          return {\n            header: t('insufficientBalance'),\n            body: t('insufficientBalanceDetailed')\n          };\n        case TradeValidation.NO_LIQUIDITY:\n          return {\n            header: t('insufficientLiquidity'),\n            body: t('insufficientLiquidityDetailed')\n          };\n        default:\n          return undefined;\n      }\n    });\n\n    function handleErrorButtonClick() {\n      if (isHighPriceImpact.value) {\n        highPiAccepted.value = true;\n      }\n    }\n\n    async function populateInitialTokens(): Promise<void> {\n      let assetIn = router.currentRoute.value.params.assetIn as string;\n      if (assetIn === ETHER.deeplinkId) assetIn = ETHER.address;\n      else if (isAddress(assetIn)) assetIn = getAddress(assetIn);\n      let assetOut = router.currentRoute.value.params.assetOut as string;\n      if (assetOut === ETHER.deeplinkId) assetOut = ETHER.address;\n      else if (isAddress(assetOut)) assetOut = getAddress(assetOut);\n\n      tokenInAddress.value = assetIn || store.state.trade.inputAsset;\n      tokenOutAddress.value = assetOut || store.state.trade.outputAsset;\n    }\n\n    function showTradePreviewModal() {\n      modalTradePreviewIsOpen.value = true;\n    }\n\n    watch(userNetworkConfig, async () => {\n      await initSor();\n      await handleAmountChange();\n    });\n\n    watch(tokenInAddress, () => {\n      store.commit('trade/setInputAsset', tokenInAddress.value);\n      handleAmountChange();\n    });\n\n    watch(tokenOutAddress, () => {\n      store.commit('trade/setOutputAsset', tokenOutAddress.value);\n      handleAmountChange();\n    });\n\n    watch(liquiditySelection, () => {\n      // When the liquidity type is changed we need to update the trade to use that selection\n      handleAmountChange();\n    });\n\n    watch(latestTxHash, () => {\n      // Refresh SOR pools\n      fetchPools();\n      txHash.value = latestTxHash.value;\n      tradeSuccess.value = true;\n      modalTradePreviewIsOpen.value = false;\n    });\n\n    populateInitialTokens();\n\n    return {\n      highPiAccepted,\n      title,\n      error,\n      handleErrorButtonClick,\n      tokenInAddress,\n      tokenInAmount,\n      tokenOutAddress,\n      tokenOutAmount,\n      exactIn,\n      handleAmountChange,\n      errorMessage,\n      sorReturn,\n      pools,\n      trading,\n      trade,\n      txHash,\n      modalTradePreviewIsOpen,\n      tradeSuccess,\n      priceImpact,\n      isRequired,\n      tradeDisabled,\n      TradeSettingsContext,\n      poolsLoading,\n      showTradePreviewModal,\n      isLoadingApprovals,\n      bp,\n      tradeCardShadow,\n      explorer: explorerLinks\n    };\n  }\n});\n</script>\n","import { useStore } from 'vuex';\nimport { computed, ref, watch } from 'vue';\nimport { parseUnits } from '@ethersproject/units';\nimport { approveTokens } from '@/lib/utils/balancer/tokens';\nimport useNotify from '@/composables/useNotify';\nimport { ETHER } from '@/constants/tokenlists';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useAllowances from '../useAllowances';\nimport { TransactionResponse } from '@ethersproject/providers';\nimport useEthers from '../useEthers';\n\nexport default function useTokenApproval(tokenInAddress, amount, tokens) {\n  const approving = ref(false);\n  const approved = ref(false);\n\n  // COMPOSABLES\n  const store = useStore();\n  const { getProvider } = useVueWeb3();\n  const provider = getProvider();\n  const { txListener, supportsBlocknative } = useNotify();\n  const { txListener: ethersTxListener } = useEthers();\n\n  const { config } = store.state.web3;\n  const dstList = computed(() => [config.addresses.exchangeProxy]);\n  const allowanceTokens = computed(() => [tokenInAddress.value]);\n  const {\n    getRequiredAllowances,\n    isLoading: isLoadingAllowances\n  } = useAllowances({\n    dstList,\n    tokens: allowanceTokens\n  });\n\n  const allowanceState = computed(() => {\n    if (tokenInAddress.value === ETHER.address) {\n      return {\n        isUnlockedV1: true,\n        isUnlockedV2: true\n      };\n    }\n\n    if (!tokenInAddress.value || !amount.value || approved.value === true)\n      return {\n        isUnlockedV1: true,\n        isUnlockedV2: true\n      };\n\n    const tokenInDecimals = tokens.value[tokenInAddress.value].decimals;\n    const tokenInAmountDenorm = parseUnits(amount.value, tokenInDecimals);\n\n    const requiredAllowancesV1 = getRequiredAllowances({\n      dst: config.addresses.exchangeProxy,\n      tokens: [tokenInAddress.value],\n      amounts: [tokenInAmountDenorm.toString()]\n    });\n\n    const requiredAllowancesV2 = getRequiredAllowances({\n      tokens: [tokenInAddress.value],\n      amounts: [tokenInAmountDenorm.toString()]\n    });\n\n    return {\n      isUnlockedV1: requiredAllowancesV1.length === 0,\n      isUnlockedV2: requiredAllowancesV2.length === 0\n    };\n  });\n\n  async function approveV1(): Promise<void> {\n    console.log('[TokenApproval] Unlock V1');\n    approving.value = true;\n    try {\n      const [tx] = await approveTokens(\n        provider,\n        config.addresses.exchangeProxy,\n        [tokenInAddress.value]\n      );\n      txHandler(tx);\n    } catch (e) {\n      console.log(e);\n      approving.value = false;\n    }\n  }\n\n  async function approveV2(): Promise<void> {\n    console.log('[TokenApproval] Unlock V2');\n    approving.value = true;\n    try {\n      const [tx] = await approveTokens(provider, config.addresses.vault, [\n        tokenInAddress.value\n      ]);\n      txHandler(tx);\n    } catch (e) {\n      console.log(e);\n      approving.value = false;\n    }\n  }\n\n  function txHandler(tx: TransactionResponse): void {\n    if (supportsBlocknative.value) {\n      blocknativeTxHandler(tx);\n    } else {\n      ethersTxHandler(tx);\n    }\n  }\n\n  function blocknativeTxHandler(tx: TransactionResponse): void {\n    txListener(tx.hash, {\n      onTxConfirmed: () => {\n        approving.value = false;\n        approved.value = true;\n      },\n      onTxCancel: () => {\n        approving.value = false;\n      },\n      onTxFailed: () => {\n        approving.value = false;\n      }\n    });\n  }\n\n  function ethersTxHandler(tx: TransactionResponse): void {\n    ethersTxListener(tx, {\n      onTxConfirmed: () => {\n        approving.value = false;\n        approved.value = true;\n      },\n      onTxFailed: () => {\n        approving.value = false;\n      }\n    });\n  }\n\n  watch(tokenInAddress, async () => {\n    if (tokenInAddress.value === ETHER.address) {\n      approved.value = true;\n    } else {\n      approved.value = false;\n    }\n  });\n\n  return {\n    approving,\n    approveV1,\n    approveV2,\n    allowanceState,\n    isLoading: isLoadingAllowances\n  };\n}\n","import { computed } from 'vue';\nimport { ETHER } from '@/constants/tokenlists';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\nconst MIN_ETH_REQUIRED = 0.0001;\n\nexport enum TradeValidation {\n  VALID,\n  NO_ACCOUNT,\n  EMPTY,\n  NO_ETHER,\n  NO_BALANCE,\n  NO_LIQUIDITY\n}\n\nexport default function useValidation(\n  tokenInAddress,\n  tokenInAmount,\n  tokenOutAddress,\n  tokenOutAmount,\n  tokens\n) {\n  const { isWalletReady } = useVueWeb3();\n\n  const tokensAmountsValid = computed(\n    () =>\n      isValidTokenAmount(tokenInAmount.value) &&\n      isValidTokenAmount(tokenOutAmount.value)\n  );\n\n  const validationStatus = computed(() => {\n    if (!isWalletReady) return TradeValidation.NO_ACCOUNT;\n    const tokenIn = tokens.value[tokenInAddress.value];\n\n    if (!tokensAmountsValid.value) return TradeValidation.EMPTY;\n\n    const eth = tokens.value[ETHER.address];\n    const ethBalance = parseFloat(eth.balance);\n    if (ethBalance < MIN_ETH_REQUIRED) {\n      return TradeValidation.NO_ETHER;\n    }\n\n    if (!tokenIn?.balance || tokenIn.balance < parseFloat(tokenInAmount.value))\n      return TradeValidation.NO_BALANCE;\n\n    if (\n      parseFloat(tokenOutAmount.value) == 0 ||\n      tokenOutAmount.value.trim() === '' ||\n      parseFloat(tokenInAmount.value) == 0 ||\n      tokenInAmount.value.trim() === ''\n    )\n      return TradeValidation.NO_LIQUIDITY;\n\n    return TradeValidation.VALID;\n  });\n\n  function isValidTokenAmount(tokenAmount: string) {\n    return parseFloat(tokenAmount) > 0 && tokenAmount.trim() !== '';\n  }\n\n  const errorMessage = computed(() => validationStatus.value);\n\n  return {\n    validationStatus,\n    errorMessage,\n    isValidTokenAmount,\n    tokensAmountsValid\n  };\n}\n","import { TransactionResponse, Web3Provider } from '@ethersproject/providers';\nimport { BigNumber } from 'bignumber.js';\nimport { sendTransaction } from '@/lib/utils/balancer/web3';\nimport configs from '@/lib/config';\nimport abi from '@/lib/abi/Weth.json';\n\nexport async function wrap(\n  network: string,\n  web3: Web3Provider,\n  amount: BigNumber\n): Promise<TransactionResponse> {\n  try {\n    return sendTransaction(\n      web3,\n      configs[network].addresses.weth,\n      abi,\n      'deposit',\n      [],\n      { value: amount.toString() }\n    );\n  } catch (e) {\n    console.log('[Wrapper] Wrap error:', e);\n    return Promise.reject(e);\n  }\n}\n\nexport async function unwrap(\n  network: string,\n  web3: Web3Provider,\n  amount: BigNumber\n): Promise<TransactionResponse> {\n  try {\n    return sendTransaction(\n      web3,\n      configs[network].addresses.weth,\n      abi,\n      'withdraw',\n      [amount.toString()]\n    );\n  } catch (e) {\n    console.log('[Wrapper] Unwrap error:', e);\n    return Promise.reject(e);\n  }\n}\n","import { Swap } from '@balancer-labs/sor/dist/types';\nimport { TransactionResponse, Web3Provider } from '@ethersproject/providers';\nimport { AddressZero, MaxUint256 } from '@ethersproject/constants';\nimport { SwapV2 } from '@balancer-labs/sor2/dist/types';\nimport { BigNumber } from 'bignumber.js';\nimport { sendTransaction } from '@/lib/utils/balancer/web3';\nimport exchangeProxyAbi from '@/lib/abi/ExchangeProxy.json';\nimport vaultAbi from '@/lib/abi/Vault.json';\nimport configs from '@/lib/config';\nimport { ETHER } from '@/constants/tokenlists';\nimport { SorReturn } from '@/lib/utils/balancer/helpers/sor/sorManager';\n\nconst SWAP_KIND_IN = 0;\nconst SWAP_KIND_OUT = 1;\n\ntype FundManagement = {\n  sender: string;\n  recipient: string;\n  fromInternalBalance: boolean;\n  toInternalBalance: boolean;\n};\n\ntype SingleSwap = {\n  poolId: string;\n  kind: number;\n  assetIn: string;\n  assetOut: string;\n  amount: string;\n  userData: string;\n};\n\nexport async function swapIn(\n  network: string,\n  provider: Web3Provider,\n  sorReturn: SorReturn,\n  tokenInAmount: BigNumber,\n  tokenOutAmountMin: BigNumber\n): Promise<TransactionResponse> {\n  if (sorReturn.isV1swap) {\n    return batchSwapGivenInV1(\n      network,\n      provider,\n      sorReturn.tokenIn,\n      sorReturn.tokenOut,\n      tokenInAmount,\n      tokenOutAmountMin,\n      sorReturn.v1result[0]\n    );\n  } else {\n    return batchSwapGivenInV2(\n      network,\n      provider,\n      sorReturn.v2result.tokenIn,\n      sorReturn.v2result.tokenOut,\n      tokenInAmount,\n      tokenOutAmountMin,\n      sorReturn.v2result.swaps,\n      sorReturn.v2result.tokenAddresses\n    );\n  }\n}\n\nexport async function swapOut(\n  network: string,\n  provider: Web3Provider,\n  sorReturn: SorReturn,\n  tokenInAmountMax: BigNumber,\n  tokenOutAmount: BigNumber\n): Promise<TransactionResponse> {\n  if (sorReturn.isV1swap) {\n    return batchSwapGivenOutV1(\n      network,\n      provider,\n      sorReturn.tokenIn,\n      sorReturn.tokenOut,\n      tokenInAmountMax,\n      sorReturn.v1result[0]\n    );\n  } else {\n    return batchSwapGivenOutV2(\n      network,\n      provider,\n      sorReturn.v2result.tokenIn,\n      sorReturn.v2result.tokenOut,\n      tokenInAmountMax,\n      tokenOutAmount,\n      sorReturn.v2result.swaps,\n      sorReturn.v2result.tokenAddresses\n    );\n  }\n}\n\nexport async function batchSwapGivenInV1(\n  network: string,\n  web3: Web3Provider,\n  tokenIn: string,\n  tokenOut: string,\n  tokenInAmount: BigNumber,\n  tokenOutAmountMin: BigNumber,\n  swaps: Swap[][]\n): Promise<TransactionResponse> {\n  console.log('[Swapper] batchSwapGivenInV1');\n  const overrides: any = {};\n\n  if (tokenIn === ETHER.address) {\n    overrides.value = `0x${tokenInAmount.toString(16)}`;\n  }\n\n  try {\n    return sendTransaction(\n      web3,\n      configs[network].addresses.exchangeProxy,\n      exchangeProxyAbi,\n      'multihopBatchSwapExactIn',\n      [\n        swaps,\n        tokenIn,\n        tokenOut,\n        tokenInAmount.toString(),\n        tokenOutAmountMin.toString()\n      ],\n      overrides\n    );\n  } catch (e) {\n    console.log('[Swapper] batchSwapGivenInV1 Error:', e);\n    return Promise.reject(e);\n  }\n}\n\nexport async function batchSwapGivenOutV1(\n  network: string,\n  web3: Web3Provider,\n  tokenIn: string,\n  tokenOut: string,\n  tokenInAmountMax: BigNumber,\n  swaps: Swap[][]\n): Promise<TransactionResponse> {\n  console.log('[Swapper] batchSwapGivenOutV1');\n  const overrides: any = {};\n\n  if (tokenIn === ETHER.address) {\n    overrides.value = `0x${tokenInAmountMax.toString(16)}`;\n  }\n\n  try {\n    return sendTransaction(\n      web3,\n      configs[network].addresses.exchangeProxy,\n      exchangeProxyAbi,\n      'multihopBatchSwapExactOut',\n      [swaps, tokenIn, tokenOut, tokenInAmountMax.toString()],\n      overrides\n    );\n  } catch (e) {\n    console.log('[Swapper] batchSwapGivenOutV1 Error:', e);\n    return Promise.reject(e);\n  }\n}\n\nasync function batchSwapGivenInV2(\n  network: string,\n  web3: Web3Provider,\n  tokenIn: string,\n  tokenOut: string,\n  tokenInAmount: BigNumber,\n  tokenOutAmountMin: BigNumber,\n  swaps: SwapV2[],\n  tokenAddresses: string[]\n): Promise<TransactionResponse> {\n  console.log('[Swapper] batchSwapGivenInV2');\n  const overrides: any = {};\n\n  if (tokenIn === AddressZero) {\n    overrides.value = `0x${tokenInAmount.toString(16)}`;\n  }\n\n  const address = await web3.getSigner().getAddress();\n\n  const funds: FundManagement = {\n    sender: address,\n    recipient: address,\n    fromInternalBalance: false,\n    toInternalBalance: false\n  };\n\n  // Limits:\n  // +ve means max to send\n  // -ve mean min to receive\n  // For a multihop the intermediate tokens should be 0\n  const limits: string[] = [];\n  tokenAddresses.forEach((token, i) => {\n    if (token.toLowerCase() === tokenIn.toLowerCase()) {\n      limits[i] = tokenInAmount.toString();\n    } else if (token.toLowerCase() === tokenOut.toLowerCase()) {\n      limits[i] = tokenOutAmountMin.times(-1).toString();\n    } else {\n      limits[i] = '0';\n    }\n  });\n  console.log('Limits', limits);\n\n  try {\n    // Do a single swap instead of a batch to save gas\n    if (swaps.length == 1) {\n      console.log('[Swapper] Overriding with single swap() GivenIn');\n\n      const single: SingleSwap = {\n        poolId: swaps[0].poolId,\n        kind: SWAP_KIND_IN,\n        assetIn: tokenAddresses[swaps[0].assetInIndex],\n        assetOut: tokenAddresses[swaps[0].assetOutIndex],\n        amount: swaps[0].amount,\n        userData: swaps[0].userData\n      };\n\n      return sendTransaction(\n        web3,\n        configs[network].addresses.vault,\n        vaultAbi,\n        'swap',\n        [single, funds, tokenOutAmountMin.toString(), MaxUint256],\n        overrides\n      );\n    }\n\n    return sendTransaction(\n      web3,\n      configs[network].addresses.vault,\n      vaultAbi,\n      'batchSwap',\n      [SWAP_KIND_IN, swaps, tokenAddresses, funds, limits, MaxUint256],\n      overrides\n    );\n  } catch (e) {\n    console.log('[Swapper] batchSwapGivenInV2 Error:', e);\n    return Promise.reject(e);\n  }\n}\n\nasync function batchSwapGivenOutV2(\n  network: string,\n  web3: Web3Provider,\n  tokenIn: string,\n  tokenOut: string,\n  tokenInAmountMax: BigNumber,\n  tokenOutAmount: BigNumber,\n  swaps: SwapV2[],\n  tokenAddresses: string[]\n): Promise<TransactionResponse> {\n  console.log('[Swapper] batchSwapGivenOutV2');\n  const overrides: any = {};\n\n  if (tokenIn === AddressZero) {\n    overrides.value = `0x${tokenInAmountMax.toString(16)}`;\n  }\n\n  const address = await web3.getSigner().getAddress();\n\n  const funds: FundManagement = {\n    sender: address,\n    recipient: address,\n    fromInternalBalance: false,\n    toInternalBalance: false\n  };\n\n  // Limits:\n  // +ve means max to send\n  // -ve mean min to receive\n  // For a multihop the intermediate tokens should be 0\n  const limits: string[] = [];\n  tokenAddresses.forEach((token, i) => {\n    if (token.toLowerCase() === tokenIn.toLowerCase()) {\n      limits[i] = tokenInAmountMax.toString();\n    } else if (token.toLowerCase() === tokenOut.toLowerCase()) {\n      limits[i] = tokenOutAmount.times(-1).toString();\n    } else {\n      limits[i] = '0';\n    }\n  });\n  console.log('Limits', limits);\n\n  try {\n    // Do a single swap instead of a batch to save gas\n    if (swaps.length == 1) {\n      console.log('[Swapper] Overriding with single swap() GivenOut');\n\n      const single: SingleSwap = {\n        poolId: swaps[0].poolId,\n        kind: SWAP_KIND_OUT,\n        assetIn: tokenAddresses[swaps[0].assetInIndex],\n        assetOut: tokenAddresses[swaps[0].assetOutIndex],\n        amount: swaps[0].amount,\n        userData: swaps[0].userData\n      };\n\n      return sendTransaction(\n        web3,\n        configs[network].addresses.vault,\n        vaultAbi,\n        'swap',\n        [single, funds, tokenInAmountMax.toString(), MaxUint256],\n        overrides\n      );\n    }\n\n    return sendTransaction(\n      web3,\n      configs[network].addresses.vault,\n      vaultAbi,\n      'batchSwap',\n      [SWAP_KIND_OUT, swaps, tokenAddresses, funds, limits, MaxUint256],\n      overrides\n    );\n  } catch (e) {\n    console.log('[Swapper] batchSwapGivenOutV2 Error:', e);\n    return Promise.reject(e);\n  }\n}\n","import { Ref, onMounted, ref, computed, ComputedRef } from 'vue';\nimport { useStore } from 'vuex';\nimport { useIntervalFn } from '@vueuse/core';\nimport { BigNumber } from 'bignumber.js';\nimport useWeb3 from '@/composables/useWeb3';\nimport { Pool } from '@balancer-labs/sor/dist/types';\nimport { SubgraphPoolBase } from '@balancer-labs/sor2';\n\nimport { scale, bnum } from '@/lib/utils';\nimport { unwrap, wrap } from '@/lib/utils/balancer/wrapper';\nimport getProvider from '@/lib/utils/provider';\nimport {\n  SorManager,\n  SorReturn,\n  LiquiditySelection\n} from '@/lib/utils/balancer/helpers/sor/sorManager';\nimport { swapIn, swapOut } from '@/lib/utils/balancer/swapper';\nimport ConfigService from '@/services/config/config.service';\n\nimport useNotify from '@/composables/useNotify';\nimport useFathom from '../useFathom';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useAccountBalances from '../useAccountBalances';\n\nimport { ETHER } from '@/constants/tokenlists';\nimport { TransactionResponse } from '@ethersproject/providers';\nimport useEthers from '../useEthers';\nimport { TokenMap } from '@/types';\nimport { TradeQuote } from './types';\n\nconst GAS_PRICE = process.env.VUE_APP_GAS_PRICE || '100000000000';\nconst MAX_POOLS = process.env.VUE_APP_MAX_POOLS || '4';\nconst SWAP_COST = process.env.VUE_APP_SWAP_COST || '100000';\nconst MIN_PRICE_IMPACT = 0.0001;\n\ntype Props = {\n  exactIn: Ref<boolean>;\n  tokenInAddressInput: Ref<string>;\n  tokenInAmountInput: Ref<string>;\n  tokenOutAddressInput: Ref<string>;\n  tokenOutAmountInput: Ref<string>;\n  tokens: Ref<TokenMap>;\n  isWrap: Ref<boolean>;\n  isUnwrap: Ref<boolean>;\n  tokenInAmountScaled?: ComputedRef<BigNumber>;\n  tokenOutAmountScaled?: ComputedRef<BigNumber>;\n  sorConfig?: {\n    refetchPools: boolean;\n    handleAmountsOnFetchPools: boolean;\n    enableTxHandler: boolean;\n  };\n};\n\nexport type UseSor = ReturnType<typeof useSor>;\n\nexport default function useSor({\n  exactIn,\n  tokenInAddressInput,\n  tokenInAmountInput,\n  tokenOutAddressInput,\n  tokenOutAmountInput,\n  tokens,\n  isWrap,\n  isUnwrap,\n  tokenInAmountScaled,\n  tokenOutAmountScaled,\n  sorConfig = {\n    refetchPools: true,\n    handleAmountsOnFetchPools: true,\n    enableTxHandler: true\n  }\n}: Props) {\n  let sorManager: SorManager | undefined = undefined;\n  const pools = ref<(Pool | SubgraphPoolBase)[]>([]);\n  const sorReturn = ref<SorReturn>({\n    isV1swap: false,\n    isV1best: false,\n    hasSwaps: false,\n    tokenIn: '',\n    tokenOut: '',\n    returnDecimals: 18,\n    returnAmount: new BigNumber(0),\n    marketSpNormalised: new BigNumber(0),\n    v1result: [[], new BigNumber(0), new BigNumber(0)],\n    v2result: {\n      tokenAddresses: [],\n      swaps: [],\n      swapAmount: new BigNumber(0),\n      returnAmount: new BigNumber(0),\n      returnAmountConsideringFees: new BigNumber(0),\n      tokenIn: '',\n      tokenOut: '',\n      marketSp: new BigNumber(0)\n    }\n  });\n  const trading = ref(false);\n  const priceImpact = ref(0);\n  const latestTxHash = ref('');\n  const poolsLoading = ref(true);\n\n  // COMPOSABLES\n  const store = useStore();\n  const { getProvider: getWeb3Provider, userNetworkConfig } = useVueWeb3();\n  const provider = computed(() => getWeb3Provider());\n  const { refetchBalances } = useAccountBalances();\n  const { txListener, supportsBlocknative } = useNotify();\n  const { trackGoal, Goals } = useFathom();\n  const { appNetwork } = useWeb3();\n  const { txListener: ethersTxListener } = useEthers();\n\n  const liquiditySelection = computed(() => store.state.app.tradeLiquidity);\n\n  onMounted(async () => {\n    const unknownAssets: string[] = [];\n    if (!tokens.value[tokenInAddressInput.value]) {\n      unknownAssets.push(tokenInAddressInput.value);\n    }\n    if (!tokens.value[tokenOutAddressInput.value]) {\n      unknownAssets.push(tokenOutAddressInput.value);\n    }\n    await store.dispatch('registry/injectTokens', unknownAssets);\n    await initSor();\n    await handleAmountChange();\n  });\n\n  useIntervalFn(async () => {\n    if (sorConfig.refetchPools && sorManager) {\n      fetchPools();\n    }\n  }, 30 * 1e3);\n\n  const slippageBufferRate = computed(() =>\n    parseFloat(store.state.app.slippage)\n  );\n\n  async function initSor(): Promise<void> {\n    const config = userNetworkConfig.value;\n    const poolsUrlV1 = `${config.poolsUrlV1}?timestamp=${Date.now()}`;\n    const poolsUrlV2 = `${config.poolsUrlV2}?timestamp=${Date.now()}`;\n    const subgraphUrl = new ConfigService().network.subgraph;\n\n    // If V1 previously selected on another network then it uses this and returns no liquidity.\n    if (!appNetwork.supportsV1) {\n      store.commit('app/setTradeLiquidity', LiquiditySelection.V2);\n    }\n\n    sorManager = new SorManager(\n      getProvider(String(userNetworkConfig.value.chainId)),\n      new BigNumber(GAS_PRICE),\n      Number(MAX_POOLS),\n      config.chainId,\n      config.addresses.weth,\n      poolsUrlV1,\n      poolsUrlV2,\n      subgraphUrl\n    );\n\n    fetchPools();\n  }\n\n  async function fetchPools(): Promise<void> {\n    if (!sorManager) {\n      return;\n    }\n\n    console.time('[SOR] fetchPools');\n    await sorManager.fetchPools();\n    console.timeEnd('[SOR] fetchPools');\n    poolsLoading.value = false;\n    // Updates any swaps with up to date pools/balances\n    if (sorConfig.handleAmountsOnFetchPools) {\n      handleAmountChange();\n    }\n  }\n\n  async function handleAmountChange(): Promise<void> {\n    const amount = exactIn.value\n      ? tokenInAmountInput.value\n      : tokenOutAmountInput.value;\n    // Avoid using SOR if querying a zero value or (un)wrapping trade\n    const zeroValueTrade = amount === '' || new BigNumber(amount).isZero();\n    if (zeroValueTrade) {\n      tokenInAmountInput.value = amount;\n      tokenOutAmountInput.value = amount;\n      priceImpact.value = 0;\n      sorReturn.value.hasSwaps = false;\n      sorReturn.value.returnAmount = new BigNumber(0);\n      return;\n    }\n\n    if (isWrap.value || isUnwrap.value) {\n      tokenInAmountInput.value = amount;\n      tokenOutAmountInput.value = amount;\n      sorReturn.value.hasSwaps = false;\n      priceImpact.value = 0;\n      return;\n    }\n\n    const tokenInAddress = tokenInAddressInput.value;\n    const tokenOutAddress = tokenOutAddressInput.value;\n\n    if (\n      !tokenInAddress ||\n      !tokenOutAddress ||\n      !sorManager ||\n      !sorManager.hasPoolData()\n    ) {\n      if (exactIn.value) tokenOutAmountInput.value = '';\n      else tokenInAmountInput.value = '';\n      return;\n    }\n\n    const tokenInDecimals = tokens.value[tokenInAddressInput.value]?.decimals;\n    const tokenOutDecimals = tokens.value[tokenOutAddressInput.value]?.decimals;\n\n    if (exactIn.value) {\n      await setSwapCost(\n        tokenOutAddressInput.value,\n        tokenOutDecimals,\n        sorManager\n      );\n\n      const tokenInAmountNormalised = new BigNumber(amount); // Normalized value\n      const tokenInAmountScaled = scale(\n        tokenInAmountNormalised,\n        tokenInDecimals\n      );\n\n      console.log('[SOR Manager] swapExactIn');\n\n      const swapReturn: SorReturn = await sorManager.getBestSwap(\n        tokenInAddress,\n        tokenOutAddress,\n        tokenInDecimals,\n        tokenOutDecimals,\n        'swapExactIn',\n        tokenInAmountScaled,\n        tokenInDecimals,\n        liquiditySelection.value\n      );\n\n      sorReturn.value = swapReturn; // TO DO - is it needed?\n      const tokenOutAmountNormalised = scale(\n        swapReturn.returnAmount,\n        -tokenOutDecimals\n      );\n      tokenOutAmountInput.value =\n        tokenOutAmountNormalised.toNumber() > 0\n          ? tokenOutAmountNormalised.toFixed(6, BigNumber.ROUND_DOWN)\n          : '';\n\n      if (!sorReturn.value.hasSwaps) {\n        priceImpact.value = 0;\n      } else {\n        const returnAmtNormalised = scale(\n          swapReturn.returnAmount,\n          -tokenOutDecimals\n        );\n        const effectivePrice = tokenInAmountNormalised.div(returnAmtNormalised);\n        const priceImpactCalc = effectivePrice\n          .div(swapReturn.marketSpNormalised)\n          .minus(1);\n\n        priceImpact.value = BigNumber.max(\n          priceImpactCalc,\n          MIN_PRICE_IMPACT\n        ).toNumber();\n      }\n    } else {\n      // Notice that outputToken is tokenOut if swapType == 'swapExactIn' and tokenIn if swapType == 'swapExactOut'\n      await setSwapCost(tokenInAddressInput.value, tokenInDecimals, sorManager);\n\n      const tokenOutAmountNormalised = new BigNumber(amount);\n      const tokenOutAmount = scale(tokenOutAmountNormalised, tokenOutDecimals);\n\n      console.log('[SOR Manager] swapExactOut');\n\n      const swapReturn: SorReturn = await sorManager.getBestSwap(\n        tokenInAddress,\n        tokenOutAddress,\n        tokenInDecimals,\n        tokenOutDecimals,\n        'swapExactOut',\n        tokenOutAmount,\n        tokenOutDecimals,\n        liquiditySelection.value\n      );\n\n      sorReturn.value = swapReturn; // TO DO - is it needed?\n\n      const tradeAmount: BigNumber = swapReturn.returnAmount;\n      const tokenInAmountNormalised = scale(tradeAmount, -tokenInDecimals);\n      tokenInAmountInput.value =\n        tokenInAmountNormalised.toNumber() > 0\n          ? tokenInAmountNormalised.toFixed(6, BigNumber.ROUND_UP)\n          : '';\n\n      if (!sorReturn.value.hasSwaps) {\n        priceImpact.value = 0;\n      } else {\n        const effectivePrice = tokenInAmountNormalised.div(\n          tokenOutAmountNormalised\n        );\n        const priceImpactCalc = effectivePrice\n          .div(swapReturn.marketSpNormalised)\n          .minus(1);\n\n        priceImpact.value = BigNumber.max(\n          priceImpactCalc,\n          MIN_PRICE_IMPACT\n        ).toNumber();\n      }\n    }\n\n    pools.value = sorManager.selectedPools;\n  }\n\n  function blocknativeTxHandler(tx: TransactionResponse): void {\n    txListener(tx.hash, {\n      onTxConfirmed: async () => {\n        trading.value = false;\n        latestTxHash.value = tx.hash;\n        trackGoal(Goals.Swapped);\n        await refetchBalances.value();\n      },\n      onTxCancel: () => {\n        trading.value = false;\n      },\n      onTxFailed: () => {\n        trading.value = false;\n      }\n    });\n  }\n\n  function ethersTxHandler(tx: TransactionResponse): void {\n    ethersTxListener(tx, {\n      onTxConfirmed: () => {\n        trading.value = false;\n        latestTxHash.value = tx.hash;\n        trackGoal(Goals.Swapped);\n      },\n      onTxFailed: () => {\n        trading.value = false;\n      }\n    });\n  }\n\n  function txHandler(tx: TransactionResponse): void {\n    if (sorConfig.enableTxHandler) {\n      if (supportsBlocknative.value) {\n        blocknativeTxHandler(tx);\n      } else {\n        ethersTxHandler(tx);\n      }\n    }\n  }\n\n  async function trade(successCallback?: () => void) {\n    trackGoal(Goals.ClickSwap);\n    trading.value = true;\n\n    const tokenInAddress = tokenInAddressInput.value;\n    const tokenOutAddress = tokenOutAddressInput.value;\n    const tokenInDecimals = tokens.value[tokenInAddress].decimals;\n    const tokenOutDecimals = tokens.value[tokenOutAddress].decimals;\n    const tokenInAmountNumber = new BigNumber(tokenInAmountInput.value);\n    const tokenInAmountScaled = scale(tokenInAmountNumber, tokenInDecimals);\n\n    if (isWrap.value) {\n      try {\n        const tx = await wrap(\n          String(userNetworkConfig.value.chainId),\n          provider.value as any,\n          tokenInAmountScaled\n        );\n        console.log('Wrap tx', tx);\n        if (successCallback != null) {\n          successCallback();\n        }\n        txHandler(tx);\n      } catch (e) {\n        console.log(e);\n        trading.value = false;\n      }\n      return;\n    } else if (isUnwrap.value) {\n      try {\n        const tx = await unwrap(\n          String(userNetworkConfig.value.chainId),\n          provider.value as any,\n          tokenInAmountScaled\n        );\n        console.log('Unwrap tx', tx);\n        if (successCallback != null) {\n          successCallback();\n        }\n        txHandler(tx);\n      } catch (e) {\n        console.log(e);\n        trading.value = false;\n      }\n      return;\n    }\n\n    if (exactIn.value) {\n      const tokenOutAmountNumber = new BigNumber(tokenOutAmountInput.value);\n      const tokenOutAmount = scale(tokenOutAmountNumber, tokenOutDecimals);\n      const minAmount = getMinOut(tokenOutAmount);\n      const sr: SorReturn = sorReturn.value as SorReturn;\n\n      try {\n        const tx = await swapIn(\n          String(userNetworkConfig.value.chainId),\n          provider.value as any,\n          sr,\n          tokenInAmountScaled,\n          minAmount\n        );\n        console.log('Swap in tx', tx);\n        if (successCallback != null) {\n          successCallback();\n        }\n        txHandler(tx);\n      } catch (e) {\n        console.log(e);\n        trading.value = false;\n      }\n    } else {\n      const tokenInAmountMax = getMaxIn(tokenInAmountScaled);\n      const sr: SorReturn = sorReturn.value as SorReturn;\n      const tokenOutAmountNormalised = new BigNumber(tokenOutAmountInput.value);\n      const tokenOutAmountScaled = scale(\n        tokenOutAmountNormalised,\n        tokenOutDecimals\n      );\n\n      try {\n        const tx = await swapOut(\n          String(userNetworkConfig.value.chainId),\n          provider.value as any,\n          sr,\n          tokenInAmountMax,\n          tokenOutAmountScaled\n        );\n        console.log('Swap out tx', tx);\n        if (successCallback != null) {\n          successCallback();\n        }\n        txHandler(tx);\n      } catch (e) {\n        console.log(e);\n        trading.value = false;\n      }\n    }\n  }\n\n  // Uses stored market prices to calculate swap cost in token denomination\n  function calculateSwapCost(tokenAddress: string): BigNumber {\n    const ethPriceUsd =\n      store.state.market.prices[ETHER.address.toLowerCase()]?.price || 0;\n    const tokenPriceUsd =\n      store.state.market.prices[tokenAddress.toLowerCase()]?.price || 0;\n    const gasPriceWei = store.state.market.gasPrice || 0;\n    const gasPriceScaled = scale(bnum(gasPriceWei), -18);\n    const ethPriceToken = bnum(Number(ethPriceUsd) / Number(tokenPriceUsd));\n    const swapCost = bnum(SWAP_COST);\n    const costSwapToken = gasPriceScaled.times(swapCost).times(ethPriceToken);\n    return costSwapToken;\n  }\n\n  // Sets SOR swap cost for more efficient routing\n  async function setSwapCost(\n    tokenAddress: string,\n    tokenDecimals: number,\n    sorManager: SorManager\n  ): Promise<void> {\n    const chainId = userNetworkConfig.value.chainId;\n    // If using Polygon get price of swap using stored market prices\n    // If mainnet price retrieved on-chain using SOR\n    if (chainId === 137) {\n      const swapCostToken = calculateSwapCost(tokenOutAddressInput.value);\n      await sorManager.setCostOutputToken(\n        tokenAddress,\n        tokenDecimals,\n        swapCostToken\n      );\n    } else {\n      await sorManager.setCostOutputToken(tokenAddress, tokenDecimals);\n    }\n  }\n\n  function getMaxIn(amount: BigNumber) {\n    return amount\n      .times(1 + slippageBufferRate.value)\n      .integerValue(BigNumber.ROUND_DOWN);\n  }\n\n  function getMinOut(amount: BigNumber) {\n    return amount\n      .div(1 + slippageBufferRate.value)\n      .integerValue(BigNumber.ROUND_DOWN);\n  }\n\n  function getQuote(): TradeQuote {\n    const maximumInAmount =\n      tokenInAmountScaled != null\n        ? getMaxIn(tokenInAmountScaled.value).toString()\n        : '';\n\n    const minimumOutAmount =\n      tokenOutAmountScaled != null\n        ? getMinOut(tokenOutAmountScaled.value).toString()\n        : '';\n\n    return {\n      feeAmountInToken: '0',\n      feeAmountOutToken: '0',\n      maximumInAmount,\n      minimumOutAmount\n    };\n  }\n\n  return {\n    sorManager,\n    sorReturn,\n    pools,\n    initSor,\n    handleAmountChange,\n    exactIn,\n    trade,\n    trading,\n    priceImpact,\n    latestTxHash,\n    fetchPools,\n    poolsLoading,\n    getQuote\n  };\n}\n","<template>\n  <div>\n    <div\n      class=\"p-2 flex justify-between text-sm rounded-t-lg border border-b-0\"\n    >\n      <div>{{ $t('send') }}</div>\n      <div v-if=\"tokenInValue > 0\" class=\"text-gray-500\">\n        {{ fNum(tokenInValue, 'usd') }}\n      </div>\n    </div>\n    <BalTextInput\n      name=\"tokenIn\"\n      :model-value=\"tokenInAmountInput\"\n      @input=\"value => handleInAmountChange(value)\"\n      type=\"number\"\n      :decimal-limit=\"tokenInDecimals\"\n      min=\"0\"\n      step=\"any\"\n      placeholder=\"0\"\n      validate-on=\"input\"\n      square-top\n      prepend-border\n    >\n      <template v-slot:prepend>\n        <div\n          class=\"flex items-center w-28 h-full cursor-pointer\"\n          @click=\"openModalSelectToken('input')\"\n        >\n          <BalAsset\n            v-if=\"tokenInAddressInput\"\n            :address=\"tokenInAddressInput\"\n            :size=\"28\"\n          />\n          <div class=\"flex flex-col ml-3 w-14 leading-none truncate\">\n            <BalTooltip v-if=\"tokenInSymbol.length > 5\">\n              <template v-slot:activator>\n                <span class=\"font-bold\">\n                  {{ tokenInSymbol }}\n                </span>\n              </template>\n              <div>\n                {{ tokenInSymbol }}\n              </div>\n            </BalTooltip>\n            <span v-else class=\"font-bold\">\n              {{ tokenInSymbol }}\n            </span>\n          </div>\n          <BalIcon\n            :name=\"'chevron-down'\"\n            :size=\"'sm'\"\n            class=\"text-blue-500 group-hover:text-pink-500\"\n          />\n        </div>\n      </template>\n      <template v-slot:info>\n        <div class=\"cursor-pointer\" @click=\"handleMax\">\n          {{ $t('balance') }}: {{ fNum(balanceLabel, 'token') }}\n        </div>\n      </template>\n      <template v-slot:append>\n        <div class=\"p-2\">\n          <BalBtn size=\"xs\" color=\"white\" @click=\"handleMax\">\n            {{ $t('max') }}\n          </BalBtn>\n        </div>\n      </template>\n    </BalTextInput>\n    <div class=\"flex items-center mb-4\">\n      <TradePairToggle @toggle=\"handleSwitchTokens\" />\n      <div v-if=\"rateMessage\" class=\"flex-auto ml-4\">\n        <span\n          class=\"text-sm text-gray-500 cursor-pointer\"\n          @click=\"toggleRate\"\n          v-text=\"rateMessage\"\n        />\n      </div>\n    </div>\n    <div\n      class=\"p-2 flex justify-between text-sm rounded-t-lg border border-b-0\"\n    >\n      <div>{{ $t('receive') }}</div>\n      <div v-if=\"tokenOutValue > 0\" class=\"text-gray-500\">\n        {{ fNum(tokenOutValue, 'usd') }}\n      </div>\n    </div>\n    <BalTextInput\n      :name=\"'tokenOut'\"\n      :model-value=\"tokenOutAmountInput\"\n      @input=\"value => handleOutAmountChange(value)\"\n      type=\"number\"\n      :decimal-limit=\"tokenOutDecimals\"\n      min=\"0\"\n      step=\"any\"\n      placeholder=\"0\"\n      validate-on=\"input\"\n      prepend-border\n      square-top\n    >\n      <template v-slot:prepend>\n        <div\n          class=\"flex items-center w-28 h-full cursor-pointer\"\n          @click=\"openModalSelectToken('output')\"\n        >\n          <BalAsset\n            v-if=\"tokenOutAddressInput\"\n            :address=\"tokenOutAddressInput\"\n            :size=\"28\"\n          />\n          <div class=\"flex flex-col ml-3 w-14 leading-none truncate\">\n            <BalTooltip v-if=\"tokenOutSymbol.length > 5\">\n              <template v-slot:activator>\n                <span class=\"font-bold\">\n                  {{ tokenOutSymbol }}\n                </span>\n              </template>\n              <div>\n                {{ tokenOutSymbol }}\n              </div>\n            </BalTooltip>\n            <span v-else class=\"font-bold\">\n              {{ tokenOutSymbol }}\n            </span>\n          </div>\n          <BalIcon\n            :name=\"'chevron-down'\"\n            :size=\"'sm'\"\n            class=\"text-blue-500 group-hover:text-pink-500\"\n          />\n        </div>\n      </template>\n      <template v-slot:info>\n        <div>\n          {{ $t('priceImpact') }}:\n          {{ fNum(priceImpact, 'percent') }}\n        </div>\n      </template>\n    </BalTextInput>\n  </div>\n  <teleport to=\"#modal\">\n    <SelectTokenModal\n      v-if=\"modalSelectTokenIsOpen\"\n      :excludedTokens=\"[tokenInAddressInput, tokenOutAddressInput]\"\n      @close=\"modalSelectTokenIsOpen = false\"\n      @select=\"handleSelectToken\"\n      include-ether\n    />\n  </teleport>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, toRefs, computed, ref } from 'vue';\nimport { useStore } from 'vuex';\n\nimport useNumbers from '@/composables/useNumbers';\nimport { ETHER } from '@/constants/tokenlists';\n\nimport TradePairToggle from '@/components/cards/TradeCard/TradePairToggle.vue';\nimport SelectTokenModal from '@/components/modals/SelectTokenModal/SelectTokenModal.vue';\nimport useTokens from '@/composables/useTokens';\n\nconst ETH_BUFFER = 0.1;\n\nexport default defineComponent({\n  components: {\n    TradePairToggle,\n    SelectTokenModal\n  },\n  props: {\n    tokenInAmountInput: {\n      type: String,\n      required: true\n    },\n    tokenInAddressInput: {\n      type: String,\n      required: true\n    },\n    tokenOutAmountInput: {\n      type: String,\n      required: true\n    },\n    tokenOutAddressInput: {\n      type: String,\n      required: true\n    },\n    exactIn: {\n      type: Boolean,\n      required: true\n    },\n    priceImpact: {\n      type: Number,\n      required: true\n    }\n  },\n  emits: [\n    'tokenInAddressChange',\n    'tokenInAmountChange',\n    'tokenOutAddressChange',\n    'tokenOutAmountChange',\n    'exactInChange',\n    'change'\n  ],\n  setup(props, { emit }) {\n    const store = useStore();\n    const { tokens } = useTokens();\n    const { fNum, toFiat } = useNumbers();\n\n    const {\n      tokenInAmountInput,\n      tokenInAddressInput,\n      tokenOutAmountInput,\n      tokenOutAddressInput,\n      exactIn\n    } = toRefs(props);\n\n    const tokenInValue = computed(() =>\n      toFiat(tokenInAmountInput.value, tokenInAddressInput.value)\n    );\n\n    const tokenInSymbol = computed(() => {\n      const tokenIn = tokens.value[tokenInAddressInput.value];\n      const symbol = tokenIn ? tokenIn.symbol : '';\n      return symbol;\n    });\n\n    const tokenOutValue = computed(() =>\n      toFiat(tokenOutAmountInput.value, tokenOutAddressInput.value)\n    );\n\n    const tokenOutSymbol = computed(() => {\n      const tokenOut = tokens.value[tokenOutAddressInput.value];\n      const symbol = tokenOut ? tokenOut.symbol : '';\n      return symbol;\n    });\n\n    const tokenInDecimals = computed(() => {\n      const decimals = tokens.value[tokenInAddressInput.value]\n        ? tokens.value[tokenInAddressInput.value].decimals\n        : 18;\n      return decimals;\n    });\n\n    const tokenOutDecimals = computed(() => {\n      const decimals = tokens.value[tokenOutAddressInput.value]\n        ? tokens.value[tokenOutAddressInput.value].decimals\n        : 18;\n      return decimals;\n    });\n\n    const isInRate = ref(true);\n    const modalSelectTokenType = ref('input');\n    const modalSelectTokenIsOpen = ref(false);\n\n    function handleMax(): void {\n      const balance = tokens.value[tokenInAddressInput.value]?.balance || '0';\n      const balanceNumber = parseFloat(balance);\n      const maxAmount =\n        tokenInAddressInput.value !== ETHER.address\n          ? balance\n          : balanceNumber > ETH_BUFFER\n          ? (balanceNumber - ETH_BUFFER).toString()\n          : '0';\n      handleInAmountChange(maxAmount);\n    }\n\n    function handleInAmountChange(value: string): void {\n      emit('exactInChange', true);\n      emit('tokenInAmountChange', value);\n      emit('change', value);\n    }\n\n    function handleOutAmountChange(value: string): void {\n      emit('exactInChange', false);\n      emit('tokenOutAmountChange', value);\n      emit('change', value);\n    }\n\n    function handleSwitchTokens(): void {\n      emit('exactInChange', !exactIn.value);\n      emit('tokenInAmountChange', tokenOutAmountInput.value);\n      emit('tokenInAddressChange', tokenOutAddressInput.value);\n      emit('tokenOutAmountChange', tokenInAmountInput.value);\n      emit('tokenOutAddressChange', tokenInAddressInput.value);\n    }\n\n    function handleSelectToken(address: string): void {\n      if (modalSelectTokenType.value === 'input') {\n        if (address === tokenOutAddressInput.value) {\n          handleSwitchTokens();\n          return;\n        } else emit('tokenInAddressChange', address);\n      } else {\n        if (address === tokenInAddressInput.value) {\n          handleSwitchTokens();\n          return;\n        } else emit('tokenOutAddressChange', address);\n      }\n      store.dispatch('registry/injectTokens', [address]);\n    }\n\n    const rateMessage = computed(() => {\n      const tokenIn = tokens.value[tokenInAddressInput.value];\n      const tokenOut = tokens.value[tokenOutAddressInput.value];\n      if (!tokenIn || !tokenOut) {\n        return '';\n      }\n      const tokenInAmount = parseFloat(tokenInAmountInput.value);\n      const tokenOutAmount = parseFloat(tokenOutAmountInput.value);\n      if (!tokenInAmount || !tokenOutAmount) {\n        return '';\n      }\n      if (isInRate.value) {\n        const rate = tokenOutAmount / tokenInAmount;\n        const message = `1 ${tokenIn.symbol} = ${fNum(rate, 'token')} ${\n          tokenOut.symbol\n        }`;\n        return message;\n      } else {\n        const rate = tokenInAmount / tokenOutAmount;\n        const message = `1 ${tokenOut.symbol} = ${fNum(rate, 'token')} ${\n          tokenIn.symbol\n        }`;\n        return message;\n      }\n    });\n\n    function toggleRate(): void {\n      isInRate.value = !isInRate.value;\n    }\n\n    function openModalSelectToken(type: string): void {\n      modalSelectTokenIsOpen.value = true;\n      modalSelectTokenType.value = type;\n    }\n\n    const balanceLabel = computed(\n      () => tokens.value[tokenInAddressInput.value]?.balance\n    );\n\n    return {\n      fNum,\n      handleMax,\n      balanceLabel,\n      handleInAmountChange,\n      handleOutAmountChange,\n      handleSwitchTokens,\n      rateMessage,\n      toggleRate,\n      tokenInValue,\n      tokenInSymbol,\n      tokenOutValue,\n      tokenOutSymbol,\n      modalSelectTokenIsOpen,\n      openModalSelectToken,\n      handleSelectToken,\n      tokenInDecimals,\n      tokenOutDecimals\n    };\n  }\n});\n</script>\n<style>\n.prepend {\n  @apply group;\n}\n</style>\n","<template>\n  <div\n    class=\"toggle-btn w-9 h-9 flex justify-center items-center cursor-pointer rounded-full shadow-sm group\"\n    @click=\"toggle\"\n  >\n    <div\n      class=\"ease-in-out duration-300\"\n      :class=\"{ 'transform rotate-180': isRotated }\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 21 18\"\n        class=\"icon-trade-toggle w-5 h-3\"\n      >\n        <path\n          d=\"M6.26693 16.2421L6.26693 3.5252L8.70412 5.96238C9.03943 6.29801 9.58349 6.29801 9.91943 5.96238C10.2554 5.62676 10.2551 5.08301 9.91943 4.74707L6.01537 0.843008C5.97568 0.80332 5.93193 0.767695 5.88537 0.736133C5.87349 0.728633 5.86037 0.72332 5.84849 0.716445C5.81287 0.694883 5.77693 0.67332 5.73787 0.657383C5.72005 0.650195 5.70099 0.646758 5.68287 0.640195C5.64818 0.628633 5.6138 0.615508 5.57724 0.608008C5.52162 0.596758 5.46505 0.59082 5.40724 0.59082C5.34943 0.59082 5.29287 0.596758 5.23724 0.608008C5.20068 0.615195 5.1663 0.62832 5.13162 0.640195C5.11349 0.646758 5.09443 0.649883 5.07662 0.657383C5.03787 0.673633 5.00193 0.694883 4.96599 0.716445C4.95412 0.72332 4.94099 0.728633 4.92912 0.736133C4.88255 0.767695 4.8388 0.80332 4.79912 0.843008L0.895679 4.74645C0.727866 4.91426 0.643804 5.13395 0.643804 5.35395C0.643804 5.57395 0.727866 5.79363 0.895679 5.96145C1.23099 6.29707 1.77505 6.29707 2.11099 5.96145L4.54787 3.52488L4.54787 16.2418C4.54787 16.7164 4.93255 17.1011 5.40724 17.1011C5.88193 17.1011 6.26693 16.7168 6.26693 16.2421Z\"\n          class=\"text-blue-500 group-hover:text-pink-500 fill-current\"\n        />\n        <path\n          d=\"M15.7625 17.2669C15.7987 17.2597 15.8328 17.2469 15.8672 17.235C15.8856 17.2284 15.905 17.2253 15.9231 17.2175C15.9612 17.2013 15.9966 17.1806 16.0322 17.1591C16.0447 17.1519 16.0584 17.1462 16.0706 17.1384C16.1172 17.1069 16.1609 17.0713 16.2006 17.0316L20.1037 13.1284C20.4394 12.7928 20.4394 12.2491 20.1037 11.9131C19.7684 11.5775 19.2244 11.5775 18.8884 11.9131L16.4516 14.3497V1.63281C16.4516 1.15813 16.0669 0.773438 15.5922 0.773438C15.1175 0.773438 14.7328 1.15813 14.7328 1.63281V14.3497L12.2956 11.9125C11.9603 11.5769 11.4163 11.5769 11.0803 11.9125C10.9125 12.0803 10.8284 12.3 10.8284 12.52C10.8284 12.74 10.9125 12.9597 11.0803 13.1275L14.9841 17.0316C15.0238 17.0713 15.0675 17.1069 15.1141 17.1384C15.1262 17.1462 15.14 17.1519 15.1525 17.1591C15.1878 17.1803 15.2234 17.2013 15.2616 17.2175C15.2797 17.225 15.2991 17.2284 15.3175 17.235C15.3519 17.2466 15.3859 17.2594 15.4222 17.2669C15.4778 17.2778 15.5344 17.2841 15.5922 17.2841C15.65 17.2841 15.7069 17.2778 15.7625 17.2669Z\"\n        />\n      </svg>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue';\n\nexport default defineComponent({\n  emits: ['toggle'],\n  setup(_props, { emit }) {\n    const isRotated = ref(false);\n\n    function toggle(): void {\n      isRotated.value = !isRotated.value;\n      emit('toggle');\n    }\n\n    return {\n      isRotated,\n      toggle\n    };\n  }\n});\n</script>\n<style scoped>\n.icon-trade-toggle {\n  @apply transition-transform ease-out duration-200;\n}\n\n.toggle-btn:hover .icon-trade-toggle {\n  transform: scale(1.2);\n}\n</style>\n","\nimport { defineComponent, ref } from 'vue';\n\nexport default defineComponent({\n  emits: ['toggle'],\n  setup(_props, { emit }) {\n    const isRotated = ref(false);\n\n    function toggle(): void {\n      isRotated.value = !isRotated.value;\n      emit('toggle');\n    }\n\n    return {\n      isRotated,\n      toggle\n    };\n  }\n});\n","import { render } from \"./TradePairToggle.vue?vue&type=template&id=ea450278&scoped=true\"\nimport script from \"./TradePairToggle.vue?vue&type=script&lang=ts\"\nexport * from \"./TradePairToggle.vue?vue&type=script&lang=ts\"\n\nimport \"./TradePairToggle.vue?vue&type=style&index=0&id=ea450278&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-ea450278\"\n\nexport default script","\nimport { defineComponent, toRefs, computed, ref } from 'vue';\nimport { useStore } from 'vuex';\n\nimport useNumbers from '@/composables/useNumbers';\nimport { ETHER } from '@/constants/tokenlists';\n\nimport TradePairToggle from '@/components/cards/TradeCard/TradePairToggle.vue';\nimport SelectTokenModal from '@/components/modals/SelectTokenModal/SelectTokenModal.vue';\nimport useTokens from '@/composables/useTokens';\n\nconst ETH_BUFFER = 0.1;\n\nexport default defineComponent({\n  components: {\n    TradePairToggle,\n    SelectTokenModal\n  },\n  props: {\n    tokenInAmountInput: {\n      type: String,\n      required: true\n    },\n    tokenInAddressInput: {\n      type: String,\n      required: true\n    },\n    tokenOutAmountInput: {\n      type: String,\n      required: true\n    },\n    tokenOutAddressInput: {\n      type: String,\n      required: true\n    },\n    exactIn: {\n      type: Boolean,\n      required: true\n    },\n    priceImpact: {\n      type: Number,\n      required: true\n    }\n  },\n  emits: [\n    'tokenInAddressChange',\n    'tokenInAmountChange',\n    'tokenOutAddressChange',\n    'tokenOutAmountChange',\n    'exactInChange',\n    'change'\n  ],\n  setup(props, { emit }) {\n    const store = useStore();\n    const { tokens } = useTokens();\n    const { fNum, toFiat } = useNumbers();\n\n    const {\n      tokenInAmountInput,\n      tokenInAddressInput,\n      tokenOutAmountInput,\n      tokenOutAddressInput,\n      exactIn\n    } = toRefs(props);\n\n    const tokenInValue = computed(() =>\n      toFiat(tokenInAmountInput.value, tokenInAddressInput.value)\n    );\n\n    const tokenInSymbol = computed(() => {\n      const tokenIn = tokens.value[tokenInAddressInput.value];\n      const symbol = tokenIn ? tokenIn.symbol : '';\n      return symbol;\n    });\n\n    const tokenOutValue = computed(() =>\n      toFiat(tokenOutAmountInput.value, tokenOutAddressInput.value)\n    );\n\n    const tokenOutSymbol = computed(() => {\n      const tokenOut = tokens.value[tokenOutAddressInput.value];\n      const symbol = tokenOut ? tokenOut.symbol : '';\n      return symbol;\n    });\n\n    const tokenInDecimals = computed(() => {\n      const decimals = tokens.value[tokenInAddressInput.value]\n        ? tokens.value[tokenInAddressInput.value].decimals\n        : 18;\n      return decimals;\n    });\n\n    const tokenOutDecimals = computed(() => {\n      const decimals = tokens.value[tokenOutAddressInput.value]\n        ? tokens.value[tokenOutAddressInput.value].decimals\n        : 18;\n      return decimals;\n    });\n\n    const isInRate = ref(true);\n    const modalSelectTokenType = ref('input');\n    const modalSelectTokenIsOpen = ref(false);\n\n    function handleMax(): void {\n      const balance = tokens.value[tokenInAddressInput.value]?.balance || '0';\n      const balanceNumber = parseFloat(balance);\n      const maxAmount =\n        tokenInAddressInput.value !== ETHER.address\n          ? balance\n          : balanceNumber > ETH_BUFFER\n          ? (balanceNumber - ETH_BUFFER).toString()\n          : '0';\n      handleInAmountChange(maxAmount);\n    }\n\n    function handleInAmountChange(value: string): void {\n      emit('exactInChange', true);\n      emit('tokenInAmountChange', value);\n      emit('change', value);\n    }\n\n    function handleOutAmountChange(value: string): void {\n      emit('exactInChange', false);\n      emit('tokenOutAmountChange', value);\n      emit('change', value);\n    }\n\n    function handleSwitchTokens(): void {\n      emit('exactInChange', !exactIn.value);\n      emit('tokenInAmountChange', tokenOutAmountInput.value);\n      emit('tokenInAddressChange', tokenOutAddressInput.value);\n      emit('tokenOutAmountChange', tokenInAmountInput.value);\n      emit('tokenOutAddressChange', tokenInAddressInput.value);\n    }\n\n    function handleSelectToken(address: string): void {\n      if (modalSelectTokenType.value === 'input') {\n        if (address === tokenOutAddressInput.value) {\n          handleSwitchTokens();\n          return;\n        } else emit('tokenInAddressChange', address);\n      } else {\n        if (address === tokenInAddressInput.value) {\n          handleSwitchTokens();\n          return;\n        } else emit('tokenOutAddressChange', address);\n      }\n      store.dispatch('registry/injectTokens', [address]);\n    }\n\n    const rateMessage = computed(() => {\n      const tokenIn = tokens.value[tokenInAddressInput.value];\n      const tokenOut = tokens.value[tokenOutAddressInput.value];\n      if (!tokenIn || !tokenOut) {\n        return '';\n      }\n      const tokenInAmount = parseFloat(tokenInAmountInput.value);\n      const tokenOutAmount = parseFloat(tokenOutAmountInput.value);\n      if (!tokenInAmount || !tokenOutAmount) {\n        return '';\n      }\n      if (isInRate.value) {\n        const rate = tokenOutAmount / tokenInAmount;\n        const message = `1 ${tokenIn.symbol} = ${fNum(rate, 'token')} ${\n          tokenOut.symbol\n        }`;\n        return message;\n      } else {\n        const rate = tokenInAmount / tokenOutAmount;\n        const message = `1 ${tokenOut.symbol} = ${fNum(rate, 'token')} ${\n          tokenIn.symbol\n        }`;\n        return message;\n      }\n    });\n\n    function toggleRate(): void {\n      isInRate.value = !isInRate.value;\n    }\n\n    function openModalSelectToken(type: string): void {\n      modalSelectTokenIsOpen.value = true;\n      modalSelectTokenType.value = type;\n    }\n\n    const balanceLabel = computed(\n      () => tokens.value[tokenInAddressInput.value]?.balance\n    );\n\n    return {\n      fNum,\n      handleMax,\n      balanceLabel,\n      handleInAmountChange,\n      handleOutAmountChange,\n      handleSwitchTokens,\n      rateMessage,\n      toggleRate,\n      tokenInValue,\n      tokenInSymbol,\n      tokenOutValue,\n      tokenOutSymbol,\n      modalSelectTokenIsOpen,\n      openModalSelectToken,\n      handleSelectToken,\n      tokenInDecimals,\n      tokenOutDecimals\n    };\n  }\n});\n","import { render } from \"./TradePair.vue?vue&type=template&id=5619d241\"\nimport script from \"./TradePair.vue?vue&type=script&lang=ts\"\nexport * from \"./TradePair.vue?vue&type=script&lang=ts\"\n\nimport \"./TradePair.vue?vue&type=style&index=0&id=5619d241&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <BalModal\n    :show=\"open\"\n    @close=\"onClose\"\n    :title=\"$t('previewTradeTransactions')\"\n  >\n    <div>\n      <div\n        class=\"-mx-4 p-4 flex items-center border-b border-t dark:border-gray-700\"\n      >\n        <BalAssetSet\n          :addresses=\"[addressIn, addressOut]\"\n          :size=\"30\"\n          :width=\"55\"\n        />\n        <div class=\"flex flex-col\">\n          <div class=\"font-bold\">\n            {{ fNum(amountIn, 'token') }} {{ symbolIn }} ->\n            {{ fNum(amountOut, 'token') }} {{ symbolOut }}\n          </div>\n          <div class=\"text-gray-500 text-sm\">{{ fNum(valueIn, 'usd') }}</div>\n        </div>\n      </div>\n      <div>\n        <div class=\"mt-6 mb-3 text-sm\">\n          Requires {{ requiresApproval ? 2 : 1 }}\n          {{ requiresApproval ? 'transactions' : 'transaction' }}:\n        </div>\n        <div>\n          <div\n            v-if=\"requiresApproval\"\n            class=\"p-3 flex items-center border rounded-lg\"\n          >\n            <div\n              class=\"w-9 h-9 flex items-center justify-center border rounded-full text-green-500\"\n            >\n              <BalIcon v-if=\"isApproved\" name=\"check\" class=\"text-green-500\" />\n              <span v-else class=\"text-gray-500\">1</span>\n            </div>\n            <div class=\"ml-3\">\n              <span v-if=\"isApproved\">{{ $t('approved') }}</span>\n              <span v-else>{{ $t('approve') }}</span>\n            </div>\n          </div>\n          <div class=\"mt-3 p-3 flex items-center border rounded-lg\">\n            <div\n              class=\"w-9 h-9 flex items-center justify-center border rounded-full text-gray-500\"\n            >\n              {{ requiresApproval ? 2 : 1 }}\n            </div>\n            <div class=\"ml-3\">\n              Trade {{ fNum(valueIn, 'usd') }} {{ symbolIn }} -> {{ symbolOut }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <BalBtn\n        v-if=\"requiresApproval && !isApproved\"\n        class=\"mt-5\"\n        :label=\"`${$t('approve')} ${symbolIn}`\"\n        :loading=\"approving\"\n        :loading-label=\"`${$t('approving')} ${symbolIn}…`\"\n        color=\"gradient\"\n        block\n        @click.prevent=\"approve\"\n      />\n      <BalBtn\n        v-else\n        class=\"mt-5\"\n        :label=\"$t('confirmTrade')\"\n        :loading=\"trading\"\n        :loading-label=\"$t('confirming')\"\n        color=\"gradient\"\n        block\n        @click.prevent=\"trade\"\n      />\n    </div>\n  </BalModal>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, toRefs, computed } from 'vue';\n\nimport { ETHER } from '@/constants/tokenlists';\nimport useNumbers from '@/composables/useNumbers';\nimport useTokenApproval from '@/composables/trade/useTokenApproval';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useTokens from '@/composables/useTokens';\n\nexport default defineComponent({\n  emits: ['trade', 'close'],\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    isV1Swap: {\n      type: Boolean,\n      required: true\n    },\n    addressIn: {\n      type: String,\n      required: true\n    },\n    amountIn: {\n      type: String,\n      required: true\n    },\n    addressOut: {\n      type: String,\n      required: true\n    },\n    amountOut: {\n      type: String,\n      required: true\n    },\n    trading: {\n      type: Boolean,\n      required: true\n    }\n  },\n  setup(props, { emit }) {\n    const { fNum, toFiat } = useNumbers();\n\n    const { addressIn, amountIn, addressOut, isV1Swap } = toRefs(props);\n\n    const { tokens } = useTokens();\n    const { userNetworkConfig } = useVueWeb3();\n\n    const isWrap = computed(() => {\n      const config = userNetworkConfig.value;\n      return (\n        addressIn.value === ETHER.address &&\n        addressOut.value === config.addresses.weth\n      );\n    });\n\n    const isUnwrap = computed(() => {\n      const config = userNetworkConfig.value;\n      return (\n        addressOut.value === ETHER.address &&\n        addressIn.value === config.addresses.weth\n      );\n    });\n\n    const {\n      approving,\n      approveV1,\n      approveV2,\n      allowanceState\n    } = useTokenApproval(addressIn, amountIn, tokens);\n\n    const valueIn = computed(() => toFiat(amountIn.value, addressIn.value));\n\n    const symbolIn = computed(() => {\n      const token = tokens.value[addressIn.value];\n      if (!token) {\n        return '';\n      }\n      return token.symbol;\n    });\n\n    const symbolOut = computed(() => {\n      const token = tokens.value[addressOut.value];\n      if (!token) {\n        return '';\n      }\n      return token.symbol;\n    });\n\n    const isEthTrade = computed(() => addressIn.value === ETHER.address);\n\n    const requiresApproval = computed(() => {\n      if (isWrap.value || isUnwrap.value || isEthTrade.value) return false;\n      return true;\n    });\n\n    const isApproved = computed(() => {\n      return isV1Swap.value\n        ? allowanceState.value.isUnlockedV1\n        : allowanceState.value.isUnlockedV2;\n    });\n\n    async function approve(): Promise<void> {\n      if (isV1Swap.value) {\n        await approveV1();\n      } else {\n        await approveV2();\n      }\n    }\n\n    function trade() {\n      emit('trade');\n    }\n\n    function onClose() {\n      emit('close');\n    }\n\n    return {\n      fNum,\n      requiresApproval,\n      isApproved,\n      valueIn,\n      symbolIn,\n      symbolOut,\n      onClose,\n      approve,\n      approving,\n      trade\n    };\n  }\n});\n</script>\n","\nimport { defineComponent, toRefs, computed } from 'vue';\n\nimport { ETHER } from '@/constants/tokenlists';\nimport useNumbers from '@/composables/useNumbers';\nimport useTokenApproval from '@/composables/trade/useTokenApproval';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useTokens from '@/composables/useTokens';\n\nexport default defineComponent({\n  emits: ['trade', 'close'],\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    isV1Swap: {\n      type: Boolean,\n      required: true\n    },\n    addressIn: {\n      type: String,\n      required: true\n    },\n    amountIn: {\n      type: String,\n      required: true\n    },\n    addressOut: {\n      type: String,\n      required: true\n    },\n    amountOut: {\n      type: String,\n      required: true\n    },\n    trading: {\n      type: Boolean,\n      required: true\n    }\n  },\n  setup(props, { emit }) {\n    const { fNum, toFiat } = useNumbers();\n\n    const { addressIn, amountIn, addressOut, isV1Swap } = toRefs(props);\n\n    const { tokens } = useTokens();\n    const { userNetworkConfig } = useVueWeb3();\n\n    const isWrap = computed(() => {\n      const config = userNetworkConfig.value;\n      return (\n        addressIn.value === ETHER.address &&\n        addressOut.value === config.addresses.weth\n      );\n    });\n\n    const isUnwrap = computed(() => {\n      const config = userNetworkConfig.value;\n      return (\n        addressOut.value === ETHER.address &&\n        addressIn.value === config.addresses.weth\n      );\n    });\n\n    const {\n      approving,\n      approveV1,\n      approveV2,\n      allowanceState\n    } = useTokenApproval(addressIn, amountIn, tokens);\n\n    const valueIn = computed(() => toFiat(amountIn.value, addressIn.value));\n\n    const symbolIn = computed(() => {\n      const token = tokens.value[addressIn.value];\n      if (!token) {\n        return '';\n      }\n      return token.symbol;\n    });\n\n    const symbolOut = computed(() => {\n      const token = tokens.value[addressOut.value];\n      if (!token) {\n        return '';\n      }\n      return token.symbol;\n    });\n\n    const isEthTrade = computed(() => addressIn.value === ETHER.address);\n\n    const requiresApproval = computed(() => {\n      if (isWrap.value || isUnwrap.value || isEthTrade.value) return false;\n      return true;\n    });\n\n    const isApproved = computed(() => {\n      return isV1Swap.value\n        ? allowanceState.value.isUnlockedV1\n        : allowanceState.value.isUnlockedV2;\n    });\n\n    async function approve(): Promise<void> {\n      if (isV1Swap.value) {\n        await approveV1();\n      } else {\n        await approveV2();\n      }\n    }\n\n    function trade() {\n      emit('trade');\n    }\n\n    function onClose() {\n      emit('close');\n    }\n\n    return {\n      fNum,\n      requiresApproval,\n      isApproved,\n      valueIn,\n      symbolIn,\n      symbolOut,\n      onClose,\n      approve,\n      approving,\n      trade\n    };\n  }\n});\n","import { render } from \"./TradePreviewModal.vue?vue&type=template&id=b6c72504\"\nimport script from \"./TradePreviewModal.vue?vue&type=script&lang=ts\"\nexport * from \"./TradePreviewModal.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div v-if=\"routes.length > 0\">\n    <div\n      class=\"flex text-gray-500 items-center cursor-pointer\"\n      @click=\"toggleVisibility\"\n    >\n      <div class=\"mr-2\">\n        {{ label }}\n      </div>\n      <BalIcon v-if=\"visible\" name=\"chevron-up\" size=\"sm\" />\n      <BalIcon v-else name=\"chevron-down\" size=\"sm\" />\n    </div>\n    <div v-if=\"visible\" class=\"mt-5\">\n      <div\n        v-if=\"routes.length === 0\"\n        v-text=\"$t('noData')\"\n        class=\"mt-5 text-sm text-gray-500\"\n      />\n      <div v-else>\n        <div>\n          <div class=\"flex justify-between text-xs\">\n            <div>\n              <div class=\"font-bold\">\n                {{ input.amount }}\n              </div>\n              <div>\n                {{ input.symbol }}\n              </div>\n            </div>\n            <div class=\"flex flex-col items-end\">\n              <div class=\"font-bold\">\n                {{ output.amount }}\n              </div>\n              <div>\n                {{ output.symbol }}\n              </div>\n            </div>\n          </div>\n          <div class=\"relative mt-2\">\n            <div\n              class=\"pair-line absolute h-1/2 mx-9 border-b border-dashed border-gray-500\"\n            />\n            <div class=\"relative z-10 flex justify-between\">\n              <BalAsset :address=\"input.address\" :size=\"36\" />\n              <BalAsset :address=\"output.address\" :size=\"36\" />\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"flex justify-between\"\n          :style=\"{ margin: `8px ${12 + routes.length}px` }\"\n        >\n          <BalIcon\n            name=\"triangle\"\n            size=\"xxs\"\n            :filled=\"true\"\n            class=\"transform rotate-180 text-gray-500\"\n          />\n          <BalIcon\n            name=\"triangle\"\n            size=\"xxs\"\n            :filled=\"true\"\n            class=\"text-gray-500\"\n          />\n        </div>\n        <div class=\"relative my-1.5 mx-4\">\n          <div\n            v-for=\"(route, index) in routes\"\n            :key=\"index\"\n            :style=\"{\n              height: `${19 + 72 * index}px`,\n              width: `calc(100% - ${4 * (routes.length - index - 1)}px + 1px)`,\n              margin: `0 ${2 * (routes.length - index - 1) - 1}px`\n            }\"\n            class=\"absolute border-l border-r border-b border-gray-500 rounded-b-md\"\n          />\n          <div class=\"relative z-10\">\n            <div\n              v-for=\"route in routes\"\n              :key=\"route.hops[0]?.pool?.address\"\n              class=\"mt-9 first:mt-0 flex justify-between\"\n            >\n              <div class=\"w-4 ml-4 flex items-center\">\n                <BalIcon\n                  name=\"triangle\"\n                  size=\"xxs\"\n                  :filled=\"true\"\n                  class=\"transform rotate-90 text-gray-500\"\n                />\n              </div>\n              <div class=\"flex\">\n                <div\n                  v-for=\"hop in route.hops\"\n                  :key=\"hop?.pool?.address\"\n                  class=\"p-1.5 ml-4 first:ml-0 flex bg-white rounded shadow\"\n                >\n                  <a :href=\"getPoolLink(hop.pool.id)\" target=\"_blank\">\n                    <BalAsset\n                      class=\"ml-1.5 first:ml-0\"\n                      v-for=\"token in hop.pool.tokens\"\n                      :key=\"token.address\"\n                      :address=\"token.address\"\n                      :size=\"20\"\n                    />\n                  </a>\n                </div>\n              </div>\n              <div class=\"w-10 mr-4 text-xs text-right text-gray-500\">\n                {{ formatShare(route.share) }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport BigNumber from 'bignumber.js';\nimport { PropType, defineComponent, ref, computed } from 'vue';\nimport { getAddress } from '@ethersproject/address';\nimport { AddressZero } from '@ethersproject/constants';\nimport { ETHER } from '@/constants/tokenlists';\nimport { Pool, Swap } from '@balancer-labs/sor/dist/types';\nimport { SwapV2, SubgraphPoolBase } from '@balancer-labs/sor2';\n\nimport useNumbers from '@/composables/useNumbers';\nimport { SorReturn } from '@/lib/utils/balancer/helpers/sor/sorManager';\nimport { useI18n } from 'vue-i18n';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useTokens from '@/composables/useTokens';\n\ninterface Route {\n  share: number;\n  hops: Hop[];\n}\n\ninterface Hop {\n  pool: {\n    id: string;\n    tokens: Asset[];\n  };\n  tokenIn: string;\n  tokenOut: string;\n  amount: BigNumber;\n}\n\ninterface Asset {\n  address: string;\n  share: number;\n}\n\nexport default defineComponent({\n  props: {\n    addressIn: {\n      type: String,\n      required: true\n    },\n    amountIn: {\n      type: String,\n      required: true\n    },\n    addressOut: {\n      type: String,\n      required: true\n    },\n    amountOut: {\n      type: String,\n      required: true\n    },\n    pools: {\n      type: Array as PropType<(Pool | SubgraphPoolBase)[]>,\n      required: true\n    },\n    sorReturn: {\n      type: Object as PropType<SorReturn>,\n      required: true\n    }\n  },\n  setup(props) {\n    const { fNum } = useNumbers();\n    const { t } = useI18n();\n\n    const { userNetworkConfig } = useVueWeb3();\n    const { tokens } = useTokens();\n\n    const visible = ref(false);\n\n    function toggleVisibility(): void {\n      visible.value = !visible.value;\n    }\n\n    const label = computed(() => {\n      const version = props.sorReturn.isV1swap ? 'V1' : 'V2';\n      return `${t('usingLiquidity', [version])}`;\n    });\n\n    const input = computed(() => {\n      const symbol = tokens.value[props.addressIn].symbol;\n      return {\n        amount: props.amountIn,\n        address: props.addressIn,\n        symbol\n      };\n    });\n\n    const output = computed(() => {\n      const symbol = tokens.value[props.addressOut].symbol;\n      return {\n        amount: props.amountOut,\n        address: props.addressOut,\n        symbol\n      };\n    });\n\n    const routes = computed(() => {\n      const { sorReturn } = props;\n\n      if (!sorReturn.hasSwaps) {\n        return [];\n      }\n\n      if (sorReturn.isV1swap) {\n        const pools = props.pools as Pool[];\n        const swaps = sorReturn.v1result[0];\n\n        return getV1Routes(pools, swaps);\n      } else {\n        const pools = props.pools as SubgraphPoolBase[];\n        const swaps = sorReturn.v2result.swaps;\n        const addresses = sorReturn.v2result.tokenAddresses;\n        const addressIn = props.addressIn as string;\n        const addressOut = props.addressOut as string;\n\n        return getV2Routes(addressIn, addressOut, pools, swaps, addresses);\n      }\n    });\n\n    function getV1Routes(pools: Pool[], swaps: Swap[][]) {\n      if (!pools.length || !swaps.length) {\n        return [];\n      }\n\n      const totalSwapAmount = swaps.reduce((total, rawHops) => {\n        return total.plus(rawHops[0].swapAmount || '0');\n      }, new BigNumber(0));\n      const routes = swaps.map(rawHops => {\n        const swapAmount = new BigNumber(rawHops[0].swapAmount || '0');\n        const share = swapAmount.div(totalSwapAmount).toNumber();\n        const hops = rawHops.map(rawHop => {\n          const tokenIn = getAddress(rawHop.tokenIn);\n          const tokenOut = getAddress(rawHop.tokenOut);\n          const rawPool = pools.find(pool => pool.id === rawHop.pool);\n          if (!rawPool) {\n            return {};\n          }\n          const totalWeight = new BigNumber(rawPool.totalWeight);\n          const pool = {\n            id: rawPool.id,\n            tokens: rawPool.tokens\n              .map(token => {\n                const address = getAddress(token.address);\n                const weight = new BigNumber(token.denormWeight);\n                const share = weight.div(totalWeight).toNumber();\n                return {\n                  address,\n                  share\n                };\n              })\n              .sort((a, b) => {\n                if (a.address === tokenIn || b.address === tokenOut) {\n                  return -1;\n                }\n                if (a.address === tokenOut || b.address === tokenIn) {\n                  return 1;\n                }\n                return a.share - b.share;\n              })\n              .filter((_token, index, tokens) => {\n                // Show first 2 and last 2 tokens\n                return index < 2 || index > tokens.length - 3;\n              })\n          };\n          return {\n            pool,\n            tokenIn,\n            tokenOut\n          };\n        });\n        return {\n          share,\n          hops\n        };\n      }) as Route[];\n\n      return routes;\n    }\n\n    function getV2Routes(\n      addressIn: string,\n      addressOut: string,\n      pools: SubgraphPoolBase[],\n      swaps: SwapV2[],\n      addresses: string[]\n    ) {\n      const { addresses: constants } = userNetworkConfig.value;\n\n      addressIn =\n        addressIn === ETHER.address ? constants.weth : getAddress(addressIn);\n      addressOut =\n        addressOut === ETHER.address ? constants.weth : getAddress(addressOut);\n\n      if (\n        !pools.length ||\n        !swaps.length ||\n        !addresses.length ||\n        addresses.length === 1\n      ) {\n        return [];\n      }\n\n      // To get total amount we can use all swaps because multihops have a value of 0\n      const totalSwapAmount = swaps.reduce((total, rawHops) => {\n        return total.plus(rawHops.amount || '0');\n      }, new BigNumber(0));\n\n      // Contains direct and multihops\n      const routes: Route[] = [];\n      // Contains every token > token hop\n      const allHops: Hop[] = [];\n      for (let i = 0; i < swaps.length; i++) {\n        const swap = swaps[i];\n        const rawPool = pools.find(pool => pool.id === swap.poolId);\n\n        if (!rawPool) {\n          return {};\n        }\n\n        const tokenIn =\n          addresses[swap.assetInIndex] === AddressZero\n            ? constants.weth\n            : getAddress(addresses[swap.assetInIndex]);\n        const tokenOut =\n          addresses[swap.assetOutIndex] === AddressZero\n            ? constants.weth\n            : getAddress(addresses[swap.assetOutIndex]);\n\n        const isDirectSwap =\n          tokenIn === addressIn && tokenOut === addressOut ? true : false;\n\n        const pool = {\n          id: rawPool.id,\n          tokens: rawPool.tokens\n            .map(token => {\n              return {\n                address: getAddress(token.address),\n                share:\n                  parseFloat(token.weight || '') || 1 / rawPool.tokens.length\n              };\n            })\n            .sort((a, b) => {\n              if (a.address === tokenIn || b.address === tokenOut) {\n                return -1;\n              }\n              if (a.address === tokenOut || b.address === tokenIn) {\n                return 1;\n              }\n              return a.share - b.share;\n            })\n            .filter((_token, index, tokens) => {\n              // Show first 2 and last 2 tokens\n              return index < 2 || index > tokens.length - 3;\n            })\n        };\n\n        const hop = {\n          pool,\n          tokenIn,\n          tokenOut,\n          amount: new BigNumber(swap.amount || '0')\n        };\n\n        allHops.push(hop);\n\n        if (isDirectSwap) {\n          // Direct swaps are pushed to routes array immediately\n          const share = hop.amount.div(totalSwapAmount).toNumber();\n          const route = {\n            share,\n            hops: [hop]\n          } as Route;\n          routes.push(route);\n        } else {\n          // Only multihops that have a previous partner in sequence are pushed to routes\n          if (tokenOut === addressOut && swap.amount === '0') {\n            // TokenOut with amount of 0 for multihop means it's a swapExactIn and previous swap is partner of hop\n            const swapAmount = new BigNumber(allHops[i - 1].amount);\n            const share = swapAmount.div(totalSwapAmount).toNumber();\n            const route = {\n              share,\n              hops: [allHops[i - 1], hop]\n            } as Route;\n            routes.push(route);\n          } else if (tokenIn === addressIn && swap.amount === '0') {\n            // TokenIn with amount of 0 for multihop means it's a swapExactOut and previous swap is partner of hop\n            const swapAmount = new BigNumber(allHops[i - 1].amount);\n            const share = swapAmount.div(totalSwapAmount).toNumber();\n            const route = {\n              share,\n              hops: [hop, allHops[i - 1]]\n            } as Route;\n            routes.push(route);\n          }\n        }\n      }\n\n      return routes;\n    }\n\n    function formatShare(share: number): string {\n      return fNum(share, 'percent');\n    }\n\n    function getPoolLink(id: string): string {\n      const chainId = userNetworkConfig.value.chainId;\n      const prefixMap = {\n        1: 'app.',\n        42: 'kovan.',\n        137: 'polygon.'\n      };\n      const prefix = prefixMap[chainId] || '';\n      if (props.sorReturn.isV1swap && chainId === 1) {\n        return `https://pools.balancer.exchange/#/pool/${id}`;\n      } else {\n        return props.sorReturn.isV1swap\n          ? `https://${prefix}pools.balancer.exchange/#/pool/${id}`\n          : `https://${prefix}balancer.fi/#pool/${id}`;\n      }\n    }\n\n    return {\n      visible,\n      toggleVisibility,\n\n      label,\n      input,\n      output,\n      routes,\n\n      formatShare,\n      getPoolLink\n    };\n  }\n});\n</script>\n\n<style scoped>\n.pair-line {\n  width: calc(100% - 72px);\n}\n</style>\n","\nimport BigNumber from 'bignumber.js';\nimport { PropType, defineComponent, ref, computed } from 'vue';\nimport { getAddress } from '@ethersproject/address';\nimport { AddressZero } from '@ethersproject/constants';\nimport { ETHER } from '@/constants/tokenlists';\nimport { Pool, Swap } from '@balancer-labs/sor/dist/types';\nimport { SwapV2, SubgraphPoolBase } from '@balancer-labs/sor2';\n\nimport useNumbers from '@/composables/useNumbers';\nimport { SorReturn } from '@/lib/utils/balancer/helpers/sor/sorManager';\nimport { useI18n } from 'vue-i18n';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useTokens from '@/composables/useTokens';\n\ninterface Route {\n  share: number;\n  hops: Hop[];\n}\n\ninterface Hop {\n  pool: {\n    id: string;\n    tokens: Asset[];\n  };\n  tokenIn: string;\n  tokenOut: string;\n  amount: BigNumber;\n}\n\ninterface Asset {\n  address: string;\n  share: number;\n}\n\nexport default defineComponent({\n  props: {\n    addressIn: {\n      type: String,\n      required: true\n    },\n    amountIn: {\n      type: String,\n      required: true\n    },\n    addressOut: {\n      type: String,\n      required: true\n    },\n    amountOut: {\n      type: String,\n      required: true\n    },\n    pools: {\n      type: Array as PropType<(Pool | SubgraphPoolBase)[]>,\n      required: true\n    },\n    sorReturn: {\n      type: Object as PropType<SorReturn>,\n      required: true\n    }\n  },\n  setup(props) {\n    const { fNum } = useNumbers();\n    const { t } = useI18n();\n\n    const { userNetworkConfig } = useVueWeb3();\n    const { tokens } = useTokens();\n\n    const visible = ref(false);\n\n    function toggleVisibility(): void {\n      visible.value = !visible.value;\n    }\n\n    const label = computed(() => {\n      const version = props.sorReturn.isV1swap ? 'V1' : 'V2';\n      return `${t('usingLiquidity', [version])}`;\n    });\n\n    const input = computed(() => {\n      const symbol = tokens.value[props.addressIn].symbol;\n      return {\n        amount: props.amountIn,\n        address: props.addressIn,\n        symbol\n      };\n    });\n\n    const output = computed(() => {\n      const symbol = tokens.value[props.addressOut].symbol;\n      return {\n        amount: props.amountOut,\n        address: props.addressOut,\n        symbol\n      };\n    });\n\n    const routes = computed(() => {\n      const { sorReturn } = props;\n\n      if (!sorReturn.hasSwaps) {\n        return [];\n      }\n\n      if (sorReturn.isV1swap) {\n        const pools = props.pools as Pool[];\n        const swaps = sorReturn.v1result[0];\n\n        return getV1Routes(pools, swaps);\n      } else {\n        const pools = props.pools as SubgraphPoolBase[];\n        const swaps = sorReturn.v2result.swaps;\n        const addresses = sorReturn.v2result.tokenAddresses;\n        const addressIn = props.addressIn as string;\n        const addressOut = props.addressOut as string;\n\n        return getV2Routes(addressIn, addressOut, pools, swaps, addresses);\n      }\n    });\n\n    function getV1Routes(pools: Pool[], swaps: Swap[][]) {\n      if (!pools.length || !swaps.length) {\n        return [];\n      }\n\n      const totalSwapAmount = swaps.reduce((total, rawHops) => {\n        return total.plus(rawHops[0].swapAmount || '0');\n      }, new BigNumber(0));\n      const routes = swaps.map(rawHops => {\n        const swapAmount = new BigNumber(rawHops[0].swapAmount || '0');\n        const share = swapAmount.div(totalSwapAmount).toNumber();\n        const hops = rawHops.map(rawHop => {\n          const tokenIn = getAddress(rawHop.tokenIn);\n          const tokenOut = getAddress(rawHop.tokenOut);\n          const rawPool = pools.find(pool => pool.id === rawHop.pool);\n          if (!rawPool) {\n            return {};\n          }\n          const totalWeight = new BigNumber(rawPool.totalWeight);\n          const pool = {\n            id: rawPool.id,\n            tokens: rawPool.tokens\n              .map(token => {\n                const address = getAddress(token.address);\n                const weight = new BigNumber(token.denormWeight);\n                const share = weight.div(totalWeight).toNumber();\n                return {\n                  address,\n                  share\n                };\n              })\n              .sort((a, b) => {\n                if (a.address === tokenIn || b.address === tokenOut) {\n                  return -1;\n                }\n                if (a.address === tokenOut || b.address === tokenIn) {\n                  return 1;\n                }\n                return a.share - b.share;\n              })\n              .filter((_token, index, tokens) => {\n                // Show first 2 and last 2 tokens\n                return index < 2 || index > tokens.length - 3;\n              })\n          };\n          return {\n            pool,\n            tokenIn,\n            tokenOut\n          };\n        });\n        return {\n          share,\n          hops\n        };\n      }) as Route[];\n\n      return routes;\n    }\n\n    function getV2Routes(\n      addressIn: string,\n      addressOut: string,\n      pools: SubgraphPoolBase[],\n      swaps: SwapV2[],\n      addresses: string[]\n    ) {\n      const { addresses: constants } = userNetworkConfig.value;\n\n      addressIn =\n        addressIn === ETHER.address ? constants.weth : getAddress(addressIn);\n      addressOut =\n        addressOut === ETHER.address ? constants.weth : getAddress(addressOut);\n\n      if (\n        !pools.length ||\n        !swaps.length ||\n        !addresses.length ||\n        addresses.length === 1\n      ) {\n        return [];\n      }\n\n      // To get total amount we can use all swaps because multihops have a value of 0\n      const totalSwapAmount = swaps.reduce((total, rawHops) => {\n        return total.plus(rawHops.amount || '0');\n      }, new BigNumber(0));\n\n      // Contains direct and multihops\n      const routes: Route[] = [];\n      // Contains every token > token hop\n      const allHops: Hop[] = [];\n      for (let i = 0; i < swaps.length; i++) {\n        const swap = swaps[i];\n        const rawPool = pools.find(pool => pool.id === swap.poolId);\n\n        if (!rawPool) {\n          return {};\n        }\n\n        const tokenIn =\n          addresses[swap.assetInIndex] === AddressZero\n            ? constants.weth\n            : getAddress(addresses[swap.assetInIndex]);\n        const tokenOut =\n          addresses[swap.assetOutIndex] === AddressZero\n            ? constants.weth\n            : getAddress(addresses[swap.assetOutIndex]);\n\n        const isDirectSwap =\n          tokenIn === addressIn && tokenOut === addressOut ? true : false;\n\n        const pool = {\n          id: rawPool.id,\n          tokens: rawPool.tokens\n            .map(token => {\n              return {\n                address: getAddress(token.address),\n                share:\n                  parseFloat(token.weight || '') || 1 / rawPool.tokens.length\n              };\n            })\n            .sort((a, b) => {\n              if (a.address === tokenIn || b.address === tokenOut) {\n                return -1;\n              }\n              if (a.address === tokenOut || b.address === tokenIn) {\n                return 1;\n              }\n              return a.share - b.share;\n            })\n            .filter((_token, index, tokens) => {\n              // Show first 2 and last 2 tokens\n              return index < 2 || index > tokens.length - 3;\n            })\n        };\n\n        const hop = {\n          pool,\n          tokenIn,\n          tokenOut,\n          amount: new BigNumber(swap.amount || '0')\n        };\n\n        allHops.push(hop);\n\n        if (isDirectSwap) {\n          // Direct swaps are pushed to routes array immediately\n          const share = hop.amount.div(totalSwapAmount).toNumber();\n          const route = {\n            share,\n            hops: [hop]\n          } as Route;\n          routes.push(route);\n        } else {\n          // Only multihops that have a previous partner in sequence are pushed to routes\n          if (tokenOut === addressOut && swap.amount === '0') {\n            // TokenOut with amount of 0 for multihop means it's a swapExactIn and previous swap is partner of hop\n            const swapAmount = new BigNumber(allHops[i - 1].amount);\n            const share = swapAmount.div(totalSwapAmount).toNumber();\n            const route = {\n              share,\n              hops: [allHops[i - 1], hop]\n            } as Route;\n            routes.push(route);\n          } else if (tokenIn === addressIn && swap.amount === '0') {\n            // TokenIn with amount of 0 for multihop means it's a swapExactOut and previous swap is partner of hop\n            const swapAmount = new BigNumber(allHops[i - 1].amount);\n            const share = swapAmount.div(totalSwapAmount).toNumber();\n            const route = {\n              share,\n              hops: [hop, allHops[i - 1]]\n            } as Route;\n            routes.push(route);\n          }\n        }\n      }\n\n      return routes;\n    }\n\n    function formatShare(share: number): string {\n      return fNum(share, 'percent');\n    }\n\n    function getPoolLink(id: string): string {\n      const chainId = userNetworkConfig.value.chainId;\n      const prefixMap = {\n        1: 'app.',\n        42: 'kovan.',\n        137: 'polygon.'\n      };\n      const prefix = prefixMap[chainId] || '';\n      if (props.sorReturn.isV1swap && chainId === 1) {\n        return `https://pools.balancer.exchange/#/pool/${id}`;\n      } else {\n        return props.sorReturn.isV1swap\n          ? `https://${prefix}pools.balancer.exchange/#/pool/${id}`\n          : `https://${prefix}balancer.fi/#pool/${id}`;\n      }\n    }\n\n    return {\n      visible,\n      toggleVisibility,\n\n      label,\n      input,\n      output,\n      routes,\n\n      formatShare,\n      getPoolLink\n    };\n  }\n});\n","import { render } from \"./TradeRoute.vue?vue&type=template&id=3e2ffd1a&scoped=true\"\nimport script from \"./TradeRoute.vue?vue&type=script&lang=ts\"\nexport * from \"./TradeRoute.vue?vue&type=script&lang=ts\"\n\nimport \"./TradeRoute.vue?vue&type=style&index=0&id=3e2ffd1a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-3e2ffd1a\"\n\nexport default script","<template>\n  <BalLink\n    :href=\"EXTERNAL_LINKS.Balancer.BalForGas\"\n    external\n    class=\"block hover:no-underline\"\n  >\n    <div v-if=\"isActive()\" class=\"message relative px-2 py-3\">\n      <div class=\"ml-12\">\n        <div v-text=\"$t('highGasFees')\" class=\"relative text-sm font-bold\" />\n        <div class=\"relative text-sm text-gray-500\">\n          {{ text }}\n        </div>\n      </div>\n    </div>\n  </BalLink>\n</template>\n\n<script lang=\"ts\">\nimport { PropType, defineComponent, computed, onBeforeMount, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { ETHER } from '@/constants/tokenlists';\nimport BigNumber from 'bignumber.js';\nimport { SorReturn } from '@/lib/utils/balancer/helpers/sor/sorManager';\nimport { isBudgetLeft } from '@/lib/utils/balancer/bal4gas';\nimport eligibleAssetList from '@balancer-labs/assets/lists/eligible.json';\nimport { useI18n } from 'vue-i18n';\nimport { EXTERNAL_LINKS } from '@/constants/links';\nimport { getOriginalAddress } from '@/services/coingecko';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport { TOKENS } from '@/constants/tokens';\n\nexport default defineComponent({\n  props: {\n    addressIn: {\n      type: String,\n      required: true\n    },\n    addressOut: {\n      type: String,\n      required: true\n    },\n    sorReturn: {\n      type: Object as PropType<SorReturn>,\n      required: true\n    }\n  },\n\n  setup(props) {\n    const store = useStore();\n    const { appNetworkConfig } = useVueWeb3();\n    const isBalForGasBudget = ref<boolean>(false);\n    const { t } = useI18n();\n\n    const eligibleAssetMeta = eligibleAssetList[appNetworkConfig.name] ?? {};\n    const eligibleAssets = Object.fromEntries(\n      Object.entries(eligibleAssetMeta).map(assetEntry => {\n        const [address] = assetEntry;\n        return [address.toLowerCase(), ''];\n      })\n    );\n\n    const reimburseAmount = computed(() => {\n      // If no swaps set costs to 0 so no price shown\n      if (!props.sorReturn.hasSwaps) {\n        return {\n          bal: new BigNumber(0),\n          usd: new BigNumber(0)\n        };\n      }\n\n      const ethPrice =\n        store.state.market.prices[ETHER.address.toLowerCase()]?.price || 0;\n      const balPrice =\n        store.state.market.prices[\n          getOriginalAddress(appNetworkConfig.chainId, TOKENS.AddressMap.HEDG)\n        ]?.price || 0;\n      const gasPrice = store.state.market.gasPrice || 0;\n\n      const addressInIsEligible =\n        props.addressIn === ETHER.address ||\n        props.addressIn.toLowerCase() in eligibleAssets;\n      const addressOutIsEligible =\n        props.addressOut === ETHER.address ||\n        props.addressOut.toLowerCase() in eligibleAssets;\n      const reimburseAllSwaps = addressInIsEligible && addressOutIsEligible;\n\n      if (props.sorReturn.isV1swap) {\n        let numSwaps = props.sorReturn.v1result[0].flat().length;\n        if (!reimburseAllSwaps) {\n          const eligibleSwaps = props.sorReturn.v1result[0]\n            .flat()\n            .filter(hop => {\n              return (\n                hop.tokenIn in eligibleAssets && hop.tokenOut in eligibleAssets\n              );\n            });\n\n          numSwaps = eligibleSwaps.length;\n        }\n        const gasLimit =\n          numSwaps === 1\n            ? 130000\n            : numSwaps === 2\n            ? 220000\n            : numSwaps === 3\n            ? 300000\n            : numSwaps >= 4\n            ? 400000\n            : 0;\n        const gasLimitNumber = new BigNumber(gasLimit);\n        const gasCostWei = gasLimitNumber.times(gasPrice);\n        const gasCost = gasCostWei.div(1e18);\n        return {\n          bal: gasCost.times(ethPrice).div(balPrice),\n          usd: gasCost.times(ethPrice)\n        };\n      } else {\n        let numSwaps = props.sorReturn.v2result.swaps.length;\n        if (!reimburseAllSwaps) {\n          const tokensList = props.sorReturn.v2result.tokenAddresses;\n          numSwaps = 0;\n          props.sorReturn.v2result.swaps.forEach(swap => {\n            if (\n              tokensList[swap.assetInIndex] in eligibleAssets &&\n              tokensList[swap.assetOutIndex] in eligibleAssets\n            )\n              numSwaps++;\n          });\n        }\n        const gasLimit =\n          numSwaps === 1\n            ? 90000\n            : numSwaps === 2\n            ? 140000\n            : numSwaps === 3\n            ? 140000\n            : numSwaps >= 4\n            ? 140000\n            : 0;\n        const gasLimitNumber = new BigNumber(gasLimit);\n        const gasCostWei = gasLimitNumber.times(gasPrice);\n        const gasCost = gasCostWei.div(1e18);\n        return {\n          bal: gasCost.times(ethPrice).div(balPrice),\n          usd: gasCost.times(ethPrice)\n        };\n      }\n    });\n\n    const text = computed(() => {\n      const isEligible =\n        reimburseAmount.value && reimburseAmount.value.usd.gt(0);\n\n      return isEligible\n        ? `${t('tradeEarns')} ~${reimburseAmount.value.bal.toFixed(\n            1,\n            BigNumber.ROUND_DOWN\n          )} BAL (${formatUSD(reimburseAmount.value.usd)})`\n        : t('earnBAL');\n    });\n\n    function formatUSD(amount: BigNumber): string {\n      return `$${new BigNumber(amount).toFixed(2)}`;\n    }\n\n    function isActive(): boolean {\n      return appNetworkConfig.key === '1' && isBalForGasBudget.value;\n    }\n\n    // CALLBACKS\n    onBeforeMount(async () => {\n      isBalForGasBudget.value = await isBudgetLeft();\n    });\n\n    return {\n      text,\n      isActive,\n      EXTERNAL_LINKS\n    };\n  }\n});\n</script>\n\n<style scoped>\n.message {\n  @apply bg-gradient-to-tr from-blue-50 to-pink-50;\n  border-radius: 10px;\n}\n\n.message::before {\n  @apply absolute px-4 py-3 inset-0.5 text-2xl bg-white rounded-lg;\n  content: '🤝';\n}\n\n@media only screen and (max-width: 768px) {\n  .message {\n    width: initial;\n  }\n}\n</style>\n","const ENDPOINT_BUDGET_SPENT =\n  'https://api.balancer.finance/liquidity-mining/v1/gas/';\nconst BUDGET = 80000;\n\nexport async function isBudgetLeft(): Promise<boolean> {\n  const response = await fetch(ENDPOINT_BUDGET_SPENT);\n  const data = await response.json();\n  const budgetLeft = data.success ? data.result < BUDGET : false;\n  return budgetLeft;\n}\n","\nimport { PropType, defineComponent, computed, onBeforeMount, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { ETHER } from '@/constants/tokenlists';\nimport BigNumber from 'bignumber.js';\nimport { SorReturn } from '@/lib/utils/balancer/helpers/sor/sorManager';\nimport { isBudgetLeft } from '@/lib/utils/balancer/bal4gas';\nimport eligibleAssetList from '@balancer-labs/assets/lists/eligible.json';\nimport { useI18n } from 'vue-i18n';\nimport { EXTERNAL_LINKS } from '@/constants/links';\nimport { getOriginalAddress } from '@/services/coingecko';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport { TOKENS } from '@/constants/tokens';\n\nexport default defineComponent({\n  props: {\n    addressIn: {\n      type: String,\n      required: true\n    },\n    addressOut: {\n      type: String,\n      required: true\n    },\n    sorReturn: {\n      type: Object as PropType<SorReturn>,\n      required: true\n    }\n  },\n\n  setup(props) {\n    const store = useStore();\n    const { appNetworkConfig } = useVueWeb3();\n    const isBalForGasBudget = ref<boolean>(false);\n    const { t } = useI18n();\n\n    const eligibleAssetMeta = eligibleAssetList[appNetworkConfig.name] ?? {};\n    const eligibleAssets = Object.fromEntries(\n      Object.entries(eligibleAssetMeta).map(assetEntry => {\n        const [address] = assetEntry;\n        return [address.toLowerCase(), ''];\n      })\n    );\n\n    const reimburseAmount = computed(() => {\n      // If no swaps set costs to 0 so no price shown\n      if (!props.sorReturn.hasSwaps) {\n        return {\n          bal: new BigNumber(0),\n          usd: new BigNumber(0)\n        };\n      }\n\n      const ethPrice =\n        store.state.market.prices[ETHER.address.toLowerCase()]?.price || 0;\n      const balPrice =\n        store.state.market.prices[\n          getOriginalAddress(appNetworkConfig.chainId, TOKENS.AddressMap.HEDG)\n        ]?.price || 0;\n      const gasPrice = store.state.market.gasPrice || 0;\n\n      const addressInIsEligible =\n        props.addressIn === ETHER.address ||\n        props.addressIn.toLowerCase() in eligibleAssets;\n      const addressOutIsEligible =\n        props.addressOut === ETHER.address ||\n        props.addressOut.toLowerCase() in eligibleAssets;\n      const reimburseAllSwaps = addressInIsEligible && addressOutIsEligible;\n\n      if (props.sorReturn.isV1swap) {\n        let numSwaps = props.sorReturn.v1result[0].flat().length;\n        if (!reimburseAllSwaps) {\n          const eligibleSwaps = props.sorReturn.v1result[0]\n            .flat()\n            .filter(hop => {\n              return (\n                hop.tokenIn in eligibleAssets && hop.tokenOut in eligibleAssets\n              );\n            });\n\n          numSwaps = eligibleSwaps.length;\n        }\n        const gasLimit =\n          numSwaps === 1\n            ? 130000\n            : numSwaps === 2\n            ? 220000\n            : numSwaps === 3\n            ? 300000\n            : numSwaps >= 4\n            ? 400000\n            : 0;\n        const gasLimitNumber = new BigNumber(gasLimit);\n        const gasCostWei = gasLimitNumber.times(gasPrice);\n        const gasCost = gasCostWei.div(1e18);\n        return {\n          bal: gasCost.times(ethPrice).div(balPrice),\n          usd: gasCost.times(ethPrice)\n        };\n      } else {\n        let numSwaps = props.sorReturn.v2result.swaps.length;\n        if (!reimburseAllSwaps) {\n          const tokensList = props.sorReturn.v2result.tokenAddresses;\n          numSwaps = 0;\n          props.sorReturn.v2result.swaps.forEach(swap => {\n            if (\n              tokensList[swap.assetInIndex] in eligibleAssets &&\n              tokensList[swap.assetOutIndex] in eligibleAssets\n            )\n              numSwaps++;\n          });\n        }\n        const gasLimit =\n          numSwaps === 1\n            ? 90000\n            : numSwaps === 2\n            ? 140000\n            : numSwaps === 3\n            ? 140000\n            : numSwaps >= 4\n            ? 140000\n            : 0;\n        const gasLimitNumber = new BigNumber(gasLimit);\n        const gasCostWei = gasLimitNumber.times(gasPrice);\n        const gasCost = gasCostWei.div(1e18);\n        return {\n          bal: gasCost.times(ethPrice).div(balPrice),\n          usd: gasCost.times(ethPrice)\n        };\n      }\n    });\n\n    const text = computed(() => {\n      const isEligible =\n        reimburseAmount.value && reimburseAmount.value.usd.gt(0);\n\n      return isEligible\n        ? `${t('tradeEarns')} ~${reimburseAmount.value.bal.toFixed(\n            1,\n            BigNumber.ROUND_DOWN\n          )} BAL (${formatUSD(reimburseAmount.value.usd)})`\n        : t('earnBAL');\n    });\n\n    function formatUSD(amount: BigNumber): string {\n      return `$${new BigNumber(amount).toFixed(2)}`;\n    }\n\n    function isActive(): boolean {\n      return appNetworkConfig.key === '1' && isBalForGasBudget.value;\n    }\n\n    // CALLBACKS\n    onBeforeMount(async () => {\n      isBalForGasBudget.value = await isBudgetLeft();\n    });\n\n    return {\n      text,\n      isActive,\n      EXTERNAL_LINKS\n    };\n  }\n});\n","import { render } from \"./GasReimbursement.vue?vue&type=template&id=100594e1&scoped=true\"\nimport script from \"./GasReimbursement.vue?vue&type=script&lang=ts\"\nexport * from \"./GasReimbursement.vue?vue&type=script&lang=ts\"\n\nimport \"./GasReimbursement.vue?vue&type=style&index=0&id=100594e1&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-100594e1\"\n\nexport default script","\nimport { isRequired } from '@/lib/utils/validations';\nimport { ref, defineComponent, computed, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport { isAddress, getAddress } from '@ethersproject/address';\n\nimport useTokenApproval from '@/composables/trade/useTokenApproval';\nimport useValidation, {\n  TradeValidation\n} from '@/composables/trade/useValidation';\nimport useSor from '@/composables/trade/useSor';\nimport { ETHER } from '@/constants/tokenlists';\n\nimport SuccessOverlay from '@/components/cards/SuccessOverlay.vue';\nimport TradePair from '@/components/cards/TradeCard/TradePair.vue';\nimport TradePreviewModal from '@/components/modals/TradePreviewModal.vue';\nimport TradeRoute from '@/components/cards/TradeCard/TradeRoute.vue';\nimport TradeSettingsPopover, {\n  TradeSettingsContext\n} from '@/components/popovers/TradeSettingsPopover.vue';\nimport GasReimbursement from './GasReimbursement.vue';\nimport { useI18n } from 'vue-i18n';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useBreakpoints from '@/composables/useBreakpoints';\nimport useTokens from '@/composables/useTokens';\n\nexport default defineComponent({\n  components: {\n    SuccessOverlay,\n    TradePair,\n    TradePreviewModal,\n    TradeRoute,\n    TradeSettingsPopover,\n    GasReimbursement\n  },\n\n  setup() {\n    const highPiAccepted = ref(false);\n    const store = useStore();\n    const router = useRouter();\n    const { explorerLinks } = useVueWeb3();\n    const { t } = useI18n();\n    const { bp } = useBreakpoints();\n\n    const { tokens } = useTokens();\n    const { userNetworkConfig } = useVueWeb3();\n\n    const exactIn = ref(true);\n    const tokenInAddress = ref('');\n    const tokenInAmount = ref('');\n    const tokenOutAddress = ref('');\n    const tokenOutAmount = ref('');\n    const tradeSuccess = ref(false);\n    const txHash = ref('');\n    const modalTradePreviewIsOpen = ref(false);\n\n    const liquiditySelection = computed(() => store.state.app.tradeLiquidity);\n\n    const tradeCardShadow = computed(() => {\n      switch (bp.value) {\n        case 'xs':\n          return 'none';\n        case 'sm':\n          return 'lg';\n        default:\n          return 'xl';\n      }\n    });\n\n    const isWrap = computed(() => {\n      const config = userNetworkConfig.value;\n      return (\n        tokenInAddress.value === ETHER.address &&\n        tokenOutAddress.value === config.addresses.weth\n      );\n    });\n\n    const isUnwrap = computed(() => {\n      const config = userNetworkConfig.value;\n      return (\n        tokenOutAddress.value === ETHER.address &&\n        tokenInAddress.value === config.addresses.weth\n      );\n    });\n\n    const isHighPriceImpact = computed(() => {\n      return priceImpact.value >= 0.05 && !highPiAccepted.value;\n    });\n\n    const tradeDisabled = computed(() => {\n      if (errorMessage.value !== TradeValidation.VALID) return true;\n      if (isHighPriceImpact.value) return true;\n      return false;\n    });\n\n    // COMPOSABLES\n    const { isLoading: isLoadingApprovals } = useTokenApproval(\n      tokenInAddress,\n      tokenInAmount,\n      tokens\n    );\n    const {\n      trading,\n      trade,\n      initSor,\n      handleAmountChange,\n      priceImpact,\n      sorReturn,\n      latestTxHash,\n      pools,\n      fetchPools,\n      poolsLoading\n    } = useSor({\n      exactIn,\n      tokenInAddressInput: tokenInAddress,\n      tokenInAmountInput: tokenInAmount,\n      tokenOutAddressInput: tokenOutAddress,\n      tokenOutAmountInput: tokenOutAmount,\n      tokens,\n      isWrap,\n      isUnwrap\n    });\n    const { errorMessage } = useValidation(\n      tokenInAddress,\n      tokenInAmount,\n      tokenOutAddress,\n      tokenOutAmount,\n      tokens\n    );\n\n    const title = computed(() => {\n      if (isWrap.value) return t('wrap');\n      if (isUnwrap.value) return t('unwrap');\n      return t('trade');\n    });\n\n    const error = computed(() => {\n      if (isHighPriceImpact.value) {\n        return {\n          header: t('highPriceImpact'),\n          body: t('highPriceImpactDetailed'),\n          label: t('accept')\n        };\n      }\n      switch (errorMessage.value) {\n        case TradeValidation.NO_ETHER:\n          return {\n            header: t('noEth'),\n            body: t('noEthDetailed')\n          };\n        case TradeValidation.NO_BALANCE:\n          return {\n            header: t('insufficientBalance'),\n            body: t('insufficientBalanceDetailed')\n          };\n        case TradeValidation.NO_LIQUIDITY:\n          return {\n            header: t('insufficientLiquidity'),\n            body: t('insufficientLiquidityDetailed')\n          };\n        default:\n          return undefined;\n      }\n    });\n\n    function handleErrorButtonClick() {\n      if (isHighPriceImpact.value) {\n        highPiAccepted.value = true;\n      }\n    }\n\n    async function populateInitialTokens(): Promise<void> {\n      let assetIn = router.currentRoute.value.params.assetIn as string;\n      if (assetIn === ETHER.deeplinkId) assetIn = ETHER.address;\n      else if (isAddress(assetIn)) assetIn = getAddress(assetIn);\n      let assetOut = router.currentRoute.value.params.assetOut as string;\n      if (assetOut === ETHER.deeplinkId) assetOut = ETHER.address;\n      else if (isAddress(assetOut)) assetOut = getAddress(assetOut);\n\n      tokenInAddress.value = assetIn || store.state.trade.inputAsset;\n      tokenOutAddress.value = assetOut || store.state.trade.outputAsset;\n    }\n\n    function showTradePreviewModal() {\n      modalTradePreviewIsOpen.value = true;\n    }\n\n    watch(userNetworkConfig, async () => {\n      await initSor();\n      await handleAmountChange();\n    });\n\n    watch(tokenInAddress, () => {\n      store.commit('trade/setInputAsset', tokenInAddress.value);\n      handleAmountChange();\n    });\n\n    watch(tokenOutAddress, () => {\n      store.commit('trade/setOutputAsset', tokenOutAddress.value);\n      handleAmountChange();\n    });\n\n    watch(liquiditySelection, () => {\n      // When the liquidity type is changed we need to update the trade to use that selection\n      handleAmountChange();\n    });\n\n    watch(latestTxHash, () => {\n      // Refresh SOR pools\n      fetchPools();\n      txHash.value = latestTxHash.value;\n      tradeSuccess.value = true;\n      modalTradePreviewIsOpen.value = false;\n    });\n\n    populateInitialTokens();\n\n    return {\n      highPiAccepted,\n      title,\n      error,\n      handleErrorButtonClick,\n      tokenInAddress,\n      tokenInAmount,\n      tokenOutAddress,\n      tokenOutAmount,\n      exactIn,\n      handleAmountChange,\n      errorMessage,\n      sorReturn,\n      pools,\n      trading,\n      trade,\n      txHash,\n      modalTradePreviewIsOpen,\n      tradeSuccess,\n      priceImpact,\n      isRequired,\n      tradeDisabled,\n      TradeSettingsContext,\n      poolsLoading,\n      showTradePreviewModal,\n      isLoadingApprovals,\n      bp,\n      tradeCardShadow,\n      explorer: explorerLinks\n    };\n  }\n});\n","import { render } from \"./TradeCard.vue?vue&type=template&id=7be5ec9d\"\nimport script from \"./TradeCard.vue?vue&type=script&lang=ts\"\nexport * from \"./TradeCard.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <BalCard class=\"relative\" :shadow=\"tradeCardShadow\" no-border>\n    <template v-slot:header>\n      <div class=\"w-full flex items-center justify-between\">\n        <h4 class=\"font-bold\">{{ title }}</h4>\n        <TradeSettingsPopover :context=\"TradeSettingsContext.trade\" />\n      </div>\n    </template>\n    <div>\n      <TradePairGP\n        :token-in-amount-input=\"tokenInAmount\"\n        :token-in-address-input=\"tokenInAddress\"\n        :token-out-amount-input=\"tokenOutAmount\"\n        :token-out-address-input=\"tokenOutAddress\"\n        :exact-in=\"exactIn\"\n        :effective-price-message=\"trading.effectivePriceMessage\"\n        @token-in-amount-change=\"value => (tokenInAmount = value)\"\n        @token-in-address-change=\"value => (tokenInAddress = value)\"\n        @token-out-amount-change=\"value => (tokenOutAmount = value)\"\n        @token-out-address-change=\"value => (tokenOutAddress = value)\"\n        @exact-in-change=\"value => (exactIn = value)\"\n        @change=\"trading.handleAmountChange\"\n      />\n      <BalAlert\n        v-if=\"error\"\n        class=\"p-3 mb-4\"\n        type=\"error\"\n        size=\"sm\"\n        :title=\"error.header\"\n        :description=\"error.body\"\n        :action-label=\"error.label\"\n        block\n        @actionClick=\"handleErrorButtonClick\"\n      />\n      <BalBtn\n        v-if=\"trading.isLoading.value\"\n        :loading=\"true\"\n        :loading-label=\"\n          trading.isGnosisTrade.value ? $t('loadingBestPrice') : $t('loading')\n        \"\n        block\n      />\n      <BalBtn\n        v-else\n        :label=\"$t('preview')\"\n        :disabled=\"tradeDisabled\"\n        :loading-label=\"$t('confirming')\"\n        color=\"gradient\"\n        block\n        @click.prevent=\"modalTradePreviewIsOpen = true\"\n      />\n      <div\n        class=\"mt-6 bg-gray-50 rounded text-sm p-3 grid gap-2 grid-flow-col text-gray-600\"\n        v-if=\"trading.isBalancerTrade.value && !trading.isWrapOrUnwrap.value\"\n      >\n        <LightBulbIcon />\n        <!-- TODO: translate -->\n        <span\n          >Trades from ETH route through Balancer liquidity pools and incur gas\n          fees.\n          <router-link\n            :to=\"{\n              name: 'trade',\n              params: {\n                assetIn: TOKENS.AddressMap.WETH,\n                assetOut: trading.tokenOut.value.address\n              }\n            }\"\n            class=\"text-blue-500\"\n          >\n            Trade from WETH\n          </router-link>\n          to avoid gas.\n        </span>\n      </div>\n    </div>\n  </BalCard>\n  <teleport to=\"#modal\">\n    <TradePreviewModalGP\n      v-if=\"modalTradePreviewIsOpen\"\n      :trading=\"trading\"\n      @trade=\"trade\"\n      @close=\"modalTradePreviewIsOpen = false\"\n    />\n  </teleport>\n</template>\n\n<script lang=\"ts\">\nimport { ref, defineComponent, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\n\nimport { useI18n } from 'vue-i18n';\nimport { isAddress, getAddress } from '@ethersproject/address';\nimport useValidation, {\n  TradeValidation\n} from '@/composables/trade/useValidation';\nimport useTrading from '@/composables/trade/useTrading';\nimport useTokenApprovalGP from '@/composables/trade/useTokenApprovalGP';\nimport useBreakpoints from '@/composables/useBreakpoints';\n\nimport { ETHER } from '@/constants/tokenlists';\nimport { TOKENS } from '@/constants/tokens';\n\nimport { isRequired } from '@/lib/utils/validations';\n\nimport TradePreviewModalGP from '@/components/modals/TradePreviewModalGP.vue';\nimport TradeSettingsPopover, {\n  TradeSettingsContext\n} from '@/components/popovers/TradeSettingsPopover.vue';\n\nimport TradePairGP from './TradePairGP.vue';\n\nexport default defineComponent({\n  components: {\n    TradePairGP,\n    TradePreviewModalGP,\n    TradeSettingsPopover\n  },\n\n  setup() {\n    // COMPOSABLES\n    const store = useStore();\n    const router = useRouter();\n    const { t } = useI18n();\n    const { bp } = useBreakpoints();\n\n    // DATA\n    const exactIn = ref(true);\n    const tokenInAddress = ref('');\n    const tokenInAmount = ref('');\n    const tokenOutAddress = ref('');\n    const tokenOutAmount = ref('');\n    const modalTradePreviewIsOpen = ref(false);\n\n    const tradeCardShadow = computed(() => {\n      switch (bp.value) {\n        case 'xs':\n          return 'none';\n        case 'sm':\n          return 'lg';\n        default:\n          return 'xl';\n      }\n    });\n\n    const trading = useTrading(\n      exactIn,\n      tokenInAddress,\n      tokenInAmount,\n      tokenOutAddress,\n      tokenOutAmount\n    );\n\n    // COMPUTED\n    const { errorMessage } = useValidation(\n      tokenInAddress,\n      tokenInAmount,\n      tokenOutAddress,\n      tokenOutAmount,\n      trading.tokens\n    );\n\n    const tradeDisabled = computed(\n      () =>\n        errorMessage.value !== TradeValidation.VALID ||\n        (trading.isGnosisTrade.value && trading.gnosis.hasErrors.value)\n    );\n\n    useTokenApprovalGP(tokenInAddress, tokenInAmount);\n\n    const title = computed(() => {\n      if (trading.isWrap.value) {\n        return `${t('wrap')} ${ETHER.symbol}`;\n      }\n      if (trading.isUnwrap.value) {\n        return `${t('unwrap')} ${ETHER.symbol}`;\n      }\n      return t('trade');\n    });\n\n    const error = computed(() => {\n      if (trading.gnosis.errors.value.feeExceedsPrice) {\n        return {\n          header: 'Low amount',\n          body: 'Fees exceeds from amount'\n        };\n      }\n      switch (errorMessage.value) {\n        case TradeValidation.NO_ETHER:\n          return {\n            header: t('noEth'),\n            body: t('noEthDetailed')\n          };\n        case TradeValidation.NO_BALANCE:\n          return {\n            header: t('insufficientBalance'),\n            body: t('insufficientBalanceDetailed')\n          };\n        case TradeValidation.NO_LIQUIDITY:\n          return {\n            header: t('insufficientLiquidity'),\n            body: t('insufficientLiquidityDetailed')\n          };\n        default:\n          return undefined;\n      }\n    });\n\n    // METHODS\n    function handleErrorButtonClick() {\n      console.log('TOOD: implement if needed');\n    }\n\n    function trade() {\n      trading.trade(() => {\n        modalTradePreviewIsOpen.value = false;\n      });\n    }\n\n    async function populateInitialTokens(): Promise<void> {\n      let assetIn = router.currentRoute.value.params.assetIn as string;\n\n      if (assetIn === ETHER.deeplinkId) {\n        assetIn = ETHER.address;\n      } else if (isAddress(assetIn)) {\n        assetIn = getAddress(assetIn);\n      }\n\n      let assetOut = router.currentRoute.value.params.assetOut as string;\n\n      if (assetOut === ETHER.deeplinkId) {\n        assetOut = ETHER.address;\n      } else if (isAddress(assetOut)) {\n        assetOut = getAddress(assetOut);\n      }\n\n      tokenInAddress.value = assetIn || store.state.trade.inputAsset;\n      tokenOutAddress.value = assetOut || store.state.trade.outputAsset;\n    }\n\n    // INIT\n    populateInitialTokens();\n\n    return {\n      // constants\n      TOKENS,\n      // context\n      TradeSettingsContext,\n\n      // data\n      tokenInAddress,\n      tokenInAmount,\n      tokenOutAddress,\n      tokenOutAmount,\n      modalTradePreviewIsOpen,\n      exactIn,\n      trading,\n\n      // computed\n      title,\n      error,\n      errorMessage,\n      isRequired,\n      tradeDisabled,\n      tradeCardShadow,\n\n      // methods\n      handleErrorButtonClick,\n      trade\n    };\n  }\n});\n</script>\n","export type NetworkId = 1 | 3 | 4 | 5 | 42 | 137;\n\nexport enum Network {\n  MAINNET = 1,\n  ROPSTEN = 3,\n  RINKEBY = 4,\n  GÖRLI = 5,\n  KOVAN = 42,\n  POLYGON = 137\n}\n\nexport const APP_NETWORK_ID = Number(process.env.VUE_APP_NETWORK) as NetworkId;\n","import { APP_NETWORK_ID } from '@/constants/network';\nimport { ETHER } from '@/constants/tokenlists';\nimport configs from '@/lib/config';\nimport { OrderMetaData } from './types';\n\nexport function normalizeTokenAddress(tokenAddress: string) {\n  if (tokenAddress.toLowerCase() === ETHER.address.toLowerCase()) {\n    return configs[APP_NETWORK_ID].addresses.weth;\n  }\n\n  return tokenAddress;\n}\n\nexport function getMarket(sellToken: string, buyToken: string, kind: string) {\n  let baseToken = buyToken;\n  let quoteToken = sellToken;\n\n  if (kind === 'sell') {\n    baseToken = sellToken;\n    quoteToken = buyToken;\n  }\n\n  return `${normalizeTokenAddress(baseToken)}-${normalizeTokenAddress(\n    quoteToken\n  )}`;\n}\n\nexport function isOrderFinalized(orderFromApi: OrderMetaData | null): boolean {\n  return (\n    orderFromApi !== null &&\n    Number(orderFromApi.executedBuyAmount) > 0 &&\n    Number(orderFromApi.executedSellAmount) > 0\n  );\n}\n","const ENV = process.env.VUE_APP_ENV || 'development';\n\nconst IS_DEV = ENV === 'development';\nconst IS_STAGING = ENV === 'staging';\nconst IS_PROD = ENV === 'production';\n\nexport { IS_DEV, IS_PROD, IS_STAGING, ENV };\n","import { IS_DEV } from '@/constants/env';\nimport { APP_NETWORK_ID, Network } from '@/constants/network';\nimport {\n  GPv2Settlement,\n  GPv2AllowanceManager\n} from '@gnosis.pm/gp-v2-contracts/networks.json';\n\nexport const OPERATOR_URLS = {\n  [Network.MAINNET]: IS_DEV\n    ? 'https://protocol-mainnet.dev.gnosisdev.com/api'\n    : 'https://protocol-mainnet.gnosis.io/api',\n  [Network.RINKEBY]: IS_DEV\n    ? 'https://protocol-rinkeby.dev.gnosisdev.com/api'\n    : 'https://protocol-rinkeby.gnosis.io/api'\n};\n\nexport const OPERATOR_URL =\n  OPERATOR_URLS[APP_NETWORK_ID] ?? OPERATOR_URLS[Network.MAINNET];\n\nexport const GP_SETTLEMENT_CONTRACT_ADDRESS: string = (\n  GPv2Settlement[APP_NETWORK_ID] ?? GPv2Settlement[Network.MAINNET]\n).address;\n\nexport const GP_ALLOWANCE_MANAGER_CONTRACT_ADDRESS: string = (\n  GPv2AllowanceManager[APP_NETWORK_ID] ?? GPv2AllowanceManager[Network.MAINNET]\n).address;\n","import { APP_NETWORK_ID } from '@/constants/network';\nimport { Signer } from '@ethersproject/abstract-signer';\nimport { BigNumber } from '@ethersproject/bignumber';\n\nimport {\n  domain as domainGp,\n  signOrder as signOrderGp,\n  Order,\n  EcdsaSigningScheme,\n  Signature,\n  SigningScheme,\n  EcdsaSignature,\n  TypedDataV3Signer\n} from '@gnosis.pm/gp-v2-contracts';\n\nimport { GP_SETTLEMENT_CONTRACT_ADDRESS } from './constants';\n\n// For error codes, see:\n// - https://eth.wiki/json-rpc/json-rpc-error-codes-improvement-proposal\n// - https://www.jsonrpc.org/specification#error_object\nconst METAMASK_SIGNATURE_ERROR_CODE = -32603;\nconst METHOD_NOT_FOUND_ERROR_CODE = -32601;\nconst V4_ERROR_MSG_REGEX = /eth_signTypedData_v4 does not exist/i;\nconst V3_ERROR_MSG_REGEX = /eth_signTypedData_v3 does not exist/i;\nconst RPC_REQUEST_FAILED_REGEX = /RPC request failed/i;\nconst MAX_VALID_TO_EPOCH = BigNumber.from('0xFFFFFFFF').toNumber(); // Max uint32 (Feb 07 2106 07:28:15 GMT+0100)\n\nexport type UnsignedOrder = Omit<Order, 'receiver'> & { receiver: string };\n\nexport interface SignOrderParams {\n  signer: Signer;\n  order: UnsignedOrder;\n  signingScheme: EcdsaSigningScheme;\n}\n\n// posted to /api/v1/orders on Order creation\n// serializable, so no BigNumbers\n//  See https://protocol-rinkeby.dev.gnosisdev.com/api/\nexport interface OrderCreation extends UnsignedOrder {\n  signature: string; // 65 bytes encoded as hex without `0x` prefix. v + r + s from the spec\n  signingScheme: EcdsaSigningScheme; // value of\n}\n\ninterface SchemaInfo {\n  libraryValue: number;\n  apiValue: string;\n}\nconst mapSigningSchema: Map<SigningScheme, SchemaInfo> = new Map([\n  [SigningScheme.EIP712, { libraryValue: 0, apiValue: 'eip712' }],\n  [SigningScheme.ETHSIGN, { libraryValue: 1, apiValue: 'ethsign' }]\n]);\n\nfunction _getSigningSchemeInfo(\n  ecdaSigningScheme: EcdsaSigningScheme\n): SchemaInfo {\n  const value = mapSigningSchema.get(ecdaSigningScheme);\n  if (value === undefined) {\n    throw new Error('Unknown schema ' + ecdaSigningScheme);\n  }\n\n  return value;\n}\n\nexport function getSigningSchemeApiValue(\n  ecdaSigningScheme: EcdsaSigningScheme\n) {\n  return _getSigningSchemeInfo(ecdaSigningScheme).apiValue;\n}\n\nexport function getSigningSchemeLibValue(\n  ecdaSigningScheme: EcdsaSigningScheme\n) {\n  return _getSigningSchemeInfo(ecdaSigningScheme).libraryValue;\n}\n\nasync function _signOrder(params: SignOrderParams): Promise<Signature> {\n  const { signer, order, signingScheme } = params;\n\n  const domain = domainGp(APP_NETWORK_ID, GP_SETTLEMENT_CONTRACT_ADDRESS);\n  console.log('[Gnosis Signing] signOrder', {\n    domain,\n    order,\n    signer\n  });\n\n  return signOrderGp(\n    domain,\n    order,\n    // @ts-ignore\n    signer,\n    getSigningSchemeLibValue(signingScheme)\n  );\n}\n\nexport async function signOrder(\n  unsignedOrder: UnsignedOrder,\n  signer: Signer,\n  signingMethod: 'v4' | 'v3' | 'eth_sign' = 'v4'\n): Promise<{ signature: string; signingScheme: EcdsaSigningScheme }> {\n  const signingScheme =\n    signingMethod === 'eth_sign' ? SigningScheme.ETHSIGN : SigningScheme.EIP712;\n  let signature: Signature | null = null;\n\n  let _signer = signer;\n  try {\n    // @ts-ignore\n    _signer = signingMethod === 'v3' ? new TypedDataV3Signer(signer) : signer;\n  } catch (e) {\n    console.error('Wallet not supported:', e);\n    throw new Error('Wallet not supported');\n  }\n\n  const signatureParams: SignOrderParams = {\n    signer: _signer,\n    order: unsignedOrder,\n    signingScheme\n  };\n\n  try {\n    signature = (await _signOrder(signatureParams)) as EcdsaSignature; // Only ECDSA signing supported for now\n  } catch (e) {\n    if (\n      e.code === METHOD_NOT_FOUND_ERROR_CODE ||\n      RPC_REQUEST_FAILED_REGEX.test(e.message)\n    ) {\n      // Maybe the wallet returns the proper error code? We can only hope 🤞\n      // OR it failed with a generic message, there's no error code set, and we also hope it'll work\n      // with other methods...\n      switch (signingMethod) {\n        case 'v4':\n          return signOrder(unsignedOrder, signer, 'v3');\n        case 'v3':\n          return signOrder(unsignedOrder, signer, 'eth_sign');\n        default:\n          throw e;\n      }\n    } else if (e.code === METAMASK_SIGNATURE_ERROR_CODE) {\n      // We tried to sign order the nice way.\n      // That works fine for regular MM addresses. Does not work for Hardware wallets, though.\n      // See https://github.com/MetaMask/metamask-extension/issues/10240#issuecomment-810552020\n      // So, when that specific error occurs, we know this is a problem with MM + HW.\n      // Then, we fallback to ETHSIGN.\n      return signOrder(unsignedOrder, signer, 'eth_sign');\n    } else if (V4_ERROR_MSG_REGEX.test(e.message)) {\n      // Failed with `v4`, and the wallet does not set the proper error code\n      return signOrder(unsignedOrder, signer, 'v3');\n    } else if (V3_ERROR_MSG_REGEX.test(e.message)) {\n      // Failed with `v3`, and the wallet does not set the proper error code\n      return signOrder(unsignedOrder, signer, 'eth_sign');\n    } else {\n      // Some other error signing. Let it bubble up.\n      console.error(e);\n      throw e;\n    }\n  }\n  return { signature: signature.data.toString(), signingScheme };\n}\n\nexport function calculateValidTo(deadlineInMinutes: number): number {\n  const now = Date.now() / 1000;\n  const validTo = Math.floor(deadlineInMinutes * 60 + now);\n\n  return Math.min(validTo, MAX_VALID_TO_EPOCH);\n}\n","// Conforms to backend API\n\nimport { AxiosResponse } from 'axios';\n\n// https://github.com/gnosis/gp-v2-services/blob/0bd5f7743bebaa5acd3be13e35ede2326a096f14/orderbook/openapi.yml#L562\nexport enum ApiErrorCodes {\n  DuplicateOrder = 'DuplicateOrder',\n  InvalidSignature = 'InvalidSignature',\n  MissingOrderData = 'MissingOrderData',\n  InsufficientValidTo = 'InsufficientValidTo',\n  InsufficientFunds = 'InsufficientFunds',\n  InsufficientFee = 'InsufficientFee',\n  UnsupportedToken = 'UnsupportedToken',\n  WrongOwner = 'WrongOwner'\n}\n\nexport interface ApiError {\n  errorType: ApiErrorCodes;\n  description: string;\n}\n\nconst API_ERROR_CODE_DESCRIPTIONS = {\n  [ApiErrorCodes.DuplicateOrder]:\n    'There was another identical order already submitted. Please try again.',\n  [ApiErrorCodes.InsufficientFee]:\n    \"The signed fee is insufficient. It's possible that is higher now due to a change in the gas price, ether price, or the sell token price. Please try again to get an updated fee quote.\",\n  [ApiErrorCodes.InvalidSignature]:\n    'The order signature is invalid. Check whether your Wallet app supports off-chain signing.',\n  [ApiErrorCodes.MissingOrderData]: 'The order has missing information',\n  [ApiErrorCodes.InsufficientValidTo]:\n    'The order you are signing is already expired. This can happen if you set a short expiration in the settings and waited too long before signing the transaction. Please try again.',\n  [ApiErrorCodes.InsufficientFunds]: \"The account doesn't have enough funds\",\n  [ApiErrorCodes.UnsupportedToken]:\n    'One of the tokens you are trading is unsupported. Please read the FAQ for more info.',\n  [ApiErrorCodes.WrongOwner]:\n    \"The signature is invalid.\\n\\nIt's likely that the signing method provided by your wallet doesn't comply with the standards required by CowSwap.\\n\\nCheck whether your Wallet app supports off-chain signing (EIP-712 or ETHSIGN).\",\n  UNHANDLED_ERROR: 'The order was not accepted by the network'\n};\n\nexport default class OperatorError extends Error {\n  name = 'OperatorError';\n  type: ApiErrorCodes;\n  description: ApiError['description'];\n\n  // Status 400 errors\n  // https://github.com/gnosis/gp-v2-services/blob/9014ae55412a356e46343e051aefeb683cc69c41/orderbook/openapi.yml#L563\n  static apiErrorDetails = API_ERROR_CODE_DESCRIPTIONS;\n\n  static getErrorMessage(response: AxiosResponse) {\n    try {\n      const orderPostError: ApiError = response.data;\n\n      if (orderPostError.errorType) {\n        return OperatorError.apiErrorDetails[orderPostError.errorType];\n      } else {\n        console.error(\n          'Unknown reason for bad order submission',\n          orderPostError\n        );\n        return orderPostError.description;\n      }\n    } catch (error) {\n      console.error(\n        'Error handling a 400 error. Likely a problem deserialising the JSON response'\n      );\n      return OperatorError.apiErrorDetails.UNHANDLED_ERROR;\n    }\n  }\n  static getErrorForUnsuccessfulPostOrder(response: AxiosResponse) {\n    switch (response.status) {\n      case 400:\n        return this.getErrorMessage(response);\n\n      case 403:\n        return 'The order cannot be accepted. Your account is deny-listed.';\n\n      case 429:\n        return 'The order cannot be accepted. Too many order placements. Please, retry in a minute';\n\n      case 500:\n      default:\n        return 'Error adding an order';\n    }\n  }\n  constructor(apiError: ApiError) {\n    super(apiError.description);\n\n    this.type = apiError.errorType;\n    this.description = apiError.description;\n    this.message = OperatorError.apiErrorDetails[apiError.errorType];\n  }\n}\n","import axios from 'axios';\n\nimport { OPERATOR_URL } from './constants';\nimport OperatorError from './error';\nimport { getSigningSchemeApiValue, OrderCreation } from './signing';\nimport {\n  FeeInformation,\n  FeeQuoteParams,\n  OrderID,\n  OrderMetaData,\n  PriceInformation,\n  PriceQuoteParams\n} from './types';\nimport { getMarket, normalizeTokenAddress } from './utils';\n\nexport default class GnosisOperatorService {\n  baseURL: string;\n\n  constructor(apiVersion = 'v1') {\n    this.baseURL = `${OPERATOR_URL}/${apiVersion}`;\n  }\n\n  public async postSignedOrder(params: {\n    order: OrderCreation;\n    owner: string;\n  }) {\n    const { order, owner } = params;\n\n    // Call API\n    const response = await axios.post<OrderID>(\n      `${this.baseURL}/orders`,\n      {\n        ...order,\n        signingScheme: getSigningSchemeApiValue(order.signingScheme),\n        from: owner\n      },\n      {\n        validateStatus: () => true\n      }\n    );\n\n    if (response.status >= 200 && response.status < 300) {\n      return response.data as OrderID;\n    }\n\n    const errorMessage = OperatorError.getErrorForUnsuccessfulPostOrder(\n      response\n    );\n\n    throw new Error(errorMessage);\n  }\n\n  public async getOrder(orderId: OrderID) {\n    try {\n      const response = await axios.get<OrderMetaData>(\n        `${this.baseURL}/orders/${orderId}`\n      );\n      return response.data;\n    } catch (e) {\n      console.log(`[Gnosis Operator]: Failed to get order ${orderId}`, e);\n    }\n\n    return null;\n  }\n\n  public async getFeeQuote(params: FeeQuoteParams) {\n    try {\n      const { amount, kind } = params;\n\n      const sellToken = normalizeTokenAddress(params.sellToken);\n      const buyToken = normalizeTokenAddress(params.buyToken);\n\n      const response = await axios.get<FeeInformation>(\n        `${this.baseURL}/fee?sellToken=${sellToken}&buyToken=${buyToken}&amount=${amount}&kind=${kind}`\n      );\n      return response.data;\n    } catch (e) {\n      console.log(`[Gnosis Operator]: Failed to get fee from API`, e);\n    }\n\n    return null;\n  }\n\n  public async getPriceQuote(params: PriceQuoteParams) {\n    try {\n      const { amount, sellToken, buyToken, kind } = params;\n\n      const market = getMarket(sellToken, buyToken, kind);\n\n      const response = await axios.get<PriceInformation>(\n        `${this.baseURL}/markets/${market}/${kind}/${amount}`\n      );\n      return response.data;\n    } catch (e) {\n      console.log(`[Gnosis Operator]: Failed to get price from API`, e);\n    }\n\n    return null;\n  }\n}\n\nexport const gnosisOperator = new GnosisOperatorService();\n","import { computed, ComputedRef, ref, Ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { BigNumber } from 'bignumber.js';\nimport { formatUnits } from '@ethersproject/units';\nimport { OrderKind } from '@gnosis.pm/gp-v2-contracts';\n\nimport { bnum } from '@/lib/utils';\n\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport { FeeInformation } from '@/services/gnosis/types';\nimport { normalizeTokenAddress } from '@/services/gnosis/utils';\nimport {\n  calculateValidTo,\n  signOrder,\n  UnsignedOrder\n} from '@/services/gnosis/signing';\nimport { gnosisOperator } from '@/services/gnosis/operator.service';\nimport { Token } from '@/types';\nimport { TradeQuote } from './types';\n\n// TODO: get correct app id\nconst GNOSIS_APP_ID = 2;\nconst appData = '0x' + GNOSIS_APP_ID.toString(16).padStart(64, '0');\n\ntype Props = {\n  exactIn: Ref<boolean>;\n  tokenInAddressInput: Ref<string>;\n  tokenInAmountInput: Ref<string>;\n  tokenOutAddressInput: Ref<string>;\n  tokenOutAmountInput: Ref<string>;\n  tokenInAmountScaled: ComputedRef<BigNumber>;\n  tokenOutAmountScaled: ComputedRef<BigNumber>;\n  tokenIn: ComputedRef<Token>;\n  tokenOut: ComputedRef<Token>;\n};\n\nexport default function useGnosis({\n  exactIn,\n  tokenInAddressInput,\n  tokenInAmountInput,\n  tokenOutAddressInput,\n  tokenOutAmountInput,\n  tokenInAmountScaled,\n  tokenOutAmountScaled,\n  tokenIn,\n  tokenOut\n}: Props) {\n  // COMPOSABLES\n  const store = useStore();\n  const { account, getSigner } = useVueWeb3();\n\n  // DATA\n  const feeQuote = ref<FeeInformation | null>(null);\n  const errors = ref({\n    feeExceedsPrice: false\n  });\n  const updatingQuotes = ref(false);\n  const trading = ref(false);\n\n  const slippageBufferRate = computed(() =>\n    parseFloat(store.state.app.slippage)\n  );\n\n  // COMPUTED\n  const appTransactionDeadline = computed<number>(\n    () => store.state.app.transactionDeadline\n  );\n\n  const hasErrors = computed(() =>\n    Object.values(errors.value).some(hasError => hasError)\n  );\n\n  // METHODS\n  function resetErrors() {\n    errors.value = {\n      feeExceedsPrice: false\n    };\n  }\n\n  function resetFees() {\n    feeQuote.value = null;\n  }\n\n  function getQuote(): TradeQuote {\n    const feeAmountInToken = feeQuote.value?.amount ?? '0';\n    const feeAmountOutToken = tokenOutAmountScaled.value\n      .div(tokenInAmountScaled.value)\n      .times(feeAmountInToken)\n      .integerValue(BigNumber.ROUND_DOWN)\n      .toString();\n\n    const maximumInAmount = tokenInAmountScaled.value\n      .plus(feeAmountInToken)\n      .times(1 + slippageBufferRate.value)\n      .integerValue(BigNumber.ROUND_DOWN)\n      .toString();\n\n    const minimumOutAmount = tokenOutAmountScaled.value\n      .minus(feeAmountOutToken)\n      .div(1 + slippageBufferRate.value)\n      .integerValue(BigNumber.ROUND_DOWN)\n      .toString();\n\n    return {\n      feeAmountInToken,\n      feeAmountOutToken,\n      maximumInAmount,\n      minimumOutAmount\n    };\n  }\n\n  async function trade(successCallback?: () => void) {\n    try {\n      trading.value = true;\n      const quote = getQuote();\n\n      const unsignedOrder: UnsignedOrder = {\n        sellToken: normalizeTokenAddress(tokenInAddressInput.value),\n        buyToken: normalizeTokenAddress(tokenOutAddressInput.value),\n        sellAmount: bnum(\n          exactIn.value ? tokenInAmountScaled.value : quote.maximumInAmount\n        )\n          .minus(quote.feeAmountInToken)\n          .toString(),\n        buyAmount: exactIn.value\n          ? quote.minimumOutAmount\n          : tokenOutAmountScaled.value.toString(),\n        validTo: calculateValidTo(appTransactionDeadline.value),\n        appData,\n        feeAmount: quote.feeAmountInToken,\n        kind: exactIn.value ? OrderKind.SELL : OrderKind.BUY,\n        receiver: account.value,\n        partiallyFillable: false // Always fill or kill\n      };\n\n      const { signature, signingScheme } = await signOrder(\n        unsignedOrder,\n        getSigner()\n      );\n\n      const orderId = await gnosisOperator.postSignedOrder({\n        order: {\n          ...unsignedOrder,\n          signature,\n          receiver: account.value,\n          signingScheme\n        },\n        owner: account.value\n      });\n      console.log(orderId);\n      if (successCallback != null) {\n        successCallback();\n      }\n      trading.value = false;\n    } catch (e) {\n      console.log(e);\n      trading.value = false;\n    }\n  }\n\n  async function handleAmountChange() {\n    const amountToExchange = exactIn.value\n      ? tokenInAmountScaled.value\n      : tokenOutAmountScaled.value;\n\n    if (amountToExchange.isZero()) {\n      tokenInAmountInput.value = '0';\n      tokenOutAmountInput.value = '0';\n      return;\n    }\n\n    if (amountToExchange.isNaN()) {\n      tokenInAmountInput.value = '';\n      tokenOutAmountInput.value = '';\n      return;\n    }\n\n    resetErrors();\n    updatingQuotes.value = true;\n\n    try {\n      const queryParams = {\n        sellToken: tokenInAddressInput.value,\n        buyToken: tokenOutAddressInput.value,\n        amount: amountToExchange.toString(),\n        kind: exactIn.value ? OrderKind.SELL : OrderKind.BUY\n      };\n\n      // TODO: there is a chance to optimize here and not make a new request if the fee is not expired\n      const feeQuoteResult = await gnosisOperator.getFeeQuote(queryParams);\n\n      if (feeQuoteResult != null) {\n        if (exactIn.value) {\n          errors.value.feeExceedsPrice = amountToExchange\n            .minus(feeQuoteResult.amount)\n            .isNegative();\n        }\n        if (!errors.value.feeExceedsPrice) {\n          const priceQuoteResult = await gnosisOperator.getPriceQuote(\n            queryParams\n          );\n\n          if (priceQuoteResult != null && priceQuoteResult.amount != null) {\n            feeQuote.value = feeQuoteResult;\n\n            if (exactIn.value) {\n              tokenOutAmountInput.value = formatUnits(\n                priceQuoteResult.amount,\n                tokenOut.value.decimals\n              );\n            } else {\n              tokenInAmountInput.value = formatUnits(\n                priceQuoteResult.amount,\n                tokenIn.value.decimals\n              );\n            }\n          }\n        }\n      }\n    } catch (e) {\n      console.log('[Gnosis Quotes] Failed to update quotes', e);\n    }\n    updatingQuotes.value = false;\n  }\n\n  return {\n    // methods\n    trade,\n    handleAmountChange,\n    resetErrors,\n    resetFees,\n\n    // computed\n    feeQuote,\n    updatingQuotes,\n    errors,\n    hasErrors,\n    trading,\n    getQuote\n  };\n}\n","import { computed, Ref, watch } from 'vue';\nimport { useStore } from 'vuex';\n\nimport { ETHER } from '@/constants/tokenlists';\n\nimport { bnum, scale } from '@/lib/utils';\n\nimport useNumbers from '../useNumbers';\nimport useTokens from '../useTokens';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\nimport useSor from './useSor';\nimport useGnosis from './useGnosis';\n\nexport type TradeRoute = 'balancer' | 'gnosis';\n\nexport type UseTrading = ReturnType<typeof useTrading>;\n\nexport default function useTrading(\n  exactIn: Ref<boolean>,\n  tokenInAddressInput: Ref<string>,\n  tokenInAmountInput: Ref<string>,\n  tokenOutAddressInput: Ref<string>,\n  tokenOutAmountInput: Ref<string>\n) {\n  // COMPOSABLES\n  const store = useStore();\n  const { fNum } = useNumbers();\n  const { tokens } = useTokens();\n  const { blockNumber, userNetworkConfig } = useVueWeb3();\n\n  // COMPUTED\n  const isWrap = computed(\n    () =>\n      tokenInAddressInput.value === ETHER.address &&\n      tokenOutAddressInput.value === userNetworkConfig.value.addresses.weth\n  );\n\n  const isUnwrap = computed(\n    () =>\n      tokenOutAddressInput.value === ETHER.address &&\n      tokenInAddressInput.value === userNetworkConfig.value.addresses.weth\n  );\n\n  const tokenIn = computed(() => tokens.value[tokenInAddressInput.value]);\n\n  const tokenOut = computed(() => tokens.value[tokenOutAddressInput.value]);\n\n  const isEthTrade = computed(\n    () => tokenInAddressInput.value === ETHER.address\n  );\n\n  const tokenInAmountScaled = computed(() =>\n    scale(bnum(tokenInAmountInput.value), tokenIn.value.decimals)\n  );\n\n  const tokenOutAmountScaled = computed(() =>\n    scale(bnum(tokenOutAmountInput.value), tokenOut.value.decimals)\n  );\n\n  const requiresApproval = computed(() => {\n    if (isWrap.value || isUnwrap.value || isEthTrade.value) {\n      return false;\n    }\n    return true;\n  });\n\n  const effectivePriceMessage = computed(() => {\n    if (tokenInAmountScaled.value.gt(0) && tokenOutAmountScaled.value.gt(0)) {\n      return {\n        tokenIn: `1 ${tokenIn.value?.symbol} = ${fNum(\n          tokenOutAmountScaled.value.div(tokenInAmountScaled.value).toString(),\n          'token'\n        )} ${tokenOut.value?.symbol}`,\n        tokenOut: `1 ${tokenOut.value?.symbol} = ${fNum(\n          tokenInAmountScaled.value.div(tokenOutAmountScaled.value).toString(),\n          'token'\n        )} ${tokenIn.value?.symbol}`\n      };\n    }\n    return {\n      tokenIn: '',\n      tokenOut: ''\n    };\n  });\n\n  const isWrapOrUnwrap = computed(() => isWrap.value || isUnwrap.value);\n\n  const tradeRoute = computed<TradeRoute>(() => {\n    return isWrapOrUnwrap.value || isEthTrade.value ? 'balancer' : 'gnosis';\n  });\n\n  const isGnosisTrade = computed(() => tradeRoute.value === 'gnosis');\n  const isBalancerTrade = computed(() => tradeRoute.value === 'balancer');\n\n  const sor = useSor({\n    exactIn,\n    tokenInAddressInput,\n    tokenInAmountInput,\n    tokenOutAddressInput,\n    tokenOutAmountInput,\n    tokens,\n    isWrap,\n    isUnwrap,\n    tokenInAmountScaled,\n    tokenOutAmountScaled,\n    sorConfig: {\n      handleAmountsOnFetchPools: false,\n      refetchPools: isBalancerTrade.value,\n      enableTxHandler: isBalancerTrade.value\n    }\n  });\n\n  const gnosis = useGnosis({\n    exactIn,\n    tokenInAddressInput,\n    tokenInAmountInput,\n    tokenOutAddressInput,\n    tokenOutAmountInput,\n    tokenInAmountScaled,\n    tokenOutAmountScaled,\n    tokenIn,\n    tokenOut\n  });\n\n  // initial loading\n  const isLoading = computed(() =>\n    isBalancerTrade.value ? sor.poolsLoading.value : gnosis.updatingQuotes.value\n  );\n\n  // METHODS\n  function trade(successCallback?: () => void) {\n    if (isGnosisTrade.value) {\n      return gnosis.trade(successCallback);\n    } else {\n      return sor.trade(successCallback);\n    }\n  }\n\n  function getQuote() {\n    if (isGnosisTrade.value) {\n      return gnosis.getQuote();\n    } else {\n      return sor.getQuote();\n    }\n  }\n\n  function handleAmountChange() {\n    if (isGnosisTrade.value) {\n      gnosis.handleAmountChange();\n    } else {\n      sor.handleAmountChange();\n    }\n  }\n\n  function handleAssetChange() {\n    if (isGnosisTrade.value) {\n      gnosis.resetErrors();\n      gnosis.resetFees();\n    }\n  }\n\n  // WATCHERS\n  watch(tokenInAddressInput, async () => {\n    store.commit('trade/setInputAsset', tokenInAddressInput.value);\n\n    handleAssetChange();\n    handleAmountChange();\n  });\n\n  watch(tokenOutAddressInput, () => {\n    store.commit('trade/setOutputAsset', tokenOutAddressInput.value);\n\n    handleAssetChange();\n    handleAmountChange();\n  });\n\n  watch(blockNumber, () => {\n    if (isGnosisTrade.value && !gnosis.hasErrors.value) {\n      gnosis.handleAmountChange();\n    }\n  });\n\n  return {\n    // computed\n    isWrap,\n    isUnwrap,\n    isEthTrade,\n    isWrapOrUnwrap,\n    tokenIn,\n    tokenOut,\n    tokenInAmountScaled,\n    tokenOutAmountScaled,\n    tokens,\n    requiresApproval,\n    effectivePriceMessage,\n    tradeRoute,\n    exactIn,\n    isLoading,\n    gnosis,\n    sor,\n    isGnosisTrade,\n    isBalancerTrade,\n    tokenInAddressInput,\n    tokenInAmountInput,\n    tokenOutAddressInput,\n    tokenOutAmountInput,\n    // methods\n    getQuote,\n    trade,\n    handleAmountChange\n  };\n}\n","import { computed, Ref, ref } from 'vue';\nimport { parseUnits } from '@ethersproject/units';\n\nimport { approveTokens } from '@/lib/utils/balancer/tokens';\n\nimport { GP_ALLOWANCE_MANAGER_CONTRACT_ADDRESS } from '@/services/gnosis/constants';\nimport useVueWeb3 from '@/services/web3/useVueWeb3';\n\nimport useTokens from '../useTokens';\nimport useAllowances from '../useAllowances';\nimport useEthers from '../useEthers';\n\nexport default function useTokenApprovalGP(\n  tokenInAddress: Ref<string>,\n  amount: Ref<string>\n) {\n  // COMPOSABLES\n  const { getProvider } = useVueWeb3();\n  const provider = getProvider();\n  const { tokens } = useTokens();\n  const { txListener: ethersTxListener } = useEthers();\n\n  // DATA\n  const approving = ref(false);\n  const approved = ref(false);\n\n  // COMPUTED\n  const dstList = computed(() => [GP_ALLOWANCE_MANAGER_CONTRACT_ADDRESS]);\n  const allowanceTokens = computed(() => [tokenInAddress.value]);\n  const {\n    getRequiredAllowances,\n    isLoading: isLoadingAllowances\n  } = useAllowances({\n    dstList,\n    tokens: allowanceTokens\n  });\n\n  const allowanceState = computed(() => {\n    if (!tokenInAddress.value || !amount.value || approved.value) {\n      return {\n        isUnlocked: true\n      };\n    }\n\n    const tokenInDecimals = tokens.value[tokenInAddress.value].decimals;\n\n    const requiredAllowances = getRequiredAllowances({\n      dst: GP_ALLOWANCE_MANAGER_CONTRACT_ADDRESS,\n      tokens: [tokenInAddress.value],\n      amounts: [parseUnits(amount.value, tokenInDecimals).toString()]\n    });\n\n    return {\n      isUnlocked: requiredAllowances.length === 0\n    };\n  });\n\n  // METHODS\n  async function approve(): Promise<void> {\n    console.log('[TokenApproval] Unlock token for trading on Gnosis Protocol');\n    approving.value = true;\n    try {\n      const [tx] = await approveTokens(\n        provider,\n        GP_ALLOWANCE_MANAGER_CONTRACT_ADDRESS,\n        [tokenInAddress.value]\n      );\n      ethersTxListener(tx, {\n        onTxConfirmed: () => {\n          approving.value = false;\n          approved.value = true;\n        },\n        onTxFailed: () => {\n          approving.value = false;\n        }\n      });\n    } catch (e) {\n      console.log(e);\n      approving.value = false;\n    }\n  }\n\n  const isApproved = computed(() => allowanceState.value.isUnlocked);\n\n  return {\n    approving,\n    approve,\n    allowanceState,\n    isApproved,\n    isLoading: isLoadingAllowances\n  };\n}\n","<template>\n  <BalModal show @close=\"onClose\" :title=\"$t('previewTrade')\">\n    <div>\n      <BalCard noPad class=\"relative mb-6 overflow-hidden\">\n        <template v-slot:header>\n          <div class=\"w-full p-3 border-b bg-gray-50 rounded-t-lg text-xs\">\n            <span class=\"text-gray-500\">\n              {{ $t('effectivePrice') }}\n            </span>\n            {{\n              trading.exactIn.value\n                ? trading.effectivePriceMessage.value.tokenIn\n                : trading.effectivePriceMessage.value.tokenOut\n            }}\n          </div>\n        </template>\n        <div>\n          <div class=\"p-3 border-gray-100 border-b relative\">\n            <div class=\"flex items-center\">\n              <div class=\"mr-3\">\n                <BalAsset :address=\"trading.tokenIn.value.address\" :size=\"36\" />\n              </div>\n              <div>\n                <div class=\"font-medium\">\n                  {{ fNum(trading.tokenInAmountInput.value, 'token') }}\n                  {{ trading.tokenIn.value.symbol }}\n                </div>\n                <div class=\"text-gray-500 text-sm\">\n                  {{ tokenInFiatValue }}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"arrow-down\">\n            <ArrowDownIcon />\n          </div>\n          <div class=\"p-3\">\n            <div class=\"flex items-center\">\n              <div class=\"mr-3\">\n                <BalAsset\n                  :address=\"trading.tokenOut.value.address\"\n                  :size=\"36\"\n                />\n              </div>\n              <div>\n                <div class=\"font-medium\">\n                  {{ fNum(trading.tokenOutAmountInput.value, 'token') }}\n                  {{ trading.tokenOut.value.symbol }}\n                </div>\n                <div class=\"text-gray-500 text-sm\">\n                  {{ tokenOutFiatValue }}\n                  <span v-if=\"trading.isBalancerTrade.value\">\n                    / {{ $t('priceImpact') }}:\n                    {{ fNum(trading.sor.priceImpact.value, 'percent') }}</span\n                  >\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </BalCard>\n      <BalCard shadow=\"none\" class=\"my-5\" v-if=\"showTradeRoute\">\n        <TradeRoute\n          :address-in=\"trading.tokenIn.value.address\"\n          :amount-in=\"trading.tokenInAmountInput.value\"\n          :address-out=\"trading.tokenOut.value.address\"\n          :amount-out=\"trading.tokenOutAmountInput.value\"\n          :pools=\"trading.sor.pools.value\"\n          :sor-return=\"trading.sor.sorReturn.value\"\n        />\n      </BalCard>\n      <BalCard noPad shadow=\"none\" class=\"mb-6\" v-if=\"showSummary\">\n        <template v-slot:header>\n          <div class=\"p-3 flex w-full items-center justify-between border-b\">\n            <div class=\"font-semibold\">{{ $t('summary') }}</div>\n            <div class=\"flex divide-x text-xs uppercase\">\n              <div\n                :class=\"[\n                  'pr-1 cursor-pointer font-medium',\n                  { 'text-blue-600': !showSummaryInFiat }\n                ]\"\n                @click=\"showSummaryInFiat = false\"\n              >\n                {{ $t('tokens') }}\n              </div>\n              <div\n                :class=\"[\n                  'pl-1 cursor-pointer font-medium',\n                  { 'text-blue-600': showSummaryInFiat }\n                ]\"\n                @click=\"showSummaryInFiat = true\"\n              >\n                {{ FiatCurrency.USD }}\n              </div>\n            </div>\n          </div>\n        </template>\n        <div class=\"p-3 text-sm\">\n          <div class=\"summary-item-row\">\n            <div>{{ $t('amountBeforeFees') }}</div>\n            <div>\n              {{ summary.amountBeforeFees }}\n            </div>\n          </div>\n          <div class=\"summary-item-row\">\n            <div>{{ $t('gasCosts') }}</div>\n            <div v-if=\"trading.isGnosisTrade.value\" class=\"text-green-400\">\n              {{ fNum('0', showSummaryInFiat ? 'usd' : 'token') }}\n            </div>\n            <div v-else>\n              <!-- TODO: in order to calculate this I need to get gasLimit of the transaction + gwei price -->\n              Calculated on confirmation\n            </div>\n          </div>\n          <div class=\"summary-item-row\">\n            <div>{{ $t('solverFees') }}</div>\n            <div>\n              {{ summary.solverFees }}\n            </div>\n          </div>\n        </div>\n        <template v-slot:footer>\n          <div class=\"w-full p-3 rounded-b-lg bg-white text-sm\">\n            <div class=\"summary-item-row font-medium\">\n              <div>\n                {{\n                  trading.exactIn.value\n                    ? $t('expectedReceiveNoSlippage')\n                    : $t('expectedSellNoSlippage')\n                }}\n              </div>\n              <div>\n                {{ summary.totalWithoutSlippage }}\n              </div>\n            </div>\n            <div class=\"summary-item-row\">\n              <div>\n                {{\n                  trading.exactIn.value\n                    ? $t('minReceivedWithSlippage', [slippageRatePercent])\n                    : $t('maxSoldWithSlippage', [slippageRatePercent])\n                }}\n              </div>\n              <div>\n                {{ summary.totalWithSlippage }}\n              </div>\n            </div>\n          </div>\n        </template>\n      </BalCard>\n      <BalCard noPad shadow=\"none\">\n        <template v-slot:header>\n          <div class=\"p-3 flex w-full items-center justify-between border-b\">\n            <div class=\"font-semibold\">\n              {{\n                $tc('requiresTransactions', approvalTxCount, {\n                  txCount: approvalTxCount\n                })\n              }}\n            </div>\n          </div>\n        </template>\n        <div class=\"p-3 text-sm\">\n          <div\n            v-if=\"trading.requiresApproval.value\"\n            class=\"flex items-center mb-2\"\n          >\n            <div class=\"tx-circle text-green-500\">\n              <BalIcon\n                v-if=\"isApproved\"\n                name=\"check\"\n                size=\"sm\"\n                class=\"text-green-500\"\n              />\n              <span v-else class=\"text-gray-500\">1</span>\n            </div>\n            <div class=\"ml-3\">\n              <span v-if=\"isApproved\">{{ $t('approved') }}</span>\n              <span v-else>{{ $t('approve') }}</span>\n            </div>\n          </div>\n          <div class=\"flex items-center\">\n            <div class=\"tx-circle text-gray-500\">\n              {{ trading.requiresApproval.value ? 2 : 1 }}\n            </div>\n            <div class=\"ml-3\">\n              {{ $t('trade') }} {{ tokenInFiatValue }}\n              {{ trading.tokenIn.value.symbol }} ->\n              {{ trading.tokenOut.value.symbol }}\n            </div>\n          </div>\n        </div>\n      </BalCard>\n      <BalBtn\n        v-if=\"trading.requiresApproval.value && !isApproved\"\n        class=\"mt-5\"\n        :label=\"`${$t('approve')} ${trading.tokenIn.value.symbol}`\"\n        :loading=\"approving\"\n        :loading-label=\"`${$t('approving')} ${trading.tokenIn.value.symbol}…`\"\n        color=\"gradient\"\n        block\n        @click.prevent=\"approve\"\n      />\n      <BalBtn\n        v-else\n        class=\"mt-5\"\n        :label=\"$t('confirmTrade')\"\n        color=\"gradient\"\n        block\n        @click.prevent=\"trade\"\n      />\n    </div>\n  </BalModal>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, PropType, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { formatUnits } from '@ethersproject/units';\n\nimport { UseTrading } from '@/composables/trade/useTrading';\nimport useNumbers from '@/composables/useNumbers';\nimport useTokenApprovalGP from '@/composables/trade/useTokenApprovalGP';\n\nimport TradeRoute from '@/components/cards/TradeCard/TradeRoute.vue';\n\nimport { bnum } from '@/lib/utils';\n\nimport { FiatCurrency } from '@/constants/currency';\nimport { mapValues } from 'lodash';\n\nexport default defineComponent({\n  components: {\n    TradeRoute\n  },\n  emits: ['trade', 'close'],\n  props: {\n    trading: {\n      type: Object as PropType<UseTrading>,\n      required: true\n    }\n  },\n  setup(props, { emit }) {\n    // COMPOSABLES\n    const store = useStore();\n    const { fNum, toFiat } = useNumbers();\n\n    // DATA\n    const showSummaryInFiat = ref(false);\n\n    // COMPUTED\n    const slippageRatePercent = computed(() =>\n      fNum(store.state.app.slippage, 'percent')\n    );\n\n    const addressIn = computed(() => props.trading.tokenIn.value.address);\n\n    const tokenInFiatValue = computed(() =>\n      fNum(\n        toFiat(\n          props.trading.tokenInAmountInput.value,\n          props.trading.tokenIn.value.address\n        ),\n        'usd'\n      )\n    );\n\n    const tokenOutFiatValue = computed(() =>\n      fNum(\n        toFiat(\n          props.trading.tokenOutAmountInput.value,\n          props.trading.tokenOut.value.address\n        ),\n        'usd'\n      )\n    );\n\n    const approvalTxCount = computed(() =>\n      props.trading.requiresApproval.value ? 2 : 1\n    );\n\n    const showSummary = computed(() => !props.trading.isWrapOrUnwrap.value);\n\n    const showTradeRoute = computed(\n      () =>\n        props.trading.isBalancerTrade.value &&\n        !props.trading.isWrapOrUnwrap.value\n    );\n\n    const summary = computed(() => {\n      if (!showSummary.value) {\n        return;\n      }\n\n      const summaryItems = {\n        amountBeforeFees: '',\n        solverFees: '',\n        totalWithoutSlippage: '',\n        totalWithSlippage: ''\n      };\n\n      const exactIn = props.trading.exactIn.value;\n\n      const tokenIn = props.trading.tokenIn.value;\n      const tokenOut = props.trading.tokenOut.value;\n\n      const tokenInAmountInput = props.trading.tokenInAmountInput.value;\n      const tokenOutAmountInput = props.trading.tokenOutAmountInput.value;\n\n      const quote = props.trading.getQuote();\n\n      if (exactIn) {\n        summaryItems.amountBeforeFees = tokenOutAmountInput;\n        summaryItems.solverFees = formatUnits(\n          quote.feeAmountOutToken,\n          tokenOut.decimals\n        );\n        summaryItems.totalWithoutSlippage = bnum(summaryItems.amountBeforeFees)\n          .minus(summaryItems.solverFees)\n          .toString();\n        summaryItems.totalWithSlippage = formatUnits(\n          quote.minimumOutAmount,\n          tokenOut.decimals\n        );\n      } else {\n        summaryItems.amountBeforeFees = tokenInAmountInput;\n        summaryItems.solverFees = formatUnits(\n          quote.feeAmountInToken,\n          tokenIn.decimals\n        );\n        summaryItems.totalWithoutSlippage = bnum(summaryItems.amountBeforeFees)\n          .plus(summaryItems.solverFees)\n          .toString();\n        summaryItems.totalWithSlippage = formatUnits(\n          quote.maximumInAmount,\n          tokenIn.decimals\n        );\n      }\n\n      if (showSummaryInFiat.value) {\n        return mapValues(summaryItems, itemValue =>\n          fNum(\n            toFiat(itemValue, exactIn ? tokenOut.address : tokenIn.address),\n            'usd'\n          )\n        );\n      } else {\n        return mapValues(\n          summaryItems,\n          itemValue =>\n            `${fNum(itemValue, 'token')} ${\n              exactIn ? tokenOut.symbol : tokenIn.symbol\n            }`\n        );\n      }\n    });\n\n    const { approving, isApproved, approve } = useTokenApprovalGP(\n      addressIn,\n      props.trading.tokenInAmountInput\n    );\n\n    // METHODS\n    function trade() {\n      emit('trade');\n    }\n\n    function onClose() {\n      emit('close');\n    }\n\n    return {\n      // constants\n      FiatCurrency,\n\n      // methods\n      fNum,\n      onClose,\n      approve,\n      trade,\n\n      // computed\n      isApproved,\n      approving,\n      tokenInFiatValue,\n      tokenOutFiatValue,\n      summary,\n      showSummaryInFiat,\n      slippageRatePercent,\n      showSummary,\n      showTradeRoute,\n      approvalTxCount\n    };\n  }\n});\n</script>\n<style scoped>\n.arrow-down {\n  @apply absolute right-0 rounded-full border border-gray-100 flex items-center h-8 w-8 justify-center bg-white mr-3;\n  transform: translateY(-50%);\n}\n\n.summary-item-row {\n  @apply flex justify-between mb-1;\n}\n\n.tx-circle {\n  @apply w-6 h-6 flex items-center justify-center border rounded-full;\n}\n</style>\n","export enum FiatCurrency {\n  USD = 'USD'\n}\n","\nimport { defineComponent, computed, PropType, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { formatUnits } from '@ethersproject/units';\n\nimport { UseTrading } from '@/composables/trade/useTrading';\nimport useNumbers from '@/composables/useNumbers';\nimport useTokenApprovalGP from '@/composables/trade/useTokenApprovalGP';\n\nimport TradeRoute from '@/components/cards/TradeCard/TradeRoute.vue';\n\nimport { bnum } from '@/lib/utils';\n\nimport { FiatCurrency } from '@/constants/currency';\nimport { mapValues } from 'lodash';\n\nexport default defineComponent({\n  components: {\n    TradeRoute\n  },\n  emits: ['trade', 'close'],\n  props: {\n    trading: {\n      type: Object as PropType<UseTrading>,\n      required: true\n    }\n  },\n  setup(props, { emit }) {\n    // COMPOSABLES\n    const store = useStore();\n    const { fNum, toFiat } = useNumbers();\n\n    // DATA\n    const showSummaryInFiat = ref(false);\n\n    // COMPUTED\n    const slippageRatePercent = computed(() =>\n      fNum(store.state.app.slippage, 'percent')\n    );\n\n    const addressIn = computed(() => props.trading.tokenIn.value.address);\n\n    const tokenInFiatValue = computed(() =>\n      fNum(\n        toFiat(\n          props.trading.tokenInAmountInput.value,\n          props.trading.tokenIn.value.address\n        ),\n        'usd'\n      )\n    );\n\n    const tokenOutFiatValue = computed(() =>\n      fNum(\n        toFiat(\n          props.trading.tokenOutAmountInput.value,\n          props.trading.tokenOut.value.address\n        ),\n        'usd'\n      )\n    );\n\n    const approvalTxCount = computed(() =>\n      props.trading.requiresApproval.value ? 2 : 1\n    );\n\n    const showSummary = computed(() => !props.trading.isWrapOrUnwrap.value);\n\n    const showTradeRoute = computed(\n      () =>\n        props.trading.isBalancerTrade.value &&\n        !props.trading.isWrapOrUnwrap.value\n    );\n\n    const summary = computed(() => {\n      if (!showSummary.value) {\n        return;\n      }\n\n      const summaryItems = {\n        amountBeforeFees: '',\n        solverFees: '',\n        totalWithoutSlippage: '',\n        totalWithSlippage: ''\n      };\n\n      const exactIn = props.trading.exactIn.value;\n\n      const tokenIn = props.trading.tokenIn.value;\n      const tokenOut = props.trading.tokenOut.value;\n\n      const tokenInAmountInput = props.trading.tokenInAmountInput.value;\n      const tokenOutAmountInput = props.trading.tokenOutAmountInput.value;\n\n      const quote = props.trading.getQuote();\n\n      if (exactIn) {\n        summaryItems.amountBeforeFees = tokenOutAmountInput;\n        summaryItems.solverFees = formatUnits(\n          quote.feeAmountOutToken,\n          tokenOut.decimals\n        );\n        summaryItems.totalWithoutSlippage = bnum(summaryItems.amountBeforeFees)\n          .minus(summaryItems.solverFees)\n          .toString();\n        summaryItems.totalWithSlippage = formatUnits(\n          quote.minimumOutAmount,\n          tokenOut.decimals\n        );\n      } else {\n        summaryItems.amountBeforeFees = tokenInAmountInput;\n        summaryItems.solverFees = formatUnits(\n          quote.feeAmountInToken,\n          tokenIn.decimals\n        );\n        summaryItems.totalWithoutSlippage = bnum(summaryItems.amountBeforeFees)\n          .plus(summaryItems.solverFees)\n          .toString();\n        summaryItems.totalWithSlippage = formatUnits(\n          quote.maximumInAmount,\n          tokenIn.decimals\n        );\n      }\n\n      if (showSummaryInFiat.value) {\n        return mapValues(summaryItems, itemValue =>\n          fNum(\n            toFiat(itemValue, exactIn ? tokenOut.address : tokenIn.address),\n            'usd'\n          )\n        );\n      } else {\n        return mapValues(\n          summaryItems,\n          itemValue =>\n            `${fNum(itemValue, 'token')} ${\n              exactIn ? tokenOut.symbol : tokenIn.symbol\n            }`\n        );\n      }\n    });\n\n    const { approving, isApproved, approve } = useTokenApprovalGP(\n      addressIn,\n      props.trading.tokenInAmountInput\n    );\n\n    // METHODS\n    function trade() {\n      emit('trade');\n    }\n\n    function onClose() {\n      emit('close');\n    }\n\n    return {\n      // constants\n      FiatCurrency,\n\n      // methods\n      fNum,\n      onClose,\n      approve,\n      trade,\n\n      // computed\n      isApproved,\n      approving,\n      tokenInFiatValue,\n      tokenOutFiatValue,\n      summary,\n      showSummaryInFiat,\n      slippageRatePercent,\n      showSummary,\n      showTradeRoute,\n      approvalTxCount\n    };\n  }\n});\n","import { render } from \"./TradePreviewModalGP.vue?vue&type=template&id=58ec6063&scoped=true\"\nimport script from \"./TradePreviewModalGP.vue?vue&type=script&lang=ts\"\nexport * from \"./TradePreviewModalGP.vue?vue&type=script&lang=ts\"\n\nimport \"./TradePreviewModalGP.vue?vue&type=style&index=0&id=58ec6063&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-58ec6063\"\n\nexport default script","<template>\n  <div>\n    <div\n      class=\"p-2 flex justify-between text-sm rounded-t-lg border border-b-0\"\n    >\n      <div>{{ $t('send') }}</div>\n      <div v-if=\"tokenInValue > 0\" class=\"text-gray-500\">\n        {{ fNum(tokenInValue, 'usd') }}\n      </div>\n    </div>\n    <BalTextInput\n      :name=\"'tokenIn'\"\n      :model-value=\"tokenInAmountInput\"\n      @input=\"value => handleInAmountChange(value)\"\n      type=\"number\"\n      min=\"0\"\n      step=\"any\"\n      placeholder=\"0\"\n      validate-on=\"input\"\n      square-top\n      prepend-border\n    >\n      <template v-slot:prepend>\n        <div\n          class=\"flex items-center w-28 h-full cursor-pointer\"\n          @click=\"openModalSelectToken('input')\"\n        >\n          <BalAsset\n            v-if=\"tokenInAddressInput\"\n            :address=\"tokenInAddressInput\"\n            :size=\"28\"\n          />\n          <div class=\"flex flex-col ml-3 w-14 leading-none truncate\">\n            <BalTooltip v-if=\"tokenInSymbol.length > 5\">\n              <template v-slot:activator>\n                <span class=\"font-bold\">\n                  {{ tokenInSymbol }}\n                </span>\n              </template>\n              <div>\n                {{ tokenInSymbol }}\n              </div>\n            </BalTooltip>\n            <span v-else class=\"font-bold\">\n              {{ tokenInSymbol }}\n            </span>\n          </div>\n          <BalIcon :name=\"'chevron-down'\" :size=\"'sm'\" class=\"text-blue-500\" />\n        </div>\n      </template>\n      <template v-slot:info>\n        <div class=\"cursor-pointer\" @click=\"handleInMax\">\n          {{ $t('balance') }}: {{ fNum(tokenInBalance, 'token') }}\n        </div>\n      </template>\n      <template v-slot:append>\n        <div class=\"p-2\">\n          <BalBtn size=\"xs\" color=\"white\" @click=\"handleInMax\">\n            {{ $t('max') }}\n          </BalBtn>\n        </div>\n      </template>\n    </BalTextInput>\n    <div class=\"flex items-center mb-4\">\n      <TradePairToggle @toggle=\"handleSwitchTokens\" />\n      <div v-if=\"rateMessage\" class=\"flex-auto ml-4\">\n        <span\n          class=\"text-sm text-gray-500 cursor-pointer\"\n          @click=\"toggleRate\"\n          v-text=\"rateMessage\"\n        />\n      </div>\n    </div>\n    <div\n      class=\"p-2 flex justify-between text-sm rounded-t-lg border border-b-0\"\n    >\n      <div>{{ $t('receive') }}</div>\n      <div v-if=\"tokenOutValue > 0\" class=\"text-gray-500\">\n        {{ fNum(tokenOutValue, 'usd') }}\n      </div>\n    </div>\n    <BalTextInput\n      :name=\"'tokenOut'\"\n      :model-value=\"tokenOutAmountInput\"\n      @input=\"value => handleOutAmountChange(value)\"\n      type=\"number\"\n      min=\"0\"\n      step=\"any\"\n      placeholder=\"0\"\n      validate-on=\"input\"\n      prepend-border\n      square-top\n    >\n      <template v-slot:prepend>\n        <div\n          class=\"flex items-center w-28 h-full cursor-pointer\"\n          @click=\"openModalSelectToken('output')\"\n        >\n          <BalAsset\n            v-if=\"tokenOutAddressInput\"\n            :address=\"tokenOutAddressInput\"\n            :size=\"28\"\n          />\n          <div class=\"flex flex-col ml-3 w-14 leading-none truncate\">\n            <BalTooltip v-if=\"tokenOutSymbol.length > 5\">\n              <template v-slot:activator>\n                <span class=\"font-bold\">\n                  {{ tokenOutSymbol }}\n                </span>\n              </template>\n              <div>\n                {{ tokenOutSymbol }}\n              </div>\n            </BalTooltip>\n            <span v-else class=\"font-bold\">\n              {{ tokenOutSymbol }}\n            </span>\n          </div>\n          <BalIcon :name=\"'chevron-down'\" :size=\"'sm'\" class=\"text-blue-500\" />\n        </div>\n      </template>\n      <template v-slot:info>\n        <div class=\"cursor-pointer\" @click=\"handleOutMax\">\n          {{ $t('balance') }}: {{ fNum(tokenOutBalance, 'token') }}\n        </div>\n      </template>\n      <template v-slot:append>\n        <div class=\"p-2\">\n          <BalBtn size=\"xs\" color=\"white\" @click=\"handleOutMax\">\n            {{ $t('max') }}\n          </BalBtn>\n        </div>\n      </template>\n    </BalTextInput>\n  </div>\n  <teleport to=\"#modal\">\n    <SelectTokenModal\n      v-if=\"modalSelectTokenIsOpen\"\n      :excludedTokens=\"[tokenInAddressInput, tokenOutAddressInput]\"\n      @close=\"modalSelectTokenIsOpen = false\"\n      @select=\"handleSelectToken\"\n      include-ether\n    />\n  </teleport>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, toRefs, computed, ref, PropType } from 'vue';\nimport { useStore } from 'vuex';\n\nimport useNumbers from '@/composables/useNumbers';\nimport { ETHER } from '@/constants/tokenlists';\n\nimport TradePairToggle from '@/components/cards/TradeCard/TradePairToggle.vue';\nimport SelectTokenModal from '@/components/modals/SelectTokenModal/SelectTokenModal.vue';\nimport useTokens from '@/composables/useTokens';\nimport { UseTrading } from '@/composables/trade/useTrading';\n\nconst ETH_BUFFER = 0.1;\n\nexport default defineComponent({\n  components: {\n    TradePairToggle,\n    SelectTokenModal\n  },\n  props: {\n    tokenInAmountInput: {\n      type: String,\n      required: true\n    },\n    tokenInAddressInput: {\n      type: String,\n      required: true\n    },\n    tokenOutAmountInput: {\n      type: String,\n      required: true\n    },\n    tokenOutAddressInput: {\n      type: String,\n      required: true\n    },\n    exactIn: {\n      type: Boolean,\n      required: true\n    },\n    effectivePriceMessage: {\n      type: Object as PropType<UseTrading['effectivePriceMessage']>,\n      required: true\n    }\n  },\n  emits: [\n    'tokenInAddressChange',\n    'tokenInAmountChange',\n    'tokenOutAddressChange',\n    'tokenOutAmountChange',\n    'exactInChange',\n    'change'\n  ],\n  setup(props, { emit }) {\n    // COMPOSABLES\n    const store = useStore();\n    const { fNum, toFiat } = useNumbers();\n\n    // DATA\n    const {\n      tokenInAmountInput,\n      tokenInAddressInput,\n      tokenOutAmountInput,\n      tokenOutAddressInput,\n      exactIn\n    } = toRefs(props);\n\n    const isInRate = ref(true);\n    const modalSelectTokenType = ref('input');\n    const modalSelectTokenIsOpen = ref(false);\n\n    const { tokens } = useTokens();\n\n    const tokenInValue = computed(() =>\n      toFiat(tokenInAmountInput.value, tokenInAddressInput.value)\n    );\n\n    const tokenInSymbol = computed(() => {\n      const tokenIn = tokens.value[tokenInAddressInput.value];\n      const symbol = tokenIn ? tokenIn.symbol : '';\n      return symbol;\n    });\n\n    const tokenOutValue = computed(() =>\n      toFiat(tokenOutAmountInput.value, tokenOutAddressInput.value)\n    );\n\n    const tokenOutSymbol = computed(() => {\n      const tokenOut = tokens.value[tokenOutAddressInput.value];\n      const symbol = tokenOut ? tokenOut.symbol : '';\n      return symbol;\n    });\n\n    const tokenInBalance = computed(\n      () => tokens.value[tokenInAddressInput.value]?.balance || '0'\n    );\n\n    const tokenOutBalance = computed(\n      () => tokens.value[tokenOutAddressInput.value]?.balance || '0'\n    );\n\n    // METHODS\n\n    function getMaxAmount(\n      tokenAddress: string,\n      balance: string,\n      balanceNumber: number\n    ) {\n      return tokenAddress !== ETHER.address\n        ? balance\n        : balanceNumber > ETH_BUFFER\n        ? (balanceNumber - ETH_BUFFER).toString()\n        : '0';\n    }\n    function handleInMax() {\n      const balance = tokenInBalance.value;\n      const balanceNumber = parseFloat(balance);\n      const maxAmount = getMaxAmount(\n        tokenInAddressInput.value,\n        balance,\n        balanceNumber\n      );\n\n      handleInAmountChange(maxAmount);\n    }\n\n    function handleOutMax() {\n      const balance = tokenOutBalance.value;\n      const balanceNumber = parseFloat(balance);\n      const maxAmount = getMaxAmount(\n        tokenOutAddressInput.value,\n        balance,\n        balanceNumber\n      );\n      handleOutAmountChange(maxAmount);\n    }\n\n    function handleInAmountChange(value: string): void {\n      emit('exactInChange', true);\n      emit('tokenInAmountChange', value);\n      emit('change', value);\n    }\n\n    function handleOutAmountChange(value: string): void {\n      emit('exactInChange', false);\n      emit('tokenOutAmountChange', value);\n      emit('change', value);\n    }\n\n    function handleSwitchTokens(): void {\n      emit('exactInChange', !exactIn.value);\n      emit('tokenInAmountChange', tokenOutAmountInput.value);\n      emit('tokenInAddressChange', tokenOutAddressInput.value);\n      emit('tokenOutAmountChange', tokenInAmountInput.value);\n      emit('tokenOutAddressChange', tokenInAddressInput.value);\n    }\n\n    function handleSelectToken(address: string): void {\n      if (modalSelectTokenType.value === 'input') {\n        if (address === tokenOutAddressInput.value) {\n          handleSwitchTokens();\n          return;\n        } else emit('tokenInAddressChange', address);\n      } else {\n        if (address === tokenInAddressInput.value) {\n          handleSwitchTokens();\n          return;\n        } else emit('tokenOutAddressChange', address);\n      }\n      store.dispatch('registry/injectTokens', [address]);\n    }\n\n    const rateMessage = computed(() =>\n      isInRate.value\n        ? props.effectivePriceMessage.value.tokenIn\n        : props.effectivePriceMessage.value.tokenOut\n    );\n\n    function toggleRate(): void {\n      isInRate.value = !isInRate.value;\n    }\n\n    function openModalSelectToken(type: string): void {\n      modalSelectTokenIsOpen.value = true;\n      modalSelectTokenType.value = type;\n    }\n\n    return {\n      tokens,\n      fNum,\n      handleInMax,\n      handleOutMax,\n      tokenInBalance,\n      tokenOutBalance,\n      handleInAmountChange,\n      handleOutAmountChange,\n      handleSwitchTokens,\n      rateMessage,\n      toggleRate,\n      tokenInValue,\n      tokenInSymbol,\n      tokenOutValue,\n      tokenOutSymbol,\n      modalSelectTokenIsOpen,\n      openModalSelectToken,\n      handleSelectToken\n    };\n  }\n});\n</script>\n","\nimport { defineComponent, toRefs, computed, ref, PropType } from 'vue';\nimport { useStore } from 'vuex';\n\nimport useNumbers from '@/composables/useNumbers';\nimport { ETHER } from '@/constants/tokenlists';\n\nimport TradePairToggle from '@/components/cards/TradeCard/TradePairToggle.vue';\nimport SelectTokenModal from '@/components/modals/SelectTokenModal/SelectTokenModal.vue';\nimport useTokens from '@/composables/useTokens';\nimport { UseTrading } from '@/composables/trade/useTrading';\n\nconst ETH_BUFFER = 0.1;\n\nexport default defineComponent({\n  components: {\n    TradePairToggle,\n    SelectTokenModal\n  },\n  props: {\n    tokenInAmountInput: {\n      type: String,\n      required: true\n    },\n    tokenInAddressInput: {\n      type: String,\n      required: true\n    },\n    tokenOutAmountInput: {\n      type: String,\n      required: true\n    },\n    tokenOutAddressInput: {\n      type: String,\n      required: true\n    },\n    exactIn: {\n      type: Boolean,\n      required: true\n    },\n    effectivePriceMessage: {\n      type: Object as PropType<UseTrading['effectivePriceMessage']>,\n      required: true\n    }\n  },\n  emits: [\n    'tokenInAddressChange',\n    'tokenInAmountChange',\n    'tokenOutAddressChange',\n    'tokenOutAmountChange',\n    'exactInChange',\n    'change'\n  ],\n  setup(props, { emit }) {\n    // COMPOSABLES\n    const store = useStore();\n    const { fNum, toFiat } = useNumbers();\n\n    // DATA\n    const {\n      tokenInAmountInput,\n      tokenInAddressInput,\n      tokenOutAmountInput,\n      tokenOutAddressInput,\n      exactIn\n    } = toRefs(props);\n\n    const isInRate = ref(true);\n    const modalSelectTokenType = ref('input');\n    const modalSelectTokenIsOpen = ref(false);\n\n    const { tokens } = useTokens();\n\n    const tokenInValue = computed(() =>\n      toFiat(tokenInAmountInput.value, tokenInAddressInput.value)\n    );\n\n    const tokenInSymbol = computed(() => {\n      const tokenIn = tokens.value[tokenInAddressInput.value];\n      const symbol = tokenIn ? tokenIn.symbol : '';\n      return symbol;\n    });\n\n    const tokenOutValue = computed(() =>\n      toFiat(tokenOutAmountInput.value, tokenOutAddressInput.value)\n    );\n\n    const tokenOutSymbol = computed(() => {\n      const tokenOut = tokens.value[tokenOutAddressInput.value];\n      const symbol = tokenOut ? tokenOut.symbol : '';\n      return symbol;\n    });\n\n    const tokenInBalance = computed(\n      () => tokens.value[tokenInAddressInput.value]?.balance || '0'\n    );\n\n    const tokenOutBalance = computed(\n      () => tokens.value[tokenOutAddressInput.value]?.balance || '0'\n    );\n\n    // METHODS\n\n    function getMaxAmount(\n      tokenAddress: string,\n      balance: string,\n      balanceNumber: number\n    ) {\n      return tokenAddress !== ETHER.address\n        ? balance\n        : balanceNumber > ETH_BUFFER\n        ? (balanceNumber - ETH_BUFFER).toString()\n        : '0';\n    }\n    function handleInMax() {\n      const balance = tokenInBalance.value;\n      const balanceNumber = parseFloat(balance);\n      const maxAmount = getMaxAmount(\n        tokenInAddressInput.value,\n        balance,\n        balanceNumber\n      );\n\n      handleInAmountChange(maxAmount);\n    }\n\n    function handleOutMax() {\n      const balance = tokenOutBalance.value;\n      const balanceNumber = parseFloat(balance);\n      const maxAmount = getMaxAmount(\n        tokenOutAddressInput.value,\n        balance,\n        balanceNumber\n      );\n      handleOutAmountChange(maxAmount);\n    }\n\n    function handleInAmountChange(value: string): void {\n      emit('exactInChange', true);\n      emit('tokenInAmountChange', value);\n      emit('change', value);\n    }\n\n    function handleOutAmountChange(value: string): void {\n      emit('exactInChange', false);\n      emit('tokenOutAmountChange', value);\n      emit('change', value);\n    }\n\n    function handleSwitchTokens(): void {\n      emit('exactInChange', !exactIn.value);\n      emit('tokenInAmountChange', tokenOutAmountInput.value);\n      emit('tokenInAddressChange', tokenOutAddressInput.value);\n      emit('tokenOutAmountChange', tokenInAmountInput.value);\n      emit('tokenOutAddressChange', tokenInAddressInput.value);\n    }\n\n    function handleSelectToken(address: string): void {\n      if (modalSelectTokenType.value === 'input') {\n        if (address === tokenOutAddressInput.value) {\n          handleSwitchTokens();\n          return;\n        } else emit('tokenInAddressChange', address);\n      } else {\n        if (address === tokenInAddressInput.value) {\n          handleSwitchTokens();\n          return;\n        } else emit('tokenOutAddressChange', address);\n      }\n      store.dispatch('registry/injectTokens', [address]);\n    }\n\n    const rateMessage = computed(() =>\n      isInRate.value\n        ? props.effectivePriceMessage.value.tokenIn\n        : props.effectivePriceMessage.value.tokenOut\n    );\n\n    function toggleRate(): void {\n      isInRate.value = !isInRate.value;\n    }\n\n    function openModalSelectToken(type: string): void {\n      modalSelectTokenIsOpen.value = true;\n      modalSelectTokenType.value = type;\n    }\n\n    return {\n      tokens,\n      fNum,\n      handleInMax,\n      handleOutMax,\n      tokenInBalance,\n      tokenOutBalance,\n      handleInAmountChange,\n      handleOutAmountChange,\n      handleSwitchTokens,\n      rateMessage,\n      toggleRate,\n      tokenInValue,\n      tokenInSymbol,\n      tokenOutValue,\n      tokenOutSymbol,\n      modalSelectTokenIsOpen,\n      openModalSelectToken,\n      handleSelectToken\n    };\n  }\n});\n","import { render } from \"./TradePairGP.vue?vue&type=template&id=9d56d186\"\nimport script from \"./TradePairGP.vue?vue&type=script&lang=ts\"\nexport * from \"./TradePairGP.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { ref, defineComponent, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\n\nimport { useI18n } from 'vue-i18n';\nimport { isAddress, getAddress } from '@ethersproject/address';\nimport useValidation, {\n  TradeValidation\n} from '@/composables/trade/useValidation';\nimport useTrading from '@/composables/trade/useTrading';\nimport useTokenApprovalGP from '@/composables/trade/useTokenApprovalGP';\nimport useBreakpoints from '@/composables/useBreakpoints';\n\nimport { ETHER } from '@/constants/tokenlists';\nimport { TOKENS } from '@/constants/tokens';\n\nimport { isRequired } from '@/lib/utils/validations';\n\nimport TradePreviewModalGP from '@/components/modals/TradePreviewModalGP.vue';\nimport TradeSettingsPopover, {\n  TradeSettingsContext\n} from '@/components/popovers/TradeSettingsPopover.vue';\n\nimport TradePairGP from './TradePairGP.vue';\n\nexport default defineComponent({\n  components: {\n    TradePairGP,\n    TradePreviewModalGP,\n    TradeSettingsPopover\n  },\n\n  setup() {\n    // COMPOSABLES\n    const store = useStore();\n    const router = useRouter();\n    const { t } = useI18n();\n    const { bp } = useBreakpoints();\n\n    // DATA\n    const exactIn = ref(true);\n    const tokenInAddress = ref('');\n    const tokenInAmount = ref('');\n    const tokenOutAddress = ref('');\n    const tokenOutAmount = ref('');\n    const modalTradePreviewIsOpen = ref(false);\n\n    const tradeCardShadow = computed(() => {\n      switch (bp.value) {\n        case 'xs':\n          return 'none';\n        case 'sm':\n          return 'lg';\n        default:\n          return 'xl';\n      }\n    });\n\n    const trading = useTrading(\n      exactIn,\n      tokenInAddress,\n      tokenInAmount,\n      tokenOutAddress,\n      tokenOutAmount\n    );\n\n    // COMPUTED\n    const { errorMessage } = useValidation(\n      tokenInAddress,\n      tokenInAmount,\n      tokenOutAddress,\n      tokenOutAmount,\n      trading.tokens\n    );\n\n    const tradeDisabled = computed(\n      () =>\n        errorMessage.value !== TradeValidation.VALID ||\n        (trading.isGnosisTrade.value && trading.gnosis.hasErrors.value)\n    );\n\n    useTokenApprovalGP(tokenInAddress, tokenInAmount);\n\n    const title = computed(() => {\n      if (trading.isWrap.value) {\n        return `${t('wrap')} ${ETHER.symbol}`;\n      }\n      if (trading.isUnwrap.value) {\n        return `${t('unwrap')} ${ETHER.symbol}`;\n      }\n      return t('trade');\n    });\n\n    const error = computed(() => {\n      if (trading.gnosis.errors.value.feeExceedsPrice) {\n        return {\n          header: 'Low amount',\n          body: 'Fees exceeds from amount'\n        };\n      }\n      switch (errorMessage.value) {\n        case TradeValidation.NO_ETHER:\n          return {\n            header: t('noEth'),\n            body: t('noEthDetailed')\n          };\n        case TradeValidation.NO_BALANCE:\n          return {\n            header: t('insufficientBalance'),\n            body: t('insufficientBalanceDetailed')\n          };\n        case TradeValidation.NO_LIQUIDITY:\n          return {\n            header: t('insufficientLiquidity'),\n            body: t('insufficientLiquidityDetailed')\n          };\n        default:\n          return undefined;\n      }\n    });\n\n    // METHODS\n    function handleErrorButtonClick() {\n      console.log('TOOD: implement if needed');\n    }\n\n    function trade() {\n      trading.trade(() => {\n        modalTradePreviewIsOpen.value = false;\n      });\n    }\n\n    async function populateInitialTokens(): Promise<void> {\n      let assetIn = router.currentRoute.value.params.assetIn as string;\n\n      if (assetIn === ETHER.deeplinkId) {\n        assetIn = ETHER.address;\n      } else if (isAddress(assetIn)) {\n        assetIn = getAddress(assetIn);\n      }\n\n      let assetOut = router.currentRoute.value.params.assetOut as string;\n\n      if (assetOut === ETHER.deeplinkId) {\n        assetOut = ETHER.address;\n      } else if (isAddress(assetOut)) {\n        assetOut = getAddress(assetOut);\n      }\n\n      tokenInAddress.value = assetIn || store.state.trade.inputAsset;\n      tokenOutAddress.value = assetOut || store.state.trade.outputAsset;\n    }\n\n    // INIT\n    populateInitialTokens();\n\n    return {\n      // constants\n      TOKENS,\n      // context\n      TradeSettingsContext,\n\n      // data\n      tokenInAddress,\n      tokenInAmount,\n      tokenOutAddress,\n      tokenOutAmount,\n      modalTradePreviewIsOpen,\n      exactIn,\n      trading,\n\n      // computed\n      title,\n      error,\n      errorMessage,\n      isRequired,\n      tradeDisabled,\n      tradeCardShadow,\n\n      // methods\n      handleErrorButtonClick,\n      trade\n    };\n  }\n});\n","import { render } from \"./TradeCardGP.vue?vue&type=template&id=6659fcb8\"\nimport script from \"./TradeCardGP.vue?vue&type=script&lang=ts\"\nexport * from \"./TradeCardGP.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\n\nimport TradeCard from '@/components/cards/TradeCard/TradeCard.vue';\nimport TradeCardGP from '@/components/cards/TradeCardGP/TradeCardGP.vue';\nimport useTokenLists from '@/composables/useTokensStore';\nimport { TradeInterface } from '@/store/modules/app';\nimport usePoolFilters from '@/composables/pools/usePoolFilters';\n\nexport default defineComponent({\n  components: {\n    TradeCard,\n    TradeCardGP\n  },\n\n  setup() {\n    // COMPOSABLES\n    const store = useStore();\n    const { isLoading: isLoadingTokens } = useTokenLists();\n    const { setSelectedTokens } = usePoolFilters();\n\n    // COMPUTED\n    const appLoading = computed(() => store.state.app.loading);\n    const tradeInterface = computed(() => store.state.app.tradeInterface);\n\n    onMounted(() => {\n      // selectedPoolTokens are only persisted between the Home/Pool pages\n      setSelectedTokens([]);\n    });\n\n    return {\n      appLoading,\n      tradeInterface,\n      isLoadingTokens,\n      TradeInterface\n    };\n  }\n});\n","import { render } from \"./Trade.vue?vue&type=template&id=7a0cd0b9&scoped=true\"\nimport script from \"./Trade.vue?vue&type=script&lang=ts\"\nexport * from \"./Trade.vue?vue&type=script&lang=ts\"\n\nimport \"./Trade.vue?vue&type=style&index=0&id=7a0cd0b9&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-7a0cd0b9\"\n\nexport default script","import { createRouter, createWebHashHistory, RouteRecordRaw } from 'vue-router';\nimport Home from '@/pages/Home.vue';\nimport Pool from '@/pages/Pool.vue';\nimport Trade from '@/pages/Trade.vue';\n\nconst routes: RouteRecordRaw[] = [\n  { path: '/', name: 'home', component: Home },\n  { path: '/trade/:assetIn?/:assetOut?', name: 'trade', component: Trade },\n  {\n    path: '/swap/:assetIn?/:assetOut?',\n    redirect: to => {\n      return `/trade${to.path.split('/swap')[1]}`;\n    }\n  },\n  { path: '/pool/:id', name: 'pool', component: Pool },\n  { path: '/:pathMatch(.*)*', name: 'not-found', redirect: '/' }\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes,\n  scrollBehavior() {\n    return { top: 0 };\n  }\n});\n\nexport default router;\n","import { shorten } from '@/lib/utils';\n\nexport default {\n  methods: {\n    _shorten(str: string, key: string): string {\n      if (!str) return str;\n      let limit;\n      if (key === 'symbol') limit = 6;\n      if (key === 'name') limit = 18;\n      if (key === 'choice') limit = 12;\n      if (limit)\n        return str.length > limit ? `${str.slice(0, limit).trim()}...` : str;\n      return shorten(str);\n    },\n    _ipfsUrl(ipfsHash: string): string {\n      return `https://${process.env.VUE_APP_IPFS_NODE}/ipfs/${ipfsHash}`;\n    },\n    _url(url) {\n      if (!url) return '';\n      return url\n        .replace('ipfs://', `https://${process.env.VUE_APP_IPFS_NODE}/ipfs/`)\n        .replace('ipns://', `https://${process.env.VUE_APP_IPFS_NODE}/ipns/`);\n    }\n  }\n};\n","import { QueryClient, VUE_QUERY_CLIENT } from 'vue-query';\n\nexport default {\n  install: app => {\n    const queryClient = new QueryClient();\n\n    queryClient.mount();\n\n    // Make plugin available in options API\n    app.config.globalProperties.$queryClient = queryClient || {};\n\n    // Make plugin available in composition API\n    app.provide(VUE_QUERY_CLIENT, queryClient);\n  }\n};\n","import { App } from 'vue';\nimport { captureException, init, setTag } from '@sentry/browser';\nimport { Integrations } from '@sentry/tracing';\nimport { version } from '../../package.json';\n\n// Using Sentry's vanila JS package (@sentry/browser) here instead of\n// the official vue package (@sentry/vue) because it doesn't support vue 3 yet.\n// https://github.com/getsentry/sentry-javascript/issues/2925\n\nconst ENV = process.env.VUE_APP_ENV || 'development';\nconst NETWORK = process.env.VUE_APP_NETWORK || '42';\nconst networkMap = {\n  '1': 'mainnet',\n  '42': 'kovan',\n  '137': 'polygon'\n};\nconst environment = `${ENV}-${networkMap[NETWORK]}`;\nconst release = `frontend-v2@${version}`;\n\nexport default function initSentry(app: App) {\n  if (['production', 'staging'].includes(ENV)) {\n    app.config.errorHandler = (error, _, info) => {\n      try {\n        setTag('info', info);\n        captureException(error, {\n          extra: {\n            error: error\n          }\n        });\n      } catch (error) {\n        console.error('Failed to send error to Sentry', error);\n      }\n    };\n\n    init({\n      dsn:\n        'https://d292b6ec7b6e4aa2801d972e06cb232c@o574636.ingest.sentry.io/5725878',\n      integrations: [new Integrations.BrowserTracing()],\n      tracesSampleRate: 1.0,\n      environment,\n      release\n    });\n  }\n}\n","import { App } from 'vue';\n\nexport default function registerDirectives(app: App) {\n  app.directive('click-outside', {\n    beforeMount(el, binding) {\n      el.__vueOnClickOutside = function(event) {\n        const callback = binding.value;\n        const path = event.path || (event.composedPath && event.composedPath());\n\n        const isClickOutside = path\n          ? path.indexOf(el) < 0\n          : !el.contains(event.target);\n\n        if (typeof callback === 'function' && isClickOutside) {\n          callback(event);\n        }\n      };\n      document.body.addEventListener('click', el.__vueOnClickOutside);\n    },\n    unmounted(el) {\n      document.body.removeEventListener('click', el.__vueOnClickOutside);\n    }\n  });\n}\n","import { App } from 'vue';\nimport parsePath from 'parse-filepath';\n\nexport function registerGlobalComponents(app: App): void {\n  // Load global components from @/components/_global\n  const req = require.context(\n    '@/components/_global',\n    true,\n    /^((?!stories).)*\\.(js|ts|vue)$/i\n  );\n  for (const filePath of req.keys()) {\n    const componentName = parsePath(filePath).name;\n    if (!componentName) continue;\n    const componentConfig = req(filePath);\n    app.component(componentName, componentConfig.default || componentConfig);\n  }\n}\n","import { createApp } from 'vue';\nimport App from '@/App.vue';\nimport store from '@/store';\nimport router from '@/plugins/router';\nimport mixins from '@/plugins/mixins';\nimport i18n from '@/plugins/i18n';\nimport blocknative from '@/plugins/blocknative';\nimport vueQuery from '@/plugins/vueQuery';\nimport initSentry from '@/plugins/sentry';\nimport registerDirectives from '@/plugins/directives';\nimport VueApexCharts from 'vue3-apexcharts';\nimport { registerGlobalComponents } from '@/plugins/components';\nimport Web3Plugin from '@/services/web3/web3.plugin';\nimport { use } from 'echarts/core';\nimport { LineChart } from 'echarts/charts';\nimport {\n  TitleComponent,\n  TooltipComponent,\n  GridComponent,\n  LegendComponent,\n  ToolboxComponent,\n  MarkPointComponent,\n  MarkLineComponent\n} from 'echarts/components';\nimport VueVirtualScroller from 'vue3-virtual-scroller';\nimport { CanvasRenderer } from 'echarts/renderers';\nimport '@/assets/css/tailwind.css';\nimport '@/assets/css/index.css';\nimport 'vue3-virtual-scroller/dist/vue3-virtual-scroller.css';\nimport { Web3Provider } from '@ethersproject/providers';\n\nuse([\n  TitleComponent,\n  TooltipComponent,\n  CanvasRenderer,\n  LineChart,\n  GridComponent,\n  LegendComponent,\n  ToolboxComponent,\n  MarkPointComponent,\n  MarkLineComponent\n]);\n\nconst app = createApp(App)\n  .use(i18n)\n  .use(router)\n  .use(store)\n  .use(blocknative)\n  .use(VueApexCharts)\n  .use(vueQuery)\n  .use(VueVirtualScroller)\n  .use(Web3Plugin, Web3Provider)\n  .mixin(mixins);\n\nregisterDirectives(app);\nregisterGlobalComponents(app);\ninitSentry(app);\n\napp.mount('#app');\n\nexport default app;\n","<template>\n  <img\n    v-if=\"iconURL && !error\"\n    :src=\"_url(iconURL)\"\n    :style=\"{\n      width: `${size}px`,\n      height: `${size}px`\n    }\"\n    @error=\"error = true\"\n    class=\"rounded-full inline-block bg-white leading-none shadow-sm\"\n  />\n  <Avatar v-else :address=\"address\" :size=\"size\" />\n</template>\n\n<script>\nimport { defineComponent, toRefs, ref, computed, watch } from 'vue';\nimport useTokens from '@/composables/useTokens';\nimport Avatar from '../../images/Avatar.vue';\n\nexport default defineComponent({\n  name: 'BalAsset',\n\n  components: {\n    Avatar\n  },\n\n  props: {\n    address: {\n      type: String,\n      required: true\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  },\n  setup(props) {\n    // COMPOSABLES\n    const { tokens } = useTokens();\n\n    // DATA\n    const { address } = toRefs(props);\n    const error = ref(false);\n\n    // COMPUTED\n    const iconURL = computed(() => {\n      const token = tokens.value[address.value];\n      if (!token) return '';\n      return token.logoURI;\n    });\n\n    watch(iconURL, newURL => {\n      if (newURL !== '') error.value = false;\n    });\n\n    return {\n      iconURL,\n      error\n    };\n  }\n});\n</script>\n","import { render } from \"./BalAsset.vue?vue&type=template&id=4bb1a0ed\"\nimport script from \"./BalAsset.vue?vue&type=script&lang=js\"\nexport * from \"./BalAsset.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export const MAINNET_GOALS = {\n  ClickPoolsTableRow: 'NISBIX8B',\n  ClickHeroConnectWallet: 'EIWJBKAR',\n  ClickHeroLearnMore: 'HCF8QUTE',\n  ClickNavConnectWallet: 'ZIFARDWY',\n  ClickNavTrade: 'JKBUPMVR',\n  ClickNavInvest: 'XDOFAMCI',\n  ClickNavLogo: 'OT9IBNCJ',\n  ClickInvestSettings: 'ZNU2DISP',\n  ClickTradeSettings: '1M2HMAYJ',\n  ClickInvest: 'BRT10IGE',\n  ClickWithdraw: 'P5GBF31M',\n  Invested: 'KN2G0QUT',\n  Withdrawal: 'X4NINEBD',\n  ConnectedWallet: '2QHQLTRF',\n  ClickSwap: 'OGZ8QPE8',\n  Swapped: 'VYZUMRKD'\n};\n\nexport const POLYGON_GOALS = {\n  ClickPoolsTableRow: '5RT8Q9KZ',\n  ClickHeroConnectWallet: 'I8P8QBXP',\n  ClickHeroLearnMore: 'ICVACFRJ',\n  ClickNavConnectWallet: 'HZQOCQ1G',\n  ClickNavTrade: 'CGQREIWO',\n  ClickNavInvest: 'ENSNQJPP',\n  ClickNavLogo: 'IQPSAOJ5',\n  ClickInvestSettings: 'VN3WDRQD',\n  ClickTradeSettings: 'E6TS9Z3I',\n  ClickInvest: 'GHXZHXM9',\n  ClickWithdraw: 'GVMC8LT9',\n  Invested: 'LFVDQ2JU',\n  Withdrawal: 'AIWFJX9X',\n  ConnectedWallet: 'NG87QMMZ',\n  ClickSwap: 'MJFXHNG6',\n  Swapped: 'I7LE2TCF'\n};\n\nexport const GOALS_MAP = {\n  '1': MAINNET_GOALS,\n  '137': POLYGON_GOALS\n};\n","import ConfigService from '../config/config.service';\nimport { GOALS_MAP } from '@/constants/fathom';\n\nexport class Goals {\n  ClickPoolsTableRow = '';\n  ClickHeroConnectWallet = '';\n  ClickHeroLearnMore = '';\n  ClickNavConnectWallet = '';\n  ClickNavTrade = '';\n  ClickNavInvest = '';\n  ClickNavLogo = '';\n  ClickInvestSettings = '';\n  ClickTradeSettings = '';\n  ClickInvest = '';\n  ClickWithdraw = '';\n  Invested = '';\n  Withdrawal = '';\n  ConnectedWallet = '';\n  ClickSwap = '';\n  Swapped = '';\n\n  constructor(configService = new ConfigService(), goalsMap = GOALS_MAP) {\n    const appNetworkGoals = goalsMap[configService.network.key];\n\n    if (appNetworkGoals) {\n      Object.keys(appNetworkGoals).forEach(key => {\n        this[key] = appNetworkGoals[key];\n      });\n    }\n  }\n}\n","import { Goals } from '@/services/fathom/goals';\n\ninterface Fathom {\n  trackPageview: (opts?: PageViewOptions) => void;\n  trackGoal: (code: string, cents: number) => void;\n}\n\nexport type PageViewOptions = {\n  url?: string;\n  referrer?: string;\n};\n\ntype FathomCommand =\n  | { type: 'trackPageview'; opts: PageViewOptions | undefined }\n  | { type: 'trackGoal'; code: string; cents: number };\n\ndeclare global {\n  interface Window {\n    fathom?: Fathom;\n    __fathomClientQueue: FathomCommand[];\n  }\n}\n\nconst goals = new Goals();\n\nexport default function useFathom() {\n  function trackGoal(goal: string, value = 0) {\n    if (!window.fathom) return;\n    try {\n      window.fathom.trackGoal(goal, value);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  return { trackGoal, Goals: goals };\n}\n","import { getProfile } from '@/lib/utils/profile';\nimport { computed, inject, reactive, ref, watch } from 'vue';\nimport { useQuery } from 'vue-query';\nimport { Web3Plugin, Web3ProviderSymbol } from './web3.plugin';\nimport { Web3Provider } from '@ethersproject/providers';\nimport QUERY_KEYS from '@/constants/queryKeys';\nimport ConfigService from '../config/config.service';\nimport RpcProviderService from '../rpc-provider/rpc-provider.service';\nimport { isAddress } from '@ethersproject/address';\n\nconst isWalletSelectVisible = ref(false);\nconst rpcProviderService = new RpcProviderService();\nconst blockNumber = ref(0);\n\nexport default function useVueWeb3() {\n  const {\n    account,\n    chainId,\n    connector,\n    provider,\n    walletState,\n    signer,\n    disconnectWallet,\n    connectWallet\n  } = inject(Web3ProviderSymbol) as Web3Plugin;\n  const configService = new ConfigService();\n  const appNetworkConfig = configService.network;\n  const isV1Supported = isAddress(\n    configService.network.addresses.exchangeProxy\n  );\n\n  // COMPUTED REFS + COMPUTED REFS\n  const userNetworkConfig = computed(() =>\n    configService.getNetworkConfig(String(chainId.value))\n  );\n  const isWalletReady = computed(() => walletState.value === 'connected');\n  const isMainnet = computed(() => appNetworkConfig.chainId === 1);\n  const isPolygon = computed(() => appNetworkConfig.chainId === 137);\n  const canLoadProfile = computed(\n    () => account.value !== '' && userNetworkConfig.value?.chainId !== 0\n  );\n  const isMismatchedNetwork = computed(() => {\n    return (\n      isWalletReady.value &&\n      userNetworkConfig.value?.key !== process.env.VUE_APP_NETWORK\n    );\n  });\n  const isUnsupportedNetwork = computed(\n    () => isWalletReady.value && !userNetworkConfig.value?.key\n  );\n  const explorerLinks = {\n    txLink: (txHash: string) =>\n      `${configService.network.explorer}/tx/${txHash}`,\n    addressLink: (address: string) =>\n      `${configService.network.explorer}/address/${address}`,\n    tokenLink: (address: string) =>\n      `${configService.network.explorer}/token/${address}`\n  };\n\n  // METHODS\n  rpcProviderService.initBlockListener(\n    _blockNumber => (blockNumber.value = _blockNumber)\n  );\n  const getProvider = () => new Web3Provider(provider.value as any);\n  const getSigner = () => getProvider().getSigner();\n  const toggleWalletSelectModal = (value: boolean) => {\n    if (value !== undefined && typeof value === 'boolean') {\n      isWalletSelectVisible.value = value;\n      return;\n    }\n    isWalletSelectVisible.value = !isWalletSelectVisible.value;\n  };\n\n  const { isLoading: isLoadingProfile, data: profile } = useQuery(\n    QUERY_KEYS.Account.Profile(account, userNetworkConfig),\n    () => getProfile(account.value, String(userNetworkConfig.value?.chainId)),\n    reactive({\n      enabled: canLoadProfile\n    })\n  );\n\n  // WATCHERS\n  watch(account, () => {\n    // if the account ref has changed, we know that\n    // the user has successfully connected a wallet\n    toggleWalletSelectModal(false);\n  });\n\n  return {\n    // refs\n    account,\n    chainId,\n    profile,\n    connector,\n    provider,\n    walletState,\n    userNetworkConfig,\n    appNetworkConfig,\n    isLoadingProfile,\n    isWalletReady,\n    isWalletSelectVisible,\n    isMismatchedNetwork,\n    isUnsupportedNetwork,\n    explorerLinks,\n    signer,\n    blockNumber,\n    isV1Supported,\n    isMainnet,\n    isPolygon,\n\n    // methods\n    connectWallet,\n    getProvider,\n    getSigner,\n    disconnectWallet,\n    toggleWalletSelectModal\n  };\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalToggle.vue?vue&type=style&index=0&id=2d19c7e8&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalSelectInput.vue?vue&type=style&index=0&id=474f5c04&scoped=true&lang=css\"","var map = {\n\t\"./BalAlert/BalAlert.vue\": \"b093\",\n\t\"./BalAsset/BalAsset.vue\": \"cf73\",\n\t\"./BalAsset/BalAssetSet.vue\": \"f109\",\n\t\"./BalBlankSlate/BalBlankSlate.vue\": \"53f0\",\n\t\"./BalBtn/BalBtn.vue\": \"c9dc\",\n\t\"./BalBtnGroup/BalBtnGroup.vue\": \"1e79\",\n\t\"./BalCard/BalCard.vue\": \"5eef\",\n\t\"./BalCheckbox/BalCheckbox.vue\": \"f635\",\n\t\"./BalChip/BalChip.vue\": \"76d0\",\n\t\"./BalForm/BalForm.vue\": \"a970\",\n\t\"./BalIcon/BalIcon.vue\": \"4da8\",\n\t\"./BalLineChart/BalLineChart.vue\": \"de5a\",\n\t\"./BalLink/BalLink.vue\": \"aa4a\",\n\t\"./BalLoadingBlock/BalLoadingBlock.vue\": \"7968\",\n\t\"./BalLoadingIcon/BalLoadingIcon.vue\": \"91f3\",\n\t\"./BalModal/BalModal.vue\": \"6087\",\n\t\"./BalPopover/BalPopover.vue\": \"6402\",\n\t\"./BalRadio/BalRadio.vue\": \"bad7\",\n\t\"./BalRangeInput/BalRangeInput.vue\": \"6908\",\n\t\"./BalSelectInput/BalSelectInput.vue\": \"1ed5\",\n\t\"./BalTable/BalTable.vue\": \"a6e4\",\n\t\"./BalTabs/BalTabs.vue\": \"1920\",\n\t\"./BalTextInput/BalTextInput.vue\": \"7dd1\",\n\t\"./BalToggle/BalToggle.vue\": \"091c\",\n\t\"./BalTooltip/BalTooltip.vue\": \"f7ed\",\n\t\"./icons/ArrowDownIcon.vue\": \"5531\",\n\t\"./icons/LightBulbIcon.vue\": \"f98c\",\n\t\"./icons/MinusSquareIcon.vue\": \"6987\",\n\t\"./icons/PlusSquareIcon.vue\": \"890e\",\n\t\"./icons/SpinnerIcon.vue\": \"5d91\",\n\t\"./icons/StarsIcon.vue\": \"73ec\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"d238\";","module.exports = __webpack_public_path__ + \"img/portis.f239eb8f.svg\";","const defaultTheme = require('tailwindcss/defaultTheme');\nmodule.exports = {\n  purge: {\n    content: ['./index.html', './src/**/*.{vue,js,ts,jsx,tsx}'],\n    options: {\n      safelist: [\n        /^shadow/,\n        /^bg/,\n        /^text/,\n        /^border/,\n        /^from/,\n        /^to/,\n        /^dark:/,\n        /^hover:/,\n        'dark'\n      ]\n    }\n  },\n  darkMode: 'class', // false or 'media' or 'class'\n  theme: {\n    fontFamily: {\n      body: [\n        'Inter-Variable',\n        '-apple-system',\n        'BlinkMacSystemFont',\n        '\"Segoe UI\"',\n        'Helvetica',\n        'Arial',\n        'sans-serif',\n        '\"Apple Color Emoji\"',\n        '\"Segoe UI Emoji\"'\n      ],\n      display: [\n        '\"Tiempos Headline Medium\"',\n        'Times',\n        '\"Times New Roman\"',\n        'serif'\n      ]\n    },\n    boxShadow: {\n      sm: '0 2px 4px 0 rgba(0,0,0,0.05)',\n      DEFAULT: '0 2px 4px 0 rgba(0,0,0,0.03), 0 10px 20px 0 rgba(0,0,0,0.02)',\n      lg: '0 2px 4px 0 rgba(0,0,0,0.03), 0 10px 40px 0 rgba(0,0,0,0.05)',\n      xl: '0 2px 4px 0 rgba(0,0,0,0.05), 0 0px 40px 0 rgba(0,0,0,0.1)',\n      inner: 'inset 0 2px 4px 0 rgba(0, 0, 0, 0.05)',\n      none: 'none'\n    },\n    borderColor: theme => ({\n      ...theme('colors'),\n      DEFAULT: theme('colors.gray.100', 'currentColor')\n    }),\n    screens: {\n      xs: '440px',\n      ...defaultTheme.screens\n    },\n    extend: {\n      colors: {\n        gray: {\n          50: '#F8FAFC',\n          100: '#EAF0F6',\n          200: '#E2E8F0',\n          300: '#CBD5E1',\n          400: '#94A3B8',\n          500: '#64748B',\n          600: '#475569',\n          700: '#334155',\n          800: '#1E293B',\n          900: '#0F172A'\n        },\n        primary: {\n          50: '#53555e',\n          100: '#494b54',\n          200: '#3f414a',\n          300: '#353740',\n          400: '#2b2d36',\n          500: '#21232c',\n          600: '#171922',\n          700: '#0d0f18',\n          800: '#03050e',\n          900: '#000004'\n        },\n        'primary-dark': {\n          50: '#6a7cff',\n          100: '#6072ff',\n          200: '#5668ff',\n          300: '#4c5eff',\n          400: '#4254ff',\n          500: '#384aff',\n          600: '#2e40f5',\n          700: '#2436eb',\n          800: '#1a2ce1',\n          900: '#1022d7'\n        },\n        blue: {\n          50: '#3232ff',\n          100: '#2828ff',\n          200: '#1e1eff',\n          300: '#1414ff',\n          400: '#0a0aff',\n          500: '#0000ff',\n          600: '#0000f5',\n          700: '#0000eb',\n          800: '#0000e1',\n          900: '#0000d7'\n        },\n        pink: {\n          50: '#ff32ff',\n          100: '#ff28ff',\n          200: '#ff1eff',\n          300: '#ff14ff',\n          400: '#ff0aff',\n          500: '#ff00ff',\n          600: '#f500f5',\n          700: '#eb00eb',\n          800: '#e100e1',\n          900: '#d700d7'\n        }\n      }\n    }\n  },\n  variants: {\n    extend: {\n      margin: ['first'],\n      zIndex: ['hover'],\n      borderWidth: ['dark', 'last']\n    }\n  },\n  plugins: []\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalTooltip.vue?vue&type=style&index=0&id=02b477b0&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AppNavAlert.vue?vue&type=style&index=0&id=69d1ff81&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalLoadingIcon.vue?vue&type=style&index=0&id=cbd8a576&scoped=true&lang=css\"","import homestead from './homestead.json';\nimport kovan from './kovan.json';\nimport rinkeby from './rinkeby.json';\nimport polygon from './polygon.json';\nimport docker from './docker.json';\n\nexport interface Config {\n  key: string;\n  chainId: number;\n  name: string;\n  shortName: string;\n  network: string;\n  unknown: boolean;\n  rpc: string;\n  ws: string;\n  explorer: string;\n  subgraph: string;\n  poolsUrlV1: string;\n  poolsUrlV2: string;\n  nativeAsset: {\n    name: string;\n    address: string;\n    symbol: string;\n    decimals: number;\n    deeplinkId: string;\n    logoURI: string;\n  };\n  addresses: {\n    exchangeProxy: string;\n    merkleRedeem: string;\n    multicall: string;\n    vault: string;\n    weightedPoolFactory: string;\n    stablePoolFactory: string;\n    weth: string;\n    balancerHelpers: string;\n  };\n  strategies: Record<\n    string,\n    {\n      type: string;\n      name: string;\n    }\n  >;\n}\n\nconst config: Record<string, Config> = {\n  '1': homestead,\n  '42': kovan,\n  '4': rinkeby,\n  '137': polygon,\n  // @ts-ignore\n  '17': docker\n};\n\nexport default config;\n","<template>\n  <BalLoadingBlock v-if=\"isLoading\" class=\"h-96 mt-16\" />\n  <div v-else>\n    <div id=\"lineChartHeader\" class=\"mb-4\" v-if=\"showHeader\">\n      <h3 class=\"text-gray-800 font-semibold text-xl tracking-wider\">\n        {{ currentValue }}\n      </h3>\n      <span\n        :class=\"{\n          'text-green-400': change >= 0,\n          'text-red-400': change < 0,\n          'font-medium': true\n        }\"\n        >{{ numeral(change).format('+0.0%') }}</span\n      >\n    </div>\n    <ECharts\n      ref=\"chartInstance\"\n      :class=\"[height ? `h-${height}` : '', 'w-full']\"\n      :option=\"chartConfig\"\n      autoresize\n      @updateAxisPointer=\"handleAxisMoved\"\n      :update-options=\"{ replaceMerge: 'series' }\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, ref, computed } from 'vue';\nimport numeral from 'numeral';\nimport * as echarts from 'echarts/core';\nimport ECharts from 'vue-echarts';\nimport { last } from 'lodash';\nimport useNumbers, { Preset } from '@/composables/useNumbers';\nimport useTailwind from '@/composables/useTailwind';\n\ntype AxisMoveEvent = {\n  seriesIndex: number;\n  dataIndex: number;\n};\n\ntype ChartData = {\n  name: string;\n  values: number[];\n};\n\ntype AxisLabelFormat = {\n  xAxis?: Preset | string;\n  yAxis?: Preset | string;\n};\n\ntype PeriodOption = {\n  option: string;\n  value: string;\n};\n\nexport default defineComponent({\n  emits: ['periodSelected'],\n  props: {\n    data: {\n      type: Array as PropType<ChartData[]>,\n      required: true\n    },\n    onAxisMoved: {\n      type: Function\n    },\n    isLoading: {\n      type: Boolean,\n      default: () => false\n    },\n    currentGraphingPeriod: {\n      type: Number\n    },\n    periodOptions: {\n      type: Array as PropType<PeriodOption[]>\n    },\n    type: {\n      type: String as PropType<'category' | 'time'>,\n      default: () => 'category'\n    },\n    hideYAxis: { type: Boolean, default: false },\n    hideXAxis: { type: Boolean, default: false },\n    showHeader: {\n      type: Boolean\n    },\n    axisLabelFormatter: {\n      type: Object as PropType<AxisLabelFormat>,\n      default: () => ({})\n    },\n    color: {\n      type: Array as PropType<string[]>\n    },\n    height: {\n      type: String\n    },\n    showLegend: {\n      type: Boolean\n    },\n    legendState: {\n      type: Object\n    }\n  },\n  components: {\n    ECharts\n  },\n  setup(props) {\n    const chartInstance = ref<echarts.ECharts>();\n    const lineChart = ref<HTMLElement>();\n    const currentValue = ref('$0,00');\n    const change = ref(0);\n    const { fNum } = useNumbers();\n    const tailwind = useTailwind();\n\n    // https://echarts.apache.org/en/option.html\n    const chartConfig = computed(() => ({\n      // controls the legend you see at the top\n      // formatter allows us to show the latest value for each series\n      legend: {\n        show: props.showLegend,\n        left: 0,\n        top: 0,\n        icon: 'roundRect',\n        itemHeight: 5,\n        formatter: (legendName: string) => {\n          const latestValue = last(\n            props.data.find(d => d.name === legendName)?.values as any\n          ) as [string | number, string | number];\n          return `${legendName}: ${fNum(latestValue[1], null, {\n            format: props.axisLabelFormatter.yAxis\n          })}`;\n        },\n        selected: props.legendState\n      },\n      // controlling the display of the X-Axis\n      xAxis: {\n        type: 'time',\n        show: !props.hideXAxis,\n        axisTick: { show: true, alignWithLabel: true },\n        axisLine: {\n          onZero: false,\n          lineStyle: { color: tailwind.theme.colors.gray['100'] }\n        },\n        axisLabel: {\n          formatter: props.axisLabelFormatter.xAxis\n            ? value =>\n                fNum(value, null, { format: props.axisLabelFormatter.xAxis })\n            : undefined,\n          color: tailwind.theme.colors.gray['400']\n        }\n      },\n      // controlling the display of the Y-Axis\n      yAxis: {\n        axisLine: {\n          show: true,\n          lineStyle: { color: tailwind.theme.colors.gray['100'] }\n        },\n        type: 'value',\n        show: !props.hideYAxis,\n        splitNumber: 4,\n        splitLine: {\n          show: false\n        },\n        position: 'right',\n        axisLabel: {\n          show: true,\n          formatter: props.axisLabelFormatter.yAxis\n            ? value =>\n                fNum(value, null, { format: props.axisLabelFormatter.yAxis })\n            : undefined,\n          color: tailwind.theme.colors.gray['400']\n        },\n        nameGap: 25\n      },\n      color: props.color,\n      // Controls the boundaries of the chart from the HTML defined rectangle\n      grid: {\n        left: '2.5%',\n        right: 0,\n        top: '10%',\n        bottom: '5%',\n        containLabel: true\n      },\n      tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n          type: 'shadow',\n          label: {\n            show: false\n          }\n        },\n        formatter: params => {\n          return `\n            <div class='flex flex-col font-body'>\n              <span>${params[0].value[0]}</span>\n              ${params\n                .map(\n                  param => `\n                <span>\n                ${param.marker} ${\n                    param.seriesName\n                  } <span class='font-medium'>${fNum(param.value[1], null, {\n                    format: props.axisLabelFormatter.yAxis\n                  })}\n                  </span>\n                </span>\n              `\n                )\n                .join('')}\n            </div>\n          `;\n        }\n      },\n      series: props.data.map((d, i) => ({\n        data: d.values,\n        type: 'line',\n        smooth: 0.3,\n        showSymbol: false,\n        name: d.name,\n        silent: true,\n        animationEasing: function(k) {\n          return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n        },\n        lineStyle: {\n          width: 2\n        },\n        // This is a retrofitted option to show the small pill with the\n        // latest value of the series at the end of the line on the RHS\n        // the line is hidden, but the label is shown with extra styles\n        markLine: {\n          symbol: 'roundRect',\n          symbolSize: 0,\n          lineStyle: {\n            color: 'rgba(0, 0, 0, 0)'\n          },\n          precision: 5,\n          label: {\n            backgroundColor: (props.color || [])[i] || 'black',\n            borderRadius: 3,\n            padding: 4,\n            formatter: (params: any) => {\n              return fNum(params.data.yAxis, null, {\n                format: props.axisLabelFormatter.yAxis\n              });\n            },\n            color: '#FFF',\n            fontSize: 10\n          },\n          data: [\n            {\n              name: 'Latest',\n              yAxis: (last(props.data[i].values) || [])[1]\n            }\n          ]\n        }\n      }))\n    }));\n\n    // Triggered when hovering mouse over different xAxis points\n    const handleAxisMoved = ({ dataIndex, seriesIndex }: AxisMoveEvent) => {\n      if (!props.showHeader) return;\n      props.onAxisMoved &&\n        props.onAxisMoved(props.data[seriesIndex].values[dataIndex]);\n      currentValue.value = numeral(props.data[dataIndex]).format('$0,0.00');\n\n      // no change if first point in the chart\n      if (dataIndex === 0) {\n        change.value = 0;\n      } else {\n        const prev = props.data[seriesIndex].values[dataIndex - 1] as number;\n        const current = props.data[seriesIndex].values[dataIndex] as number;\n        const _change = (current - prev) / prev;\n\n        // 100% increase if coming from a 0!\n        if (prev === 0 && current !== 0) {\n          change.value = 1;\n          return;\n        }\n\n        // any errors or 0 division, fall back to 0\n        if (isNaN(_change)) {\n          change.value = 0;\n          return;\n        }\n        change.value = _change;\n      }\n    };\n\n    return {\n      //refs\n      chartInstance,\n      lineChart,\n\n      // methods\n      handleAxisMoved,\n      numeral,\n\n      // data\n      currentValue,\n      change,\n\n      // computed\n      chartConfig\n    };\n  }\n});\n</script>\n","\nimport { defineComponent, PropType, ref, computed } from 'vue';\nimport numeral from 'numeral';\nimport * as echarts from 'echarts/core';\nimport ECharts from 'vue-echarts';\nimport { last } from 'lodash';\nimport useNumbers, { Preset } from '@/composables/useNumbers';\nimport useTailwind from '@/composables/useTailwind';\n\ntype AxisMoveEvent = {\n  seriesIndex: number;\n  dataIndex: number;\n};\n\ntype ChartData = {\n  name: string;\n  values: number[];\n};\n\ntype AxisLabelFormat = {\n  xAxis?: Preset | string;\n  yAxis?: Preset | string;\n};\n\ntype PeriodOption = {\n  option: string;\n  value: string;\n};\n\nexport default defineComponent({\n  emits: ['periodSelected'],\n  props: {\n    data: {\n      type: Array as PropType<ChartData[]>,\n      required: true\n    },\n    onAxisMoved: {\n      type: Function\n    },\n    isLoading: {\n      type: Boolean,\n      default: () => false\n    },\n    currentGraphingPeriod: {\n      type: Number\n    },\n    periodOptions: {\n      type: Array as PropType<PeriodOption[]>\n    },\n    type: {\n      type: String as PropType<'category' | 'time'>,\n      default: () => 'category'\n    },\n    hideYAxis: { type: Boolean, default: false },\n    hideXAxis: { type: Boolean, default: false },\n    showHeader: {\n      type: Boolean\n    },\n    axisLabelFormatter: {\n      type: Object as PropType<AxisLabelFormat>,\n      default: () => ({})\n    },\n    color: {\n      type: Array as PropType<string[]>\n    },\n    height: {\n      type: String\n    },\n    showLegend: {\n      type: Boolean\n    },\n    legendState: {\n      type: Object\n    }\n  },\n  components: {\n    ECharts\n  },\n  setup(props) {\n    const chartInstance = ref<echarts.ECharts>();\n    const lineChart = ref<HTMLElement>();\n    const currentValue = ref('$0,00');\n    const change = ref(0);\n    const { fNum } = useNumbers();\n    const tailwind = useTailwind();\n\n    // https://echarts.apache.org/en/option.html\n    const chartConfig = computed(() => ({\n      // controls the legend you see at the top\n      // formatter allows us to show the latest value for each series\n      legend: {\n        show: props.showLegend,\n        left: 0,\n        top: 0,\n        icon: 'roundRect',\n        itemHeight: 5,\n        formatter: (legendName: string) => {\n          const latestValue = last(\n            props.data.find(d => d.name === legendName)?.values as any\n          ) as [string | number, string | number];\n          return `${legendName}: ${fNum(latestValue[1], null, {\n            format: props.axisLabelFormatter.yAxis\n          })}`;\n        },\n        selected: props.legendState\n      },\n      // controlling the display of the X-Axis\n      xAxis: {\n        type: 'time',\n        show: !props.hideXAxis,\n        axisTick: { show: true, alignWithLabel: true },\n        axisLine: {\n          onZero: false,\n          lineStyle: { color: tailwind.theme.colors.gray['100'] }\n        },\n        axisLabel: {\n          formatter: props.axisLabelFormatter.xAxis\n            ? value =>\n                fNum(value, null, { format: props.axisLabelFormatter.xAxis })\n            : undefined,\n          color: tailwind.theme.colors.gray['400']\n        }\n      },\n      // controlling the display of the Y-Axis\n      yAxis: {\n        axisLine: {\n          show: true,\n          lineStyle: { color: tailwind.theme.colors.gray['100'] }\n        },\n        type: 'value',\n        show: !props.hideYAxis,\n        splitNumber: 4,\n        splitLine: {\n          show: false\n        },\n        position: 'right',\n        axisLabel: {\n          show: true,\n          formatter: props.axisLabelFormatter.yAxis\n            ? value =>\n                fNum(value, null, { format: props.axisLabelFormatter.yAxis })\n            : undefined,\n          color: tailwind.theme.colors.gray['400']\n        },\n        nameGap: 25\n      },\n      color: props.color,\n      // Controls the boundaries of the chart from the HTML defined rectangle\n      grid: {\n        left: '2.5%',\n        right: 0,\n        top: '10%',\n        bottom: '5%',\n        containLabel: true\n      },\n      tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n          type: 'shadow',\n          label: {\n            show: false\n          }\n        },\n        formatter: params => {\n          return `\n            <div class='flex flex-col font-body'>\n              <span>${params[0].value[0]}</span>\n              ${params\n                .map(\n                  param => `\n                <span>\n                ${param.marker} ${\n                    param.seriesName\n                  } <span class='font-medium'>${fNum(param.value[1], null, {\n                    format: props.axisLabelFormatter.yAxis\n                  })}\n                  </span>\n                </span>\n              `\n                )\n                .join('')}\n            </div>\n          `;\n        }\n      },\n      series: props.data.map((d, i) => ({\n        data: d.values,\n        type: 'line',\n        smooth: 0.3,\n        showSymbol: false,\n        name: d.name,\n        silent: true,\n        animationEasing: function(k) {\n          return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n        },\n        lineStyle: {\n          width: 2\n        },\n        // This is a retrofitted option to show the small pill with the\n        // latest value of the series at the end of the line on the RHS\n        // the line is hidden, but the label is shown with extra styles\n        markLine: {\n          symbol: 'roundRect',\n          symbolSize: 0,\n          lineStyle: {\n            color: 'rgba(0, 0, 0, 0)'\n          },\n          precision: 5,\n          label: {\n            backgroundColor: (props.color || [])[i] || 'black',\n            borderRadius: 3,\n            padding: 4,\n            formatter: (params: any) => {\n              return fNum(params.data.yAxis, null, {\n                format: props.axisLabelFormatter.yAxis\n              });\n            },\n            color: '#FFF',\n            fontSize: 10\n          },\n          data: [\n            {\n              name: 'Latest',\n              yAxis: (last(props.data[i].values) || [])[1]\n            }\n          ]\n        }\n      }))\n    }));\n\n    // Triggered when hovering mouse over different xAxis points\n    const handleAxisMoved = ({ dataIndex, seriesIndex }: AxisMoveEvent) => {\n      if (!props.showHeader) return;\n      props.onAxisMoved &&\n        props.onAxisMoved(props.data[seriesIndex].values[dataIndex]);\n      currentValue.value = numeral(props.data[dataIndex]).format('$0,0.00');\n\n      // no change if first point in the chart\n      if (dataIndex === 0) {\n        change.value = 0;\n      } else {\n        const prev = props.data[seriesIndex].values[dataIndex - 1] as number;\n        const current = props.data[seriesIndex].values[dataIndex] as number;\n        const _change = (current - prev) / prev;\n\n        // 100% increase if coming from a 0!\n        if (prev === 0 && current !== 0) {\n          change.value = 1;\n          return;\n        }\n\n        // any errors or 0 division, fall back to 0\n        if (isNaN(_change)) {\n          change.value = 0;\n          return;\n        }\n        change.value = _change;\n      }\n    };\n\n    return {\n      //refs\n      chartInstance,\n      lineChart,\n\n      // methods\n      handleAxisMoved,\n      numeral,\n\n      // data\n      currentValue,\n      change,\n\n      // computed\n      chartConfig\n    };\n  }\n});\n","import { render } from \"./BalLineChart.vue?vue&type=template&id=be4c7b04\"\nimport script from \"./BalLineChart.vue?vue&type=script&lang=ts\"\nexport * from \"./BalLineChart.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","export async function ipfsGet(\n  gateway: string,\n  ipfsHash: string,\n  protocolType = 'ipfs'\n) {\n  const url = `https://${gateway}/${protocolType}/${ipfsHash}`;\n  return fetch(url).then(res => res.json());\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BalTextInput.vue?vue&type=style&index=0&id=77df3ea9&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/logo-light.d14c9e49.png\";","module.exports = __webpack_public_path__ + \"img/trustwallet.92243466.svg\";","<template>\n  <div\n    class=\"relative\"\n    :style=\"{\n      width: `${width}px`,\n      height: `${size}px`\n    }\"\n  >\n    <BalAsset\n      v-for=\"(address, i) in addresses\"\n      :key=\"i\"\n      :address=\"address\"\n      :size=\"size\"\n      class=\"z-10 absolute\"\n      :style=\"{\n        left: `${leftOffsetFor(i)}px`\n      }\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\nimport BalAsset from './BalAsset.vue';\n\nexport default defineComponent({\n  components: {\n    BalAsset\n  },\n\n  props: {\n    addresses: {\n      type: Array as PropType<string[]>,\n      required: true\n    },\n    width: {\n      type: Number,\n      default: 200\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  },\n\n  setup(props) {\n    function leftOffsetFor(i: number): number {\n      const maxCount = 8;\n      const radius = props.size / 2;\n      const spacer = (maxCount / props.addresses.length - 1) * (radius * 2);\n      return ((props.width - radius * 2 + spacer) / (maxCount - 1)) * i;\n    }\n\n    return { leftOffsetFor };\n  }\n});\n</script>\n","\nimport { defineComponent, PropType } from 'vue';\nimport BalAsset from './BalAsset.vue';\n\nexport default defineComponent({\n  components: {\n    BalAsset\n  },\n\n  props: {\n    addresses: {\n      type: Array as PropType<string[]>,\n      required: true\n    },\n    width: {\n      type: Number,\n      default: 200\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  },\n\n  setup(props) {\n    function leftOffsetFor(i: number): number {\n      const maxCount = 8;\n      const radius = props.size / 2;\n      const spacer = (maxCount / props.addresses.length - 1) * (radius * 2);\n      return ((props.width - radius * 2 + spacer) / (maxCount - 1)) * i;\n    }\n\n    return { leftOffsetFor };\n  }\n});\n","import { render } from \"./BalAssetSet.vue?vue&type=template&id=220472dc\"\nimport script from \"./BalAssetSet.vue?vue&type=script&lang=ts\"\nexport * from \"./BalAssetSet.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { Web3Provider } from '@ethersproject/providers';\nimport configs, { Config } from '@/lib/config';\nimport { getProfile } from '@/lib/utils/profile';\nimport useFathom from '@/composables/useFathom';\n\nconst defaultConfig = process.env.VUE_APP_NETWORK || '1';\n\nconst { trackGoal, Goals } = useFathom();\n\nlet auth;\n\ninterface Web3State {\n  loading: boolean;\n  account: string | null;\n  profile: {};\n  config: Config;\n  connector: string;\n  blockNumber: number | null;\n  modal: boolean;\n  loadingAccountData: boolean;\n}\n\nconst state: Web3State = {\n  loading: false,\n  account: null,\n  profile: {},\n  config: configs[defaultConfig],\n  connector: 'injected',\n  blockNumber: null,\n  modal: false,\n  loadingAccountData: false\n};\n\nconst getters = {\n  getConfig: state => () => {\n    return state.config;\n  }\n};\n\nconst actions = {\n  async login({ dispatch, commit, state }, connector = 'injected') {\n    commit('setLoading', true);\n\n    if (auth.provider.value) {\n      auth.web3 = new Web3Provider(auth.provider.value);\n      await dispatch('loadProvider');\n    }\n\n    if (state.account) trackGoal(Goals.ConnectedWallet);\n\n    commit('setLoading', false);\n    commit('setConnector', connector);\n    await dispatch('loadAccountData');\n  },\n\n  async loadAccountData({ commit, dispatch, state }) {\n    await dispatch('account/getBalances', null, { root: true });\n    await dispatch('account/getAllowances', null, { root: true });\n    if (state.account) {\n      const profile = await getProfile(state.account, state.config.key);\n      commit('setProfile', profile);\n    }\n  },\n\n  async logout({ commit, dispatch }) {\n    auth.logout();\n    commit('logout');\n    dispatch('account/resetAccount', null, { root: true });\n  },\n\n  async loadProvider({ commit }) {\n    try {\n      if (\n        auth.provider.value.removeAllListeners &&\n        !auth.provider.value.isTorus\n      )\n        if (auth.provider.value.on) {\n          // auth.provider.value.removeAllListeners();\n          // auth.provider.value.on('chainChanged', async chainId => {\n          //   commit('setLoading', true);\n          //   await dispatch('account/resetAccount', null, { root: true });\n          //   auth.web3 = new Web3Provider(auth.provider.value);\n          //   commit('setNetwork', parseInt(formatUnits(chainId, 0)));\n          //   dispatch('loadAccountData');\n          //   commit('setLoading', false);\n          // });\n          // auth.provider.value.on('accountsChanged', async accounts => {\n          //   if (accounts.length !== 0) {\n          //     commit('setLoading', true);\n          //     await dispatch('account/resetAccount', null, { root: true });\n          //     auth.web3 = new Web3Provider(auth.provider.value);\n          //     commit('setAccount', accounts[0]);\n          //     dispatch('loadAccountData');\n          //     commit('setLoading', false);\n          //   }\n          // });\n          // auth.provider.value.on('disconnect', async () => {\n          //   dispatch('account/resetAccount', null, { root: true });\n          // });\n        }\n\n      const [network, accounts] = await Promise.all([\n        auth.web3.getNetwork(),\n        auth.web3.listAccounts()\n      ]);\n\n      commit('setNetwork', network.chainId);\n\n      const account = accounts.length > 0 ? accounts[0] : null;\n\n      commit('setAccount', account);\n    } catch (e) {\n      commit('setAccount', null);\n      console.debug('LOAD_PROVIDER_FAILURE', e);\n      return Promise.reject(e);\n    }\n  }\n};\n\nconst mutations = {\n  setLoading(_state: Web3State, val: boolean): void {\n    _state.loading = val;\n  },\n\n  setLoadingAccountData(_state: Web3State, val: boolean): void {\n    _state.loadingAccountData = val;\n  },\n\n  logout(_state: Web3State) {\n    _state.account = null;\n    _state.profile = {};\n  },\n\n  setAccount(_state: Web3State, account: string): void {\n    _state.account = account;\n  },\n\n  setProfile(_state: Web3State, profile) {\n    _state.profile = profile;\n  },\n\n  setNetwork(_state: Web3State, chainId: number): void {\n    if (!configs[chainId]) {\n      configs[chainId] = {\n        ...configs[defaultConfig],\n        key: chainId.toString(),\n        chainId,\n        unknown: true,\n        shortName: ''\n      };\n    }\n    _state.config = configs[chainId];\n  },\n\n  setConnector(_state: Web3State, connector: string): void {\n    _state.connector = connector;\n  },\n\n  setBlockNumber(_state: Web3State, blockNumber: number): void {\n    _state.blockNumber = blockNumber;\n  },\n\n  setAccountModal(_state: Web3State, val: boolean) {\n    _state.modal = val;\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  getters,\n  actions\n};\n","import { Config } from '@/lib/config';\nimport configs from '@/lib/config';\n\ninterface Env {\n  APP_ENV: string;\n  NETWORK: string;\n  APP_DOMAIN: string;\n  IPFS_NODE: string;\n  BLOCKNATIVE_DAPP_ID: string;\n  PORTIS_DAPP_ID: string;\n  ENABLE_STABLE_POOLS: boolean;\n}\n\nexport default class ConfigService {\n  public get env(): Env {\n    return {\n      APP_ENV: process.env.VUE_APP_ENV || 'development',\n      NETWORK: process.env.VUE_APP_NETWORK || '1',\n      APP_DOMAIN: process.env.VUE_APP_DOMAIN || 'app.balancer.fi',\n      IPFS_NODE: process.env.VUE_APP_IPFS_NODE || 'ipfs.io',\n      BLOCKNATIVE_DAPP_ID: process.env.VUE_APP_BLOCKNATIVE_DAPP_ID || 'xxx',\n      ENABLE_STABLE_POOLS: process.env.VUE_APP_ENABLE_STABLE_POOLS === 'true',\n      PORTIS_DAPP_ID:\n        process.env.PORTIS_DAPP_ID || '3f1c3cfc-7dd5-4e8a-aa03-71ff7396d9fe'\n    };\n  }\n\n  public get network(): Config {\n    return configs[this.env.NETWORK];\n  }\n\n  public getNetworkConfig(key: string): Config {\n    return configs[key];\n  }\n}\n\nexport const configService = new ConfigService();\n","import camelCase from 'lodash/camelCase';\n\nconst requireModule = require.context('.', false, /\\.ts$/);\nconst modules = {};\n\nrequireModule.keys().forEach(fileName => {\n  if (fileName === './index.ts') return;\n  const moduleName = camelCase(fileName.replace(/(\\.\\/|\\.ts)/g, ''));\n  modules[moduleName] = requireModule(fileName).default;\n});\n\nexport default modules;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AppNavClaimBtn.vue?vue&type=style&index=0&id=7e13fe66&scoped=true&lang=css\"","<template>\n  <div :class=\"['bal-checkbox', wrapperClasses]\">\n    <div class=\"flex\">\n      <div>\n        <input\n          type=\"checkbox\"\n          :name=\"name\"\n          :checked=\"modelValue\"\n          :class=\"['bal-checkbox-input', inputClasses]\"\n          @change=\"onChange\"\n        />\n      </div>\n      <div class=\"relative ml-4 flex-col\">\n        <label\n          v-if=\"$slots.label || label\"\n          :for=\"name\"\n          :class=\"['bal-checkbox-label', labelClasses]\"\n        >\n          <slot name=\"label\">\n            {{ label }}\n          </slot>\n        </label>\n        <div v-if=\"hasError\" class=\"bal-checkbox-error\">\n          <div class=\"relative\">\n            {{ errors[0] }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, PropType, ref } from 'vue';\nimport { Rules, RuleFunction } from '@/types';\n\nexport default defineComponent({\n  name: 'BalCheckbox',\n\n  emits: ['update:modelValue'],\n\n  props: {\n    name: { type: String, required: true },\n    modelValue: { type: Boolean, default: false },\n    label: { type: String, default: '' },\n    noMargin: { type: Boolean, default: false },\n    rules: {\n      type: Array as PropType<Rules>,\n      default: () => []\n    },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val)\n    },\n    color: {\n      type: String,\n      default: 'blue',\n      validator: (val: string): boolean => ['blue'].includes(val)\n    }\n  },\n\n  setup(props, { emit }) {\n    const errors = ref([] as Array<string>);\n\n    const hasError = computed(() => errors.value.length > 0);\n\n    function validate(val: string | number): void {\n      errors.value = [];\n      props.rules.forEach((rule: RuleFunction) => {\n        const result = rule(val);\n        if (typeof result === 'string') errors.value.push(result);\n      });\n    }\n\n    function onChange(event) {\n      emit('update:modelValue', event.target.checked);\n      validate(event.target.checked);\n    }\n\n    const sizeClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'w-4 h-4 -mt-px';\n        case 'lg':\n          return 'w-6 h-6';\n        default:\n          return 'w-5 h-5 mt-1';\n      }\n    });\n\n    const textSizeClass = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'text-sm';\n        case 'lg':\n          return 'text-lg';\n        default:\n          return 'text-base';\n      }\n    });\n\n    const colorClasses = computed(() => {\n      return `text-${props.color}-500`;\n    });\n\n    const wrapperClasses = computed(() => {\n      return {\n        'mb-5': !props.noMargin\n      };\n    });\n\n    const inputClasses = computed(() => {\n      return {\n        [sizeClasses.value]: true,\n        [colorClasses.value]: true\n      };\n    });\n\n    const labelClasses = computed(() => {\n      return {\n        [textSizeClass.value]: true\n      };\n    });\n\n    return {\n      wrapperClasses,\n      inputClasses,\n      labelClasses,\n      validate,\n      hasError,\n      errors,\n      onChange\n    };\n  }\n});\n</script>\n\n<style>\n.bal-checkbox {\n  @apply relative;\n}\n\n.bal-checkbox-input {\n  @apply text-blue-500 bg-white border rounded leading-none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  -webkit-print-color-adjust: exact;\n  color-adjust: exact;\n  vertical-align: middle;\n  background-origin: border-box;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.bal-checkbox-input:checked {\n  background-image: url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M5.707 7.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L7 8.586 5.707 7.293z'/%3e%3c/svg%3e\");\n  border-color: transparent;\n  background-color: currentColor;\n  background-size: 100% 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.bal-checkbox-error {\n  @apply absolute text-red-500 text-sm;\n}\n</style>\n","\nimport { defineComponent, computed, PropType, ref } from 'vue';\nimport { Rules, RuleFunction } from '@/types';\n\nexport default defineComponent({\n  name: 'BalCheckbox',\n\n  emits: ['update:modelValue'],\n\n  props: {\n    name: { type: String, required: true },\n    modelValue: { type: Boolean, default: false },\n    label: { type: String, default: '' },\n    noMargin: { type: Boolean, default: false },\n    rules: {\n      type: Array as PropType<Rules>,\n      default: () => []\n    },\n    size: {\n      type: String,\n      default: 'md',\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val)\n    },\n    color: {\n      type: String,\n      default: 'blue',\n      validator: (val: string): boolean => ['blue'].includes(val)\n    }\n  },\n\n  setup(props, { emit }) {\n    const errors = ref([] as Array<string>);\n\n    const hasError = computed(() => errors.value.length > 0);\n\n    function validate(val: string | number): void {\n      errors.value = [];\n      props.rules.forEach((rule: RuleFunction) => {\n        const result = rule(val);\n        if (typeof result === 'string') errors.value.push(result);\n      });\n    }\n\n    function onChange(event) {\n      emit('update:modelValue', event.target.checked);\n      validate(event.target.checked);\n    }\n\n    const sizeClasses = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'w-4 h-4 -mt-px';\n        case 'lg':\n          return 'w-6 h-6';\n        default:\n          return 'w-5 h-5 mt-1';\n      }\n    });\n\n    const textSizeClass = computed(() => {\n      switch (props.size) {\n        case 'sm':\n          return 'text-sm';\n        case 'lg':\n          return 'text-lg';\n        default:\n          return 'text-base';\n      }\n    });\n\n    const colorClasses = computed(() => {\n      return `text-${props.color}-500`;\n    });\n\n    const wrapperClasses = computed(() => {\n      return {\n        'mb-5': !props.noMargin\n      };\n    });\n\n    const inputClasses = computed(() => {\n      return {\n        [sizeClasses.value]: true,\n        [colorClasses.value]: true\n      };\n    });\n\n    const labelClasses = computed(() => {\n      return {\n        [textSizeClass.value]: true\n      };\n    });\n\n    return {\n      wrapperClasses,\n      inputClasses,\n      labelClasses,\n      validate,\n      hasError,\n      errors,\n      onChange\n    };\n  }\n});\n","import { render } from \"./BalCheckbox.vue?vue&type=template&id=3fa34342\"\nimport script from \"./BalCheckbox.vue?vue&type=script&lang=ts\"\nexport * from \"./BalCheckbox.vue?vue&type=script&lang=ts\"\n\nimport \"./BalCheckbox.vue?vue&type=style&index=0&id=3fa34342&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TradeSettingsPopover.vue?vue&type=style&index=0&id=068281da&lang=css\"","import resolveConfig from 'tailwindcss/resolveConfig';\nimport tailwindConfig from '../../tailwind.config.js';\n\nexport default function useTailwind() {\n  return resolveConfig(tailwindConfig);\n}\n","import BigNumber from 'bignumber.js';\nimport pkg from '@/../package.json';\n\nexport function shorten(str = '') {\n  return `${str.slice(0, 6)}...${str.slice(str.length - 4)}`;\n}\n\nexport function jsonParse(input, fallback?) {\n  if (typeof input !== 'string') {\n    if (fallback === null) return null;\n    return fallback || {};\n  }\n  try {\n    return JSON.parse(input);\n  } catch (err) {\n    if (fallback === null) return null;\n    return fallback || {};\n  }\n}\n\nexport async function sleep(time) {\n  return new Promise(resolve => {\n    setTimeout(resolve, time);\n  });\n}\n\nexport function clone(item) {\n  return JSON.parse(JSON.stringify(item));\n}\n\nexport function lsSet(key: string, value: any) {\n  return localStorage.setItem(`${pkg.name}.${key}`, JSON.stringify(value));\n}\n\nexport function lsGet(key: string, fallback?: any) {\n  const item = localStorage.getItem(`${pkg.name}.${key}`);\n  return jsonParse(item, fallback);\n}\n\nexport function lsRemove(key: string) {\n  return localStorage.removeItem(`${pkg.name}.${key}`);\n}\n\nexport function getCurrentTs() {\n  return parseInt((new Date().getTime() / 1e3).toString());\n}\n\nexport function tsToBlockNumber(currentBlockNumber, ts) {\n  const diffTs = getCurrentTs() - ts;\n  return currentBlockNumber - parseInt((diffTs / 13.35).toString());\n}\n\nexport function bnum(val: string | number | BigNumber): BigNumber {\n  const number = typeof val === 'string' ? val : val ? val.toString() : '0';\n  return new BigNumber(number);\n}\n\nexport const bnumZero = bnum(0);\n\nexport function scale(input: BigNumber, decimalPlaces: number): BigNumber {\n  const scalePow = new BigNumber(decimalPlaces.toString());\n  const scaleMul = new BigNumber(10).pow(scalePow);\n  return input.times(scaleMul);\n}\n","module.exports = __webpack_public_path__ + \"img/fortmatic.e33911f5.svg\";","<template>\n  <button\n    ref=\"activator\"\n    @mouseenter=\"handleMouseEnter\"\n    @mouseleave=\"handleMouseLeave\"\n  >\n    <slot name=\"activator\">\n      <BalIcon name=\"info\" size=\"md\" class=\"text-gray-400\" />\n    </slot>\n  </button>\n  <div\n    ref=\"content\"\n    class=\"tooltip text-xs bg-white text-black font-medium shadow rounded-md border z-50\"\n    :class=\"tooltipClasses\"\n    v-bind=\"$attrs\"\n  >\n    <slot />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, onMounted, PropType, ref } from 'vue';\nimport { createPopper, Instance as PopperInstance } from '@popperjs/core';\nimport BalIcon from '../BalIcon/BalIcon.vue';\n\ntype Placement = 'top' | 'left' | 'bottom' | 'right';\n\nexport default defineComponent({\n  name: 'Tooltip',\n  components: { BalIcon },\n  props: {\n    placement: { type: String as PropType<Placement>, default: 'top' },\n    onShow: { type: Function },\n    onHide: { type: Function },\n    noPad: { type: Boolean, default: false }\n  },\n  setup(props) {\n    const activator = ref<HTMLElement>();\n    const content = ref<HTMLElement>();\n    const popper = ref<PopperInstance>();\n\n    const tooltipClasses = computed(() => {\n      return {\n        'p-3': !props.noPad\n      };\n    });\n\n    // show the tooltip\n    const handleMouseEnter = () => {\n      if (content.value && popper.value) {\n        content.value.setAttribute('data-show', '');\n        popper.value.update();\n        props.onShow && props.onShow();\n      }\n    };\n\n    // hide the tooltip\n    const handleMouseLeave = () => {\n      if (content.value) {\n        content.value.removeAttribute('data-show');\n        props.onHide && props.onHide();\n      }\n    };\n\n    onMounted(() => {\n      if (activator.value && content.value) {\n        popper.value = createPopper(activator.value, content.value, {\n          placement: props.placement,\n          modifiers: [{ name: 'offset', options: { offset: [0, 5] } }]\n        });\n      }\n    });\n\n    return {\n      activator,\n      content,\n      handleMouseEnter,\n      handleMouseLeave,\n      tooltipClasses\n    };\n  }\n});\n</script>\n\n<style>\n.tooltip {\n  display: none;\n}\n\n.tooltip[data-show] {\n  display: block;\n}\n</style>\n","\nimport { computed, defineComponent, onMounted, PropType, ref } from 'vue';\nimport { createPopper, Instance as PopperInstance } from '@popperjs/core';\nimport BalIcon from '../BalIcon/BalIcon.vue';\n\ntype Placement = 'top' | 'left' | 'bottom' | 'right';\n\nexport default defineComponent({\n  name: 'Tooltip',\n  components: { BalIcon },\n  props: {\n    placement: { type: String as PropType<Placement>, default: 'top' },\n    onShow: { type: Function },\n    onHide: { type: Function },\n    noPad: { type: Boolean, default: false }\n  },\n  setup(props) {\n    const activator = ref<HTMLElement>();\n    const content = ref<HTMLElement>();\n    const popper = ref<PopperInstance>();\n\n    const tooltipClasses = computed(() => {\n      return {\n        'p-3': !props.noPad\n      };\n    });\n\n    // show the tooltip\n    const handleMouseEnter = () => {\n      if (content.value && popper.value) {\n        content.value.setAttribute('data-show', '');\n        popper.value.update();\n        props.onShow && props.onShow();\n      }\n    };\n\n    // hide the tooltip\n    const handleMouseLeave = () => {\n      if (content.value) {\n        content.value.removeAttribute('data-show');\n        props.onHide && props.onHide();\n      }\n    };\n\n    onMounted(() => {\n      if (activator.value && content.value) {\n        popper.value = createPopper(activator.value, content.value, {\n          placement: props.placement,\n          modifiers: [{ name: 'offset', options: { offset: [0, 5] } }]\n        });\n      }\n    });\n\n    return {\n      activator,\n      content,\n      handleMouseEnter,\n      handleMouseLeave,\n      tooltipClasses\n    };\n  }\n});\n","import { render } from \"./BalTooltip.vue?vue&type=template&id=02b477b0\"\nimport script from \"./BalTooltip.vue?vue&type=script&lang=ts\"\nexport * from \"./BalTooltip.vue?vue&type=script&lang=ts\"\n\nimport \"./BalTooltip.vue?vue&type=style&index=0&id=02b477b0&lang=css\"\nscript.render = render\n\nexport default script","// Shamelessly adapted from OpenZeppelin-contracts test utils\nimport { keccak256, keccakFromString, bufferToHex } from 'ethereumjs-util';\nimport { hexToBytes, toWei, soliditySha3 } from 'web3-utils';\n\n// Merkle tree called with 32 byte hex values\nexport class MerkleTree {\n  public elements: any;\n  public layers: any;\n\n  constructor(elements) {\n    this.elements = elements\n      .filter(el => el)\n      .map(el => Buffer.from(hexToBytes(el)));\n\n    // Sort elements\n    this.elements.sort(Buffer.compare);\n    // Deduplicate elements\n    this.elements = this.bufDedup(this.elements);\n\n    // Create layers\n    this.layers = this.getLayers(this.elements);\n  }\n\n  getLayers(elements) {\n    if (elements.length === 0) {\n      return [['']];\n    }\n\n    const layers = [];\n    // @ts-ignore\n    layers.push(elements);\n\n    // Get next layer until we reach the root\n    // @ts-ignore\n    while (layers[layers.length - 1].length > 1) {\n      // @ts-ignore\n      layers.push(this.getNextLayer(layers[layers.length - 1]));\n    }\n\n    return layers;\n  }\n\n  getNextLayer(elements) {\n    return elements.reduce((layer, el, idx, arr) => {\n      if (idx % 2 === 0) {\n        // Hash the current element with its pair element\n        layer.push(this.combinedHash(el, arr[idx + 1]));\n      }\n\n      return layer;\n    }, []);\n  }\n\n  combinedHash(first, second) {\n    if (!first) {\n      return second;\n    }\n    if (!second) {\n      return first;\n    }\n\n    return keccak256(this.sortAndConcat(first, second));\n  }\n\n  getRoot() {\n    return this.layers[this.layers.length - 1][0];\n  }\n\n  getHexRoot() {\n    return bufferToHex(this.getRoot());\n  }\n\n  getProof(el) {\n    let idx = this.bufIndexOf(el, this.elements);\n\n    if (idx === -1) {\n      throw new Error('Element does not exist in Merkle tree');\n    }\n\n    return this.layers.reduce((proof, layer) => {\n      const pairElement = this.getPairElement(idx, layer);\n\n      if (pairElement) {\n        proof.push(pairElement);\n      }\n\n      idx = Math.floor(idx / 2);\n\n      return proof;\n    }, []);\n  }\n\n  // external call - convert to buffer\n  getHexProof(_el) {\n    const el = Buffer.from(hexToBytes(_el));\n\n    const proof = this.getProof(el);\n\n    return this.bufArrToHexArr(proof);\n  }\n\n  getPairElement(idx, layer) {\n    const pairIdx = idx % 2 === 0 ? idx + 1 : idx - 1;\n\n    if (pairIdx < layer.length) {\n      return layer[pairIdx];\n    } else {\n      return null;\n    }\n  }\n\n  bufIndexOf(el, arr) {\n    let hash;\n\n    // Convert element to 32 byte hash if it is not one already\n    if (el.length !== 32 || !Buffer.isBuffer(el)) {\n      hash = keccakFromString(el);\n    } else {\n      hash = el;\n    }\n\n    for (let i = 0; i < arr.length; i++) {\n      if (hash.equals(arr[i])) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  bufDedup(elements) {\n    return elements.filter((el, idx) => {\n      return idx === 0 || !elements[idx - 1].equals(el);\n    });\n  }\n\n  bufArrToHexArr(arr) {\n    if (arr.some(el => !Buffer.isBuffer(el))) {\n      throw new Error('Array is not an array of buffers');\n    }\n\n    return arr.map(el => '0x' + el.toString('hex'));\n  }\n\n  sortAndConcat(...args) {\n    return Buffer.concat([...args].sort(Buffer.compare));\n  }\n}\n\nexport function loadTree(balances) {\n  const elements = [];\n  Object.keys(balances).forEach(address => {\n    const balance = toWei(balances[address]);\n    const leaf = soliditySha3(address, balance);\n    // @ts-ignore\n    elements.push(leaf);\n  });\n  return new MerkleTree(elements);\n}\n","<template>\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M18.4 5.6L17.7 6.3M3 12H4H3ZM12 3V4V3ZM20 12H21H20ZM5.6 5.6L6.3 6.3L5.6 5.6Z\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M18.4 5.6L17.7 6.3M3 12H4H3ZM12 3V4V3ZM20 12H21H20ZM5.6 5.6L6.3 6.3L5.6 5.6Z\"\n      stroke=\"currentColor\"\n      stroke-opacity=\"0.2\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M9 16C8.16047 15.3704 7.54033 14.4925 7.22743 13.4908C6.91453 12.4892 6.92473 11.4144 7.25658 10.4189C7.58844 9.4233 8.22512 8.55739 9.07645 7.94379C9.92778 7.33019 10.9506 7 12 7C13.0494 7 14.0722 7.33019 14.9236 7.94379C15.7749 8.55739 16.4116 9.4233 16.7434 10.4189C17.0753 11.4144 17.0855 12.4892 16.7726 13.4908C16.4597 14.4925 15.8395 15.3704 15 16C14.6096 16.3865 14.3156 16.8594 14.1419 17.3806C13.9681 17.9018 13.9195 18.4566 14 19C14 19.5304 13.7893 20.0391 13.4142 20.4142C13.0391 20.7893 12.5304 21 12 21C11.4696 21 10.9609 20.7893 10.5858 20.4142C10.2107 20.0391 10 19.5304 10 19C10.0805 18.4566 10.0319 17.9018 9.85813 17.3806C9.6844 16.8594 9.39043 16.3865 9 16\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M9 16C8.16047 15.3704 7.54033 14.4925 7.22743 13.4908C6.91453 12.4892 6.92473 11.4144 7.25658 10.4189C7.58844 9.4233 8.22512 8.55739 9.07645 7.94379C9.92778 7.33019 10.9506 7 12 7C13.0494 7 14.0722 7.33019 14.9236 7.94379C15.7749 8.55739 16.4116 9.4233 16.7434 10.4189C17.0753 11.4144 17.0855 12.4892 16.7726 13.4908C16.4597 14.4925 15.8395 15.3704 15 16C14.6096 16.3865 14.3156 16.8594 14.1419 17.3806C13.9681 17.9018 13.9195 18.4566 14 19C14 19.5304 13.7893 20.0391 13.4142 20.4142C13.0391 20.7893 12.5304 21 12 21C11.4696 21 10.9609 20.7893 10.5858 20.4142C10.2107 20.0391 10 19.5304 10 19C10.0805 18.4566 10.0319 17.9018 9.85813 17.3806C9.6844 16.8594 9.39043 16.3865 9 16\"\n      stroke=\"currentColor\"\n      stroke-opacity=\"0.2\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M9.7002 17H14.3002\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M9.7002 17H14.3002\"\n      stroke=\"currentColor\"\n      stroke-opacity=\"0.2\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n</template>\n","import { render } from \"./LightBulbIcon.vue?vue&type=template&id=9507f12a\"\nconst script = {}\nscript.render = render\n\nexport default script","import { formatUnits } from '@ethersproject/units';\nimport { getAddress, isAddress } from '@ethersproject/address';\nimport orderBy from 'lodash/orderBy';\nimport { loadTokenlist } from '@/lib/utils/tokenlists';\nimport TOKEN_LISTS, { ETHER } from '@/constants/tokenlists';\nimport { clone, lsGet, lsSet } from '@/lib/utils';\nimport injected from '@/constants/injected.json';\nimport { TokenList, TokenInfo } from '@/types/TokenList';\nimport { getTokensMeta } from '@/lib/utils/balancer/tokens';\n\nconst defaultActiveLists = {};\ndefaultActiveLists[TOKEN_LISTS.HEDG.Default] = true;\n\ninterface RegistryState {\n  activeLists: Record<string, boolean>;\n  tokenLists: Record<string, TokenList | {}>;\n  eligibleList: TokenList | {};\n  injected: TokenInfo[];\n  loading: boolean;\n}\n\nconst state: RegistryState = {\n  activeLists: lsGet('tokenLists', defaultActiveLists),\n  tokenLists: Object.fromEntries(\n    TOKEN_LISTS.Approved.map(tokenList => [tokenList, {}])\n  ),\n  eligibleList: {},\n  injected,\n  loading: true\n};\n\nconst getters = {\n  getEther: (state, getters, rootState) => () => {\n    const ether: any = ETHER;\n    ether.balance = 0;\n    ether.balanceDenorm = '0';\n    ether.price =\n      rootState.market.prices[ether.address.toLowerCase()]?.price || 0;\n    ether.price24HChange =\n      rootState.market.prices[ether.address.toLowerCase()]?.price24HChange || 0;\n    ether.chainId = Number(process.env.VUE_APP_NETWORK || 1);\n    if (rootState.web3.account) {\n      ether.balanceDenorm = rootState.account.balances.ether || '0';\n      ether.balance = formatUnits(ether.balanceDenorm, ether.decimals);\n      ether.value = ether.balance * ether.price;\n      ether.value24HChange =\n        (parseFloat(ether.value) / 100) * ether.price24HChange;\n    }\n    return ether;\n  },\n\n  getTokens: (state, getters, rootState) => (query: any = {}) => {\n    const { q, addresses, not, withBalance, limit, includeEther } = query;\n\n    const activeLists = Object.keys(state.tokenLists)\n      .filter(name => state.activeLists[name])\n      .reverse();\n\n    let tokens: any = {};\n    clone(state.injected).forEach(\n      token => (tokens[getAddress(token.address)] = token)\n    );\n    activeLists.forEach(name => {\n      clone(state.tokenLists[name])?.tokens?.map(\n        token => (tokens[getAddress(token.address)] = token)\n      );\n    });\n    tokens = Object.values(tokens);\n\n    tokens = tokens.filter(\n      token => token.chainId === Number(process.env.VUE_APP_NETWORK || 1)\n    );\n\n    tokens = tokens.map(token => {\n      token.balance = 0;\n      token.balanceDenorm = '0';\n      return token;\n    });\n\n    tokens = tokens.map(token => {\n      const address = token.address.toLowerCase();\n      token.price = rootState.market.prices[address]?.price || 0;\n      token.price24HChange =\n        rootState.market.prices[address]?.price24HChange || 0;\n      return token;\n    });\n\n    if (rootState.web3.account) {\n      tokens = tokens.map(token => {\n        const address = token.address.toLowerCase();\n        token.balanceDenorm = rootState.account.balances[address] || '0';\n        token.balance = formatUnits(token.balanceDenorm, token.decimals);\n        token.value = token.balance * token.price;\n        token.value24HChange =\n          (parseFloat(token.value) / 100) * token.price24HChange;\n        return token;\n      });\n      tokens = orderBy(tokens, ['value', 'balance'], ['desc', 'desc']);\n    }\n\n    // Query filters\n\n    if (includeEther) {\n      tokens = [getters.getEther(), ...tokens];\n    }\n\n    if (q) {\n      tokens = tokens.filter(token =>\n        JSON.stringify([token.address, token.symbol, token.name])\n          .toLowerCase()\n          .includes(q.toLowerCase())\n      );\n    }\n\n    if (addresses) {\n      tokens = addresses.map(\n        (address: any) =>\n          tokens.filter(\n            token => token.address.toLowerCase() === address.toLowerCase()\n          )[0]\n      );\n    }\n\n    if (limit) {\n      tokens = tokens.slice(0, limit);\n    }\n\n    if (not) tokens = tokens.filter(token => !not.includes(token.address));\n    if (withBalance) tokens = tokens.filter(token => token.balance > 0);\n\n    return Object.fromEntries(tokens.map(token => [token.address, token]));\n  },\n\n  getTokenLists: (state, getters, rootState) => ({ q, active }) => {\n    const tokenLists = clone(state.tokenLists);\n    const bingbot = Object.fromEntries(\n      Object.entries(tokenLists)\n        .map((tokenList: any) => {\n          tokenList[1].tokens = tokenList[1].tokens\n            ? tokenList[1].tokens.filter(\n                token => token.chainId === rootState.web3.config.chainId\n              )\n            : [];\n          tokenList[1].active = state.activeLists[tokenList[0]] ? 1 : 0;\n          return tokenList;\n        })\n        .filter(\n          tokenList =>\n            tokenList[1].tokens.length > 0 &&\n            (!active || (active && tokenList[1].active))\n        )\n        .filter(tokenList =>\n          q\n            ? `${tokenList[0]} ${tokenList[1].name}`\n                .toLowerCase()\n                .includes(q.toLowerCase())\n            : true\n        )\n        .sort((a, b): any => b[1].active - a[1].active)\n    );\n    return bingbot;\n  },\n\n  getInjected(_state: RegistryState) {\n    return _state.injected;\n  }\n};\n\nconst actions = {\n  async get({ dispatch, commit }) {\n    const loadAllLists = TOKEN_LISTS.Approved.map(url =>\n      dispatch('loadTokenlist', url)\n    );\n    const results = await Promise.all(loadAllLists.map(p => p.catch(e => e)));\n    const validResults = results.filter(result => !(result instanceof Error));\n    if (validResults.length === 0) {\n      throw new Error('Failed to load any TokenLists');\n    }\n    const eligibleList = await loadTokenlist(TOKEN_LISTS.HEDG.Vetted);\n    commit('setEligibleList', eligibleList);\n    commit('setLoading', false);\n  },\n\n  async loadTokenlist({ commit }, url) {\n    url = url || TOKEN_LISTS.HEDG.Default;\n    try {\n      const tokenList = await loadTokenlist(url);\n      const tokenLists = clone(state.tokenLists);\n      tokenLists[url] = tokenList;\n      commit('setTokenLists', tokenLists);\n    } catch (error) {\n      console.error('Failed to load TokenList', url, error);\n      throw error;\n    }\n  },\n\n  async injectTokens({ commit, dispatch, state }, tokens: string[]) {\n    tokens = tokens.filter(\n      token => token !== ETHER.address && isAddress(token)\n    );\n    if (tokens.length === 0) return;\n    const lists = {\n      ...state.tokenLists,\n      [TOKEN_LISTS.HEDG.Vetted]: state.eligibleList\n    };\n    const tokensMeta = await getTokensMeta(tokens, lists);\n    const injected = clone(state.injected);\n    Object.values(tokensMeta).forEach((meta: TokenInfo) => {\n      if (meta) injected.push({ ...meta, injected: true });\n    });\n    commit('setInjected', injected);\n    await dispatch('account/getBalances', null, { root: true });\n    await dispatch('account/getAllowances', { tokens }, { root: true });\n    await dispatch('market/loadPrices', tokens, { root: true });\n  },\n\n  toggleList({ commit }, name) {\n    const activeLists = clone(state.activeLists);\n    if (activeLists[name]) {\n      delete activeLists[name];\n    } else {\n      activeLists[name] = true;\n    }\n    if (Object.keys(activeLists).length > 0) {\n      lsSet('tokenLists', activeLists);\n      commit('setActiveLists', activeLists);\n    }\n  }\n};\n\nconst mutations = {\n  setLoading(_state: RegistryState, val: boolean): void {\n    _state.loading = val;\n  },\n\n  setTokenLists(\n    _state: RegistryState,\n    tokenLists: Record<string, TokenList[]>\n  ): void {\n    _state.tokenLists = tokenLists;\n  },\n\n  setInjected(_state: RegistryState, injected: TokenInfo[]): void {\n    _state.injected = injected;\n  },\n\n  setActiveLists(\n    _state: RegistryState,\n    activeLists: Record<string, boolean>\n  ): void {\n    _state.activeLists = activeLists;\n  },\n\n  setEligibleList(_state: RegistryState, list: TokenList): void {\n    _state.eligibleList = list;\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  getters,\n  actions\n};\n","const requireFile = require.context('./', true, /[\\w-]+\\.json$/);\n\nexport default Object.fromEntries(\n  requireFile\n    .keys()\n    .map(fileName => [\n      fileName.replace('./', '').replace('.json', ''),\n      requireFile(fileName)\n    ])\n);\n","import { createI18n } from 'vue-i18n';\nimport messages from '@/locales';\n\nmessages['en-US'] = messages.default;\ndelete messages.default;\n\nexport function getBrowserLocale() {\n  if (typeof navigator !== 'undefined') {\n    return (\n      navigator['userLanguage'] ||\n      navigator['language'] ||\n      (navigator.languages?.[0] ? navigator.languages[0] : undefined)\n    );\n  }\n  return undefined;\n}\n\nconst defaultLocale = 'en-US';\n// const browserLocale = getBrowserLocale();\n// Object.keys(messages).forEach(locale => {\n//   if (locale.slice(0, 2) === browserLocale.slice(0, 2)) defaultLocale = locale;\n// });\n\nconst i18n = createI18n({\n  locale: defaultLocale,\n  messages,\n  dateTimeFormats: {\n    'en-US': {\n      short: {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric'\n      }\n    }\n  }\n});\n\nexport default i18n;\n","export interface Alert {\n  label: string;\n  type: 'error' | 'info';\n  persistant: boolean;\n}\n\nexport interface AlertState {\n  current: Alert | null;\n}\n\nconst state: AlertState = {\n  current: null\n};\n\nconst mutations = {\n  setCurrent(_state: AlertState, alert: Alert): void {\n    _state.current = alert;\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations\n};\n","import { WebSocketProvider, JsonRpcProvider } from '@ethersproject/providers';\nimport ConfigService, { configService } from '@/services/config/config.service';\n\ntype NewBlockHandler = (blockNumber: number) => any;\n\nconst _wsProvider = new WebSocketProvider(configService.network.ws);\nconst _jsonProvider = new JsonRpcProvider(configService.network.rpc);\n\nexport default class RpcProviderService {\n  network: string;\n\n  constructor(\n    private readonly config: ConfigService = configService,\n    readonly wsProvider: WebSocketProvider = _wsProvider,\n    readonly jsonProvider: JsonRpcProvider = _jsonProvider\n  ) {\n    this.network = this.config.network.shortName;\n  }\n\n  public initBlockListener(newBlockHandler: NewBlockHandler): void {\n    this.wsProvider.on('block', newBlockNumber =>\n      newBlockHandler(newBlockNumber)\n    );\n  }\n\n  public async getBlockNumber(): Promise<number> {\n    return await this.jsonProvider.getBlockNumber();\n  }\n\n  public getJsonProvider(networkKey: string): JsonRpcProvider {\n    const rpcUrl = this.config.getNetworkConfig(networkKey).rpc;\n    return new JsonRpcProvider(rpcUrl);\n  }\n}\n","module.exports = __webpack_public_path__ + \"img/walletconnect.c2d87ea8.svg\";"],"sourceRoot":""}